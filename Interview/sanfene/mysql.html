<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.17" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.58" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta name="keywords" content="MySQLé¢è¯•é¢˜,MySQL,mysql,é¢è¯•é¢˜,å…«è‚¡æ–‡"><title>MySQLé¢è¯•é¢˜ï¼Œ84é“MySQLå…«è‚¡æ–‡ï¼ˆ4.4ä¸‡å­—101å¼ æ‰‹ç»˜å›¾ï¼‰ï¼Œé¢æ¸£é€†è¢­å¿…çœ‹ğŸ‘ | å°æ»¡</title><meta name="description" content="ä¸‹è½½æ¬¡æ•°è¶… 1 ä¸‡æ¬¡ï¼Œ4.4 ä¸‡å­— 101 å¼ æ‰‹ç»˜å›¾ï¼Œè¯¦è§£ 84 é“ MySQL é¢è¯•é«˜é¢‘é¢˜ï¼ˆè®©å¤©ä¸‹æ²¡æœ‰éš¾èƒŒçš„å…«è‚¡ï¼‰ï¼Œé¢æ¸£èƒŒä¼šè¿™äº› MySQL å…«è‚¡æ–‡ï¼Œè¿™æ¬¡åŠæ‰“é¢è¯•å®˜ï¼Œæˆ‘è§‰å¾—ç¨³äº†ï¼ˆæ‰‹åŠ¨ dogï¼‰ã€‚">
    <link rel="stylesheet" href="/blog/assets/css/styles.020240dc.css">
    <link rel="preload" href="/blog/assets/js/runtime~app.5bda39a5.js" as="script"><link rel="preload" href="/blog/assets/css/styles.020240dc.css" as="style"><link rel="preload" href="/blog/assets/js/49703.452efc0f.js" as="script"><link rel="preload" href="/blog/assets/js/app.3526a07b.js" as="script">
    <link rel="prefetch" href="/blog/assets/js/Interview_sanfene_javathread.html.9aac580f.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_å…¥é—¨åˆ°èµ·é£_31.å¤šçº¿ç¨‹_jucé¢å¤–æ‰©å±•èµ„æ–™_å¤šçº¿ç¨‹ï¼ˆé¢å¤–æ‰©å±•ï¼‰.html.a6be787d.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_Redis_2.å®æˆ˜_Rediså®æˆ˜ç¯‡.html.7405eb65.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_Redis_2.å®æˆ˜_Rediså®æˆ˜ç¯‡-åœ¨çº¿.html.88494933.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_sanfene_mysql.html.6190b6fc.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_MySQL_MySQLé¢æ¸£84.html.475a0f87.js" as="script"><link rel="prefetch" href="/blog/assets/js/SSM_03-Mavené«˜çº§ç¬”è®°_POMæ–‡ä»¶å¸®åŠ©æ–‡æ¡£.html.44fa84a5.js" as="script"><link rel="prefetch" href="/blog/assets/js/SSM_02-SpringMVCç¬”è®°_SpringMVC_day01_SpringMVC_day01.html.df4052b6.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_sanfene_javase.html.a7023ae3.js" as="script"><link rel="prefetch" href="/blog/assets/js/Netty_01Netty-nio.html.276942d9.js" as="script"><link rel="prefetch" href="/blog/assets/js/SSM_02-SpringMVCç¬”è®°_SpringMVC_day02_SpringMVC_day02.html.b7ebc835.js" as="script"><link rel="prefetch" href="/blog/assets/js/Netty_04Netty-ä¼˜åŒ–ä¸æºç .html.5e97573a.js" as="script"><link rel="prefetch" href="/blog/assets/js/SSM_01-Springç¬”è®°_spring_day03_Spring_day03.html.37f80bbb.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_sanfene_spring.html.df58f56d.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_Spring_Springé¢è¯•é¢˜41.html.f0c65c41.js" as="script"><link rel="prefetch" href="/blog/assets/js/SSM_05-Mybatisplusç¬”è®°_MyBatisPlus.html.0608d881.js" as="script"><link rel="prefetch" href="/blog/assets/js/Netty_03Netty-è¿›é˜¶.html.3c44d968.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_å…¥é—¨åˆ°èµ·é£_31.å¤šçº¿ç¨‹_å¤šçº¿ç¨‹02.html.cd02eee1.js" as="script"><link rel="prefetch" href="/blog/assets/js/Mybatis_Mybatis Plus_Mybatis Plusç¬”è®°.html.9365922f.js" as="script"><link rel="prefetch" href="/blog/assets/js/Linux_0.ç¬”è®°_Linuxç³»ç»Ÿè½¯ä»¶å®‰è£….html.a03ba364.js" as="script"><link rel="prefetch" href="/blog/assets/js/SSM_01-Springç¬”è®°_spring_day02_Spring_day02.html.e03bbad4.js" as="script"><link rel="prefetch" href="/blog/assets/js/SSM_01-Springç¬”è®°_spring_day01_Spring_day01.html.7a1430ff.js" as="script"><link rel="prefetch" href="/blog/assets/js/Netty_02Netty-å…¥é—¨.html.8e52bd7b.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_sanfene_redis.html.3e8060c2.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_å…¥é—¨åˆ°èµ·é£_35.åå°„_åŠ¨æ€ä»£ç†_35.åå°„_åŠ¨æ€ä»£ç†.html.dbc8eee0.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_Redis_3.é«˜çº§_Redisé«˜çº§ç¯‡-å¤šçº§ç¼“å­˜_å¤šçº§ç¼“å­˜.html.47bfc5c2.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_Redis_3.é«˜çº§_02-å¤šçº§ç¼“å­˜_å¤šçº§ç¼“å­˜.html.870110b3.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_sanfene_jvm.html.9c867992.js" as="script"><link rel="prefetch" href="/blog/assets/js/SSM_03-Mavené«˜çº§ç¬”è®°_Mavené«˜çº§.html.270538a7.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_MySQL_MySQLå­¦ä¹ ç¬”è®°_MySQLå­¦ä¹ ç¬”è®°.html.17191d56.js" as="script"><link rel="prefetch" href="/blog/assets/js/SpringCloud_å®ç”¨_ES_è®²ä¹‰-åˆ†å¸ƒå¼æœç´¢å¼•æ“02.html.2366ab43.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_å…¥é—¨åˆ°èµ·é£_31.å¤šçº¿ç¨‹_å¤šçº¿ç¨‹01.html.13b4dd82.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_Redis_1.å…¥é—¨_RedisåŸºç¡€ç¯‡.html.84d95a80.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_sanfene_mybatis.html.48f5c337.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_å…¥é—¨åˆ°èµ·é£_26.é›†åˆï¼ˆStreamæµ_æ–¹æ³•å¼•ç”¨ï¼‰_streamæµå’Œæ–¹æ³•å¼•ç”¨.html.16aa0a85.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_MySQL_è¿›é˜¶_ç¬”è®°-è¿›é˜¶ç¯‡.html.38ebd1f1.js" as="script"><link rel="prefetch" href="/blog/assets/js/SSM_04-SpringBootç¬”è®°_SpringBoot.html.c516c238.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_sanfene_collection.html.a278afa0.js" as="script"><link rel="prefetch" href="/blog/assets/js/SpringCloud_å®ç”¨_ES_è®²ä¹‰-åˆ†å¸ƒå¼æœç´¢å¼•æ“01.html.032c7127.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_sanfene_network.html.057aa6a7.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_MySQL_MyCaté…ç½®æ–‡ä»¶_schema.html.f95b551b.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_é»‘é©¬Java2021_04æ¡†æ¶ç¯‡_æ¡†æ¶ç¯‡è®²ä¹‰.html.12c9ea05.js" as="script"><link rel="prefetch" href="/blog/assets/js/è£…æœº_Intelæ¡Œé¢å¤„ç†å™¨è§„æ ¼.html.81a8384a.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_é»‘é©¬Java2021_01åŸºç¡€ç¯‡_åŸºç¡€ç¯‡è®²ä¹‰.html.df61ace3.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_MySQL_åŸºç¡€_å¤šè¡¨æŸ¥è¯¢æ¼”ç¤º.html.052f61a3.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_Redis_4.åŸç†_åŸç†ç¯‡.html.4ffa6e0a.js" as="script"><link rel="prefetch" href="/blog/assets/js/SpringCloud_å®ç”¨_MQ_RabbitMQ.html.108944c0.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_å…¥é—¨åˆ°èµ·é£_15.é¢å‘å¯¹è±¡è¿›é˜¶ï¼ˆæŠ½è±¡ç±»_æ¥å£_å†…éƒ¨ç±»ï¼‰_day03ç¬”è®°.html.97de14fd.js" as="script"><link rel="prefetch" href="/blog/assets/js/SSM_01-Springç¬”è®°_AOP_æ€§èƒ½ç›‘æ§åˆ‡é¢.html.4c8c8c80.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_Redis_3.é«˜çº§_Redisé«˜çº§ç¯‡-æœ€ä½³å®è·µ_Redisé«˜çº§ç¯‡ä¹‹æœ€ä½³å®è·µ.html.61e00b4d.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_Redis_3.é«˜çº§_03-Redisæœ€ä½³å®è·µ_Redisé«˜çº§ç¯‡ä¹‹æœ€ä½³å®è·µ.html.1753eedd.js" as="script"><link rel="prefetch" href="/blog/assets/js/SpringCloud_é«˜çº§_Sentinel_å¾®æœåŠ¡ä¿æŠ¤.html.d7a18ed0.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_MySQL_åŸºç¡€_çº¦æŸåŠå¤šè¡¨å…³ç³»æ¼”ç¤º.html.7ee11563.js" as="script"><link rel="prefetch" href="/blog/assets/js/SpringCloud_é«˜çº§_åˆ†å¸ƒå¼äº‹åŠ¡_åˆ†å¸ƒå¼äº‹åŠ¡.html.e33d05cd.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_å…¥é—¨åˆ°èµ·é£_23.é›†åˆï¼ˆæ³›å‹_Set_æ•°æ®ç»“æ„)_é›†åˆ02.html.c4c2e2e3.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_å…¥é—¨åˆ°èµ·é£_22.é›†åˆï¼ˆListé›†åˆï¼‰_é›†åˆ01.html.f67fe261.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_sanfene_rocketmq.html.00a75ed1.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_sanfene_shejimoshi.html.f08cb31f.js" as="script"><link rel="prefetch" href="/blog/assets/js/Python_åŸºç¡€_æ ¸å¿ƒæ•°æ®ç±»å‹.html.1dbd881a.js" as="script"><link rel="prefetch" href="/blog/assets/js/è£…æœº_AMDæ¡Œé¢å¤„ç†å™¨è§„æ ¼.html.754a9807.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_sanfene_weifuwu.html.a1165011.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_MySQL_åŸºç¡€_å¤šè¡¨æŸ¥è¯¢æ¡ˆä¾‹æ¼”ç¤º.html.132ba5cc.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_sanfene_os.html.b9ad3efc.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_Spring_Springé¢è¯•é¢˜åˆ†æåŠæ€»ç»“.html.760df3b6.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_MySQL_è¿ç»´_è¿ç»´ç¯‡.html.307fc8e9.js" as="script"><link rel="prefetch" href="/blog/assets/js/SpringCloud_å®ç”¨_Docker_Dockerå®ç”¨ç¯‡.html.c1a71cac.js" as="script"><link rel="prefetch" href="/blog/assets/js/SpringCloud_é«˜çº§_Seata_seataçš„éƒ¨ç½²å’Œé›†æˆ.html.1df967b9.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_MySQL_MyCaté…ç½®æ–‡ä»¶_rule.html.837d67e4.js" as="script"><link rel="prefetch" href="/blog/assets/js/Vue_è¡¨å•éªŒè¯.html.1d4b13b9.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_MySQL_åŸºç¡€_å‡½æ•°æ¼”ç¤º.html.589318d7.js" as="script"><link rel="prefetch" href="/blog/assets/js/SpringCloud_å®ç”¨_ES_4.å®‰è£…elasticsearch.html.569661db.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_Java8ç‰¹æ€§_Java Stream API.html.59cbd40f.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_Java8ç‰¹æ€§_å‡½æ•°å¼æ¥å£.html.e3311c0c.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_MySQL_MySQLé«˜é¢‘60.html.31eb5551.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_MySQL_åŸºç¡€_ç¬”è®°-åŸºç¡€ç¯‡.html.4effae1b.js" as="script"><link rel="prefetch" href="/blog/assets/js/Python_çˆ¬è™«_æ ·ä¾‹.html.b82eb27f.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_Java_01åŸºç¡€_1.è¡¥å……- FSTæ¡†æ¶ä½¿ç”¨.html.8fadd37c.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_é¢è¯•é¢˜_1.è¡¥å……- FSTæ¡†æ¶ä½¿ç”¨.html.f0f1903a.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_MySQL_MySQLé«˜é¢‘60-ä¼˜åŒ–ç‰ˆ.html.ac02e604.js" as="script"><link rel="prefetch" href="/blog/assets/js/Spring_æ³¨è§£_@ControllerAdvice.html.b6affcf2.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_Java8ç‰¹æ€§_æ·±å…¥ç†è§£ Stream API.html.6c954c8f.js" as="script"><link rel="prefetch" href="/blog/assets/js/60849.39f42502.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_Redis_3.é«˜çº§_Redisé«˜çº§ç¯‡-åˆ†å¸ƒå¼ç¼“å­˜_Redisé«˜çº§-åˆ†å¸ƒå¼ç¼“å­˜.html.449ff5b6.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_Redis_3.é«˜çº§_01-åˆ†å¸ƒå¼ç¼“å­˜_Redisé«˜çº§-åˆ†å¸ƒå¼ç¼“å­˜.html.5c6b0186.js" as="script"><link rel="prefetch" href="/blog/assets/js/48300.3ee19ba5.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_sanfene_fenbushi.html.0895a132.js" as="script"><link rel="prefetch" href="/blog/assets/js/Netty_Channel.html.3214a737.js" as="script"><link rel="prefetch" href="/blog/assets/js/34214.fa3e0c09.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_MySQL_MyCaté…ç½®æ–‡ä»¶_server.html.36a775fa.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_MySQL_åŸºç¡€_å‡½æ•°.html.7ad0084b.js" as="script"><link rel="prefetch" href="/blog/assets/js/SpringMVC_æ ¡éªŒ_Hibernate Validator.html.f1e24450.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_Java8ç‰¹æ€§_æ·±å…¥ç†è§£ Java Collector.html.93b373f6.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_sanfene_netty.html.0112b144.js" as="script"><link rel="prefetch" href="/blog/assets/js/é¡¹ç›®å®æˆ˜_è°·ç²’å•†åŸ_æ¿ä¹¦_æ•°æ®æ ¡éªŒ.html.d56d6540.js" as="script"><link rel="prefetch" href="/blog/assets/js/Docker_ç§æœ‰äº‘_ç©å®¢äº‘.html.dbed3c70.js" as="script"><link rel="prefetch" href="/blog/assets/js/SSM_01-Springç¬”è®°_AOP_å…¥å‚å¤„ç†åˆ‡é¢.html.6e62afae.js" as="script"><link rel="prefetch" href="/blog/assets/js/Mybatis_Mybatis Plus_æ³¨è§£_@TableField.html.4ff8f1fe.js" as="script"><link rel="prefetch" href="/blog/assets/js/SpringMVC_æ ¡éªŒ_è‡ªå®šä¹‰æ ¡éªŒ.html.86bf2a0c.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_é»‘é©¬Java2023_08å¹¶å‘ç¼–ç¨‹_01åŸºç¡€çŸ¥è¯†_8.notify()å’Œ notifyAll()æœ‰ä»€ä¹ˆåŒºåˆ«.html.9b0c7031.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_Java_01åŸºç¡€_3.æ‰©å±•-å¼‚å¸¸å¤„ç†æ³¨æ„ç‚¹.html.bd489dee.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_é¢è¯•é¢˜_3.æ‰©å±•-å¼‚å¸¸å¤„ç†æ³¨æ„ç‚¹.html.83bdbb12.js" as="script"><link rel="prefetch" href="/blog/assets/js/Mybatis_Mybatis Plus_æ¥å£_MetaObjectHandleræ¥å£æ–‡æ¡£.html.12c341a2.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_MySQL_åŸºç¡€_äº‹åŠ¡æ“ä½œæ¼”ç¤º.html.ac44426f.js" as="script"><link rel="prefetch" href="/blog/assets/js/Linux_0.ç¬”è®°_Linuxè¯¾ç¨‹ç¬”è®°.html.f475d1ec.js" as="script"><link rel="prefetch" href="/blog/assets/js/SpringCloud_å®ç”¨_ES_8.å¸¸è§æŸ¥è¯¢ç±»å‹.html.dd7ad357.js" as="script"><link rel="prefetch" href="/blog/assets/js/SpringCloud_å®ç”¨_Docker_Centos7å®‰è£…Docker.html.dcfc0e64.js" as="script"><link rel="prefetch" href="/blog/assets/js/emoji.html.6f18dfc4.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_é»‘é©¬Java2021_03è™šæ‹Ÿæœº_è™šæ‹Ÿæœºç¯‡è®²ä¹‰.html.e299325d.js" as="script"><link rel="prefetch" href="/blog/assets/js/Spring_æ³¨è§£_@InitBinder.html.dfb600fd.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_Java_01åŸºç¡€_17.JDKåŠ¨æ€ä»£ç†å’ŒCGLIBåŠ¨æ€ä»£ç†æœ‰ä»€ä¹ˆåŒºåˆ«.html.08efb9b3.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_é¢è¯•é¢˜_17.JDKåŠ¨æ€ä»£ç†å’ŒCGLIBåŠ¨æ€ä»£ç†æœ‰ä»€ä¹ˆåŒºåˆ«.html.5d94d59a.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_é»‘é©¬Java2023_08å¹¶å‘ç¼–ç¨‹_01åŸºç¡€çŸ¥è¯†_10. å¦‚ä½•åœæ­¢ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„çº¿ç¨‹.html.9d91be3d.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_Java8ç‰¹æ€§_æ·±å…¥ç†è§£ Java ä¸­çš„é»˜è®¤æ–¹æ³•å’Œé™æ€æ–¹æ³•.html.4407513d.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_sanfene_linux.html.0f3075e4.js" as="script"><link rel="prefetch" href="/blog/assets/js/é¡¹ç›®å®æˆ˜_è°·ç²’å•†åŸ_æŠ¥é”™è®°å½•_æµ‹è¯•æ–¹æ³•å¯åŠ¨ç©ºæŒ‡é’ˆ.html.8f332f7d.js" as="script"><link rel="prefetch" href="/blog/assets/js/è®¾è®¡æ¨¡å¼_ä»£ç†æ¨¡å¼.html.307dfb55.js" as="script"><link rel="prefetch" href="/blog/assets/js/è®¡ç®—æœºåŸºç¡€_ç½‘ç»œ_socketæ˜¯ä»€ä¹ˆ.html.6477332a.js" as="script"><link rel="prefetch" href="/blog/assets/js/Spring_æ³¨è§£_å…ƒæ³¨è§£.html.1f12c058.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_é»‘é©¬Java2023_08å¹¶å‘ç¼–ç¨‹_01åŸºç¡€çŸ¥è¯†_3.åˆ›å»ºçº¿ç¨‹çš„å››ç§æ–¹å¼.html.f54a02a9.js" as="script"><link rel="prefetch" href="/blog/assets/js/40611.4644bae7.js" as="script"><link rel="prefetch" href="/blog/assets/js/JVM_jstackç”¨æ³•.html.835d2afe.js" as="script"><link rel="prefetch" href="/blog/assets/js/SpringCloud_Alibaba-OSS_é˜¿é‡Œäº‘ossä½¿ç”¨è®°å½•.html.ea0cd2cc.js" as="script"><link rel="prefetch" href="/blog/assets/js/Mybatis_Mybatis Plus_æ¥å£_MetaObjectHandlerç¤ºä¾‹.html.4efccaa4.js" as="script"><link rel="prefetch" href="/blog/assets/js/SpringMVC_æ ¡éªŒ_JSR303æ•°å­—æ ¡éªŒ.html.e2275b16.js" as="script"><link rel="prefetch" href="/blog/assets/js/SSM_01-Springç¬”è®°_éšç¬”_Springéšç¬”.html.a213478a.js" as="script"><link rel="prefetch" href="/blog/assets/js/CICD_Jenkins é…ç½®åç«¯å·¥ç¨‹ï¼Œè‡ªåŠ¨æ‹‰å–ä»£ç ã€æ‰“åŒ…ä¸é‡æ–°éƒ¨ç½².html.c14fdeb5.js" as="script"><link rel="prefetch" href="/blog/assets/js/Spring_æ³¨è§£_@EnableTransactionManagement.html.565cedf3.js" as="script"><link rel="prefetch" href="/blog/assets/js/JVM_2.å†…å­˜ç»“æ„_2.5æ–¹æ³•åŒº.html.f109c320.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_Java8ç‰¹æ€§_æ·±å…¥ç†è§£ Java Optional ç±».html.e5509be0.js" as="script"><link rel="prefetch" href="/blog/assets/js/Mybatis_Mybatis Plus_this.page().html.4b65b971.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_Java8ç‰¹æ€§_æ·±å…¥ç†è§£ Java 8 æ–°ç‰¹æ€§ï¼šä»æ ¸å¿ƒåˆ°å®è·µ.html.ee87173d.js" as="script"><link rel="prefetch" href="/blog/assets/js/é¡¹ç›®å®æˆ˜_ä¸ªäººåšå®¢_å‰ç«¯éƒ¨ç½².html.7ccf5612.js" as="script"><link rel="prefetch" href="/blog/assets/js/Vue_vueæ¨¡æ¿.html.3c45406b.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_å…¥é—¨åˆ°èµ·é£_35.åå°„_åŠ¨æ€ä»£ç†_åå°„.html.9fae427b.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_Java_01åŸºç¡€_16.ä»€ä¹ˆæ˜¯Javaä¸­çš„åŠ¨æ€ä»£ç†.html.f2070d0b.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_é¢è¯•é¢˜_16.ä»€ä¹ˆæ˜¯Javaä¸­çš„åŠ¨æ€ä»£ç†.html.bb8abfbb.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_Java_01åŸºç¡€_5.ä»€ä¹ˆæ˜¯Javaçš„å¤šæ€.html.79e707e0.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_é¢è¯•é¢˜_5.ä»€ä¹ˆæ˜¯Javaçš„å¤šæ€.html.c9538290.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_MySQL_MySQLå°ç™½_mysqlæ˜¯ä»€ä¹ˆ_æ¶æ„æ˜¯æ€ä¹ˆæ ·çš„.html.90369239.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_MySQL_åŸºç¡€_æ•°æ®åº“æ§åˆ¶è¯­è¨€DCL.html.6e262ce8.js" as="script"><link rel="prefetch" href="/blog/assets/js/Docker_éšç¬”_docker-composeå®‰è£…è½¯ä»¶.html.dd082ab5.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_String_Javaä¸­é‡å†™toString.html.cfe084d4.js" as="script"><link rel="prefetch" href="/blog/assets/js/è®¾è®¡æ¨¡å¼_ç»“æ„å‹_é€‚é…å™¨æ¨¡å¼.html.5e08df20.js" as="script"><link rel="prefetch" href="/blog/assets/js/SpringCloud_é«˜çº§_Seata_é…ç½®æ–‡ä»¶.html.ed31c587.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_Spring_Spring å®ä¾‹åŒ– Bean çš„å››ç§æ–¹å¼.html.5bc902d2.js" as="script"><link rel="prefetch" href="/blog/assets/js/JVM_2.å†…å­˜ç»“æ„_2.6ç›´æ¥å†…å­˜.html.bab6eedb.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_Java_01åŸºç¡€_7.Java ä¸æ”¯æŒå¤šé‡ç»§æ‰¿.html.44a15f19.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_é¢è¯•é¢˜_7.Java ä¸æ”¯æŒå¤šé‡ç»§æ‰¿.html.05d57fbf.js" as="script"><link rel="prefetch" href="/blog/assets/js/87583.28addbdd.js" as="script"><link rel="prefetch" href="/blog/assets/js/SpringCloud_é«˜çº§_Jmeter_3.sentinelè§„åˆ™æŒä¹…åŒ–.html.940a7cec.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_é»‘é©¬Java2021_02å¹¶å‘ç¯‡_å¹¶å‘ç¯‡è®²ä¹‰.html.d1f3ebb0.js" as="script"><link rel="prefetch" href="/blog/assets/js/SSM_03-Mavené«˜çº§ç¬”è®°_éšç¬”_packagingç±»å‹.html.71ed9684.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_Java_01åŸºç¡€_6.Javaä¸­çš„å‚æ•°ä¼ é€’æ˜¯æŒ‰å€¼è¿˜æ˜¯æŒ‰å¼•ç”¨.html.b62e6406.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_é¢è¯•é¢˜_6.Javaä¸­çš„å‚æ•°ä¼ é€’æ˜¯æŒ‰å€¼è¿˜æ˜¯æŒ‰å¼•ç”¨.html.a265d76c.js" as="script"><link rel="prefetch" href="/blog/assets/js/Mybatis_Mybatis Plus_wrapper.and().html.8316c195.js" as="script"><link rel="prefetch" href="/blog/assets/js/å­¦ä¹ è·¯çº¿.html.0b64c59e.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_å…¥é—¨åˆ°èµ·é£_31.å¤šçº¿ç¨‹_å¹¶å‘ç¼–ç¨‹çš„è‰ºæœ¯_2.happens-beforeåŸåˆ™.html.c7682bf5.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_é»‘é©¬Java2023_08å¹¶å‘ç¼–ç¨‹_01åŸºç¡€çŸ¥è¯†_9.åœ¨ java ä¸­ wait å’Œ sleep æ–¹æ³•çš„ä¸åŒ.html.91a70cf9.js" as="script"><link rel="prefetch" href="/blog/assets/js/SpringCloud_å®ç”¨_Nacos_2.é…ç½®ä¸­å¿ƒ.html.b29dd97e.js" as="script"><link rel="prefetch" href="/blog/assets/js/87096.9698059e.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_å¼‚å¸¸_try-with-resourcesè‡ªåŠ¨å…³é—­èµ„æº.html.21d0bca1.js" as="script"><link rel="prefetch" href="/blog/assets/js/Linux_5.è½¯ä»¶åŒ…ç®¡ç†_ä¿®æ”¹yumæº.html.caa89064.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_Java_01åŸºç¡€_8.Javaé¢å‘å¯¹è±¡å’Œé¢å‘è¿‡ç¨‹ç¼–ç¨‹çš„åŒºåˆ«.html.8d6a7838.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_Java_01åŸºç¡€_9.Javaæ–¹æ³•é‡è½½å’Œé‡å†™ä¹‹é—´çš„åŒºåˆ«.html.d3c40162.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_é¢è¯•é¢˜_8.Javaé¢å‘å¯¹è±¡å’Œé¢å‘è¿‡ç¨‹ç¼–ç¨‹çš„åŒºåˆ«.html.64e63a49.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_é¢è¯•é¢˜_9.Javaæ–¹æ³•é‡è½½å’Œé‡å†™ä¹‹é—´çš„åŒºåˆ«.html.40d36ab9.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_MySQL_MySQLé»‘é©¬23.html.ab3faf7e.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_é»‘é©¬Java2023_08å¹¶å‘ç¼–ç¨‹_02å¹¶å‘å®‰å…¨_2.synchronizedå…³é”®å­—çš„åº•å±‚åŸç†-è¿›é˜¶.html.093257f9.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_Java_01åŸºç¡€_11.Java8æ–°ç‰¹æ€§.html.ca7e3253.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_é¢è¯•é¢˜_11.Java8æ–°ç‰¹æ€§.html.a98b11c9.js" as="script"><link rel="prefetch" href="/blog/assets/js/SpringCloud_å®ç”¨_ES_10.åˆ†é¡µ.html.cedf9def.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_é»‘é©¬Java2023_08å¹¶å‘ç¼–ç¨‹_02å¹¶å‘å®‰å…¨_1.è®²ä¸€ä¸‹synchronizedå…³é”®å­—çš„åº•å±‚åŸç†.html.bdd0f6cf.js" as="script"><link rel="prefetch" href="/blog/assets/js/Linux_4.ç³»ç»Ÿä¸è¿›ç¨‹ç®¡ç†_initå‘½ä»¤è¯¦è§£.html.f7dcea5f.js" as="script"><link rel="prefetch" href="/blog/assets/js/Linux_4.ç³»ç»Ÿä¸è¿›ç¨‹ç®¡ç†_æŸ¥çœ‹ç³»ç»Ÿé…ç½®.html.71500e4a.js" as="script"><link rel="prefetch" href="/blog/assets/js/SpringCloud_é«˜çº§_Seata_å››ç§åˆ†å¸ƒå¼äº‹åŠ¡æ¨¡å¼.html.d9994c2d.js" as="script"><link rel="prefetch" href="/blog/assets/js/Bug_mavenåˆ·æ–°æ—¶è¯­è¨€åŸºæœ¬é‡ç½®é—®é¢˜.html.51d7a73b.js" as="script"><link rel="prefetch" href="/blog/assets/js/MQ_RabbitMQ_ä»€ä¹ˆæ˜¯RabbitMQ.html.6e3d2053.js" as="script"><link rel="prefetch" href="/blog/assets/js/SpringCloud_å®ç”¨_MQ_å®‰è£…_RabbitMQéƒ¨ç½²æŒ‡å—.html.c7bd6a71.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_é»‘é©¬Java2023_08å¹¶å‘ç¼–ç¨‹_02å¹¶å‘å®‰å…¨_5.è¯·è°ˆè°ˆä½ å¯¹ volatile çš„ç†è§£.html.9dc59c8d.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_é»‘é©¬Java2023_08å¹¶å‘ç¼–ç¨‹_01åŸºç¡€çŸ¥è¯†_6.çº¿ç¨‹åŒ…æ‹¬å“ªäº›çŠ¶æ€ï¼ŒçŠ¶æ€ä¹‹é—´æ˜¯å¦‚ä½•å˜åŒ–çš„.html.b0d2e096.js" as="script"><link rel="prefetch" href="/blog/assets/js/Linux_4.ç³»ç»Ÿä¸è¿›ç¨‹ç®¡ç†_æŸ¥è¯¢å®‰è£…ä½ç½®.html.107ea7e4.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_é»‘é©¬Java2023_08å¹¶å‘ç¼–ç¨‹_02å¹¶å‘å®‰å…¨_4.CASæ˜¯ä»€ä¹ˆï¼ˆå«ä¹è§‚æ‚²è§‚é”ï¼‰.html.8a33b038.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_sanfene_nixi.html.9cce8a0d.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_é»‘é©¬Java2023_08å¹¶å‘ç¼–ç¨‹_02å¹¶å‘å®‰å…¨_11.æ­»é”äº§ç”Ÿçš„æ¡ä»¶.html.bd8153ae.js" as="script"><link rel="prefetch" href="/blog/assets/js/Docker_éšç¬”_æŸ¥çœ‹é•œåƒæ¶æ„.html.c70c3e3a.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_Java_01åŸºç¡€_15.Javaä¸­çš„hashCodeå’Œequalsæ–¹æ³•ä¹‹é—´æœ‰ä»€ä¹ˆå…³ç³».html.3bd12801.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_é¢è¯•é¢˜_15.Javaä¸­çš„hashCodeå’Œequalsæ–¹æ³•ä¹‹é—´æœ‰ä»€ä¹ˆå…³ç³».html.a6a53f4a.js" as="script"><link rel="prefetch" href="/blog/assets/js/Docker_éšç¬”_Dockerfile æ„å»º Spring Boot é•œåƒå¹¶è¿è¡ŒæœåŠ¡.html.2708f12b.js" as="script"><link rel="prefetch" href="/blog/assets/js/è£…æœº_ç”µè„‘è£…æœºè¿›é˜¶.html.803808fb.js" as="script"><link rel="prefetch" href="/blog/assets/js/SSM_02-SpringMVCç¬”è®°_éšç¬”_SpringMVCéšç¬”.html.4256e059.js" as="script"><link rel="prefetch" href="/blog/assets/js/27124.92624cc2.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_Redis_Redis æ˜¯ä»€ä¹ˆï¼Ÿæ¶æ„æ˜¯æ€ä¹ˆæ ·çš„ï¼Ÿ.html.99c350f4.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_MySQL_åŸºç¡€_DCLè¯­å¥æ¼”ç¤º.html.24b350a0.js" as="script"><link rel="prefetch" href="/blog/assets/js/Spring_Junit_ç”Ÿå‘½å‘¨æœŸæ³¨è§£.html.b917412e.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_MySQL_MySQLå®‰å…¨é…ç½®_æ•°æ®åº“å®‰å…¨é…ç½®.html.3478a04c.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_é»‘é©¬Java2023_08å¹¶å‘ç¼–ç¨‹_02å¹¶å‘å®‰å…¨_7.ä»€ä¹ˆæ˜¯å¯é‡å…¥é”.html.61649fca.js" as="script"><link rel="prefetch" href="/blog/assets/js/é¡¹ç›®å®æˆ˜_è°·ç²’å•†åŸ_æŠ¥é”™è®°å½•_äººäººåå°æ³¨å†Œè‡³Nacosç‰ˆæœ¬é—®é¢˜.html.4a5a3f6c.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_é»‘é©¬Java2023_08å¹¶å‘ç¼–ç¨‹_01åŸºç¡€çŸ¥è¯†_7.æ–°å»º T1ã€T2ã€T3 ä¸‰ä¸ªçº¿ç¨‹ï¼Œå¦‚ä½•ä¿è¯å®ƒä»¬æŒ‰é¡ºåºæ‰§è¡Œ.html.de7b954b.js" as="script"><link rel="prefetch" href="/blog/assets/js/Docker_éšç¬”_é•œåƒå¯¼å…¥å¯¼å‡º.html.459efbc5.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_å…¥é—¨åˆ°èµ·é£_31.å¤šçº¿ç¨‹_å¹¶å‘ç¼–ç¨‹çš„è‰ºæœ¯_1.Javaå†…å­˜æ¨¡å‹.html.a8e00246.js" as="script"><link rel="prefetch" href="/blog/assets/js/SpringCloud_å®ç”¨_ES_9.copy_toçš„ç”¨æ³•.html.ba1d3aa7.js" as="script"><link rel="prefetch" href="/blog/assets/js/Netty_API_API.html.aed69c9f.js" as="script"><link rel="prefetch" href="/blog/assets/js/Docker_ç§æœ‰äº‘_ç§æœ‰äº‘éƒ¨ç½²è½¯ä»¶.html.becd4e2a.js" as="script"><link rel="prefetch" href="/blog/assets/js/CICD_Jenkins é…ç½®å‰ç«¯å·¥ç¨‹ï¼Œè‡ªåŠ¨æ‹‰å–ä»£ç ã€æ‰“åŒ…ä¸ä¸Šä¼ äº‘æœåŠ¡å™¨.html.f0b7df24.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_å…¥é—¨åˆ°èµ·é£_35.åå°„_åŠ¨æ€ä»£ç†_getMethods()å’ŒgetDeclaredMethods()çš„åŒºåˆ«.html.19f34463.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_MySQL_MySQLå®‰è£…æ–‡æ¡£-Linux_MySQL-Linux-yumåŠdockerå®‰è£….html.745e1748.js" as="script"><link rel="prefetch" href="/blog/assets/js/Docker_éšç¬”_dockerå®‰è£…jenkinsåŠé…ç½®.html.da7c1d8b.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_MySQL_MySQLå®‰è£…æ–‡æ¡£-Linux_MySQL-Linuxç¦»çº¿å®‰è£….html.2ef2bbaa.js" as="script"><link rel="prefetch" href="/blog/assets/js/Mybatis_Mybatis Plus_æ–°ç‰ˆåˆ†é¡µæ’ä»¶.html.6cf93fd3.js" as="script"><link rel="prefetch" href="/blog/assets/js/Spring_æ³¨è§£_@FeignClient.html.2e6619d5.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_å…¥é—¨åˆ°èµ·é£_35.åå°„_åŠ¨æ€ä»£ç†_getDeclaredField()å’ŒgetField()åŒºåˆ«.html.a09b9582.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_å…¥é—¨åˆ°èµ·é£_31.å¤šçº¿ç¨‹_å¤šçº¿ç¨‹æ€»ç»“.html.c759fde8.js" as="script"><link rel="prefetch" href="/blog/assets/js/Docker_éšç¬”_Dockerå®¹å™¨ä¸å®¿ä¸»æœºæ—¶é—´åŒæ­¥.html.3b0590fa.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_MySQL_MySQLå®‰å…¨é…ç½®_æ•°æ®åº“éš”ç¦»çº§åˆ«.html.95b0e396.js" as="script"><link rel="prefetch" href="/blog/assets/js/Linux_9.ç£ç›˜ç®¡ç†ä¸å­˜å‚¨_ç¡¬ç›˜æŒ‚è½½.html.c89f7fef.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_MySQL_MySQLæ•…éšœä¿®å¤_Navicatè¿æ¥mysqlæŠ¥é”™.html.596df1ac.js" as="script"><link rel="prefetch" href="/blog/assets/js/VCS_Git_æœ¬åœ°é¡¹ç›®æ¨é€è‡³è¿œç¨‹åº“.html.c069015f.js" as="script"><link rel="prefetch" href="/blog/assets/js/JVM_cpu loadè¿‡é«˜é—®é¢˜.html.57d36fe3.js" as="script"><link rel="prefetch" href="/blog/assets/js/SSM_01-Springç¬”è®°_AOP_æ—¥å¿—åˆ‡é¢æ’é™¤è·¯å¾„.html.407aa222.js" as="script"><link rel="prefetch" href="/blog/assets/js/Netty_é‡Šæ”¾ByteBuf.html.d15dc7ac.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_é»‘é©¬Java2023_08å¹¶å‘ç¼–ç¨‹_02å¹¶å‘å®‰å…¨_8.ä»€ä¹ˆæ˜¯è‡ªæ—‹é”.html.e091e46c.js" as="script"><link rel="prefetch" href="/blog/assets/js/Spring_æ³¨è§£_æ³¨è§£@RequestMappingã€@PostMappingã€@GetMapping.html.1fcf37fc.js" as="script"><link rel="prefetch" href="/blog/assets/js/SpringCloud_é«˜çº§_Jmeter_1.MACå®‰è£…JMeter.html.371361c1.js" as="script"><link rel="prefetch" href="/blog/assets/js/SpringCloud_å®ç”¨_ES_7.åˆ›å»ºç´¢å¼•åº“.html.30c0002d.js" as="script"><link rel="prefetch" href="/blog/assets/js/SpringCloud_é«˜çº§_Seata_seata1.4.2å‡çº§2.0.0æ³¨æ„ç‚¹.html.1bedbbe6.js" as="script"><link rel="prefetch" href="/blog/assets/js/Docker_ç§æœ‰äº‘_å‰åç«¯åˆ†ç¦»åšå®¢é¡¹ç›®.html.5fb906a3.js" as="script"><link rel="prefetch" href="/blog/assets/js/MQ_Kafka_å‘é€æ¥æ”¶demo.html.c7fbf715.js" as="script"><link rel="prefetch" href="/blog/assets/js/Linux_13.æœåŠ¡ä¸è‡ªåŠ¨åŒ–ç®¡ç†_systemctl.html.cae58440.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_Java_01åŸºç¡€_14.Java ä¸­ hashCode_equals æ–¹æ³•å’Œ__ æ“ä½œç¬¦.html.c2fbfe28.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_é¢è¯•é¢˜_14.Java ä¸­ hashCode_equals æ–¹æ³•å’Œ__ æ“ä½œç¬¦.html.02289754.js" as="script"><link rel="prefetch" href="/blog/assets/js/JVM_GCç±»å‹.html.956efd3c.js" as="script"><link rel="prefetch" href="/blog/assets/js/SSM_01-Springç¬”è®°_éšç¬”_Springæ³¨è§£.html.b05cc95b.js" as="script"><link rel="prefetch" href="/blog/assets/js/SpringCloud_å®ç”¨_ES_1.ä»€ä¹ˆæ˜¯ES.html.1412b54e.js" as="script"><link rel="prefetch" href="/blog/assets/js/81434.b756e60f.js" as="script"><link rel="prefetch" href="/blog/assets/js/JVM_OOM.html.652cb72c.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_MySQL_MySQLå®‰å…¨é…ç½®_MySQLæ•°æ®åº“æˆæƒç®¡ç†.html.478d525f.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_MQ_RabbitMQ_RabbitMQé¢è¯•é¢˜.html.c4fc1190.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_é¢è¯•é¢˜_4.Javaçš„ä¼˜åŠ¿.html.e6a40bc6.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_Java_01åŸºç¡€_4.Javaçš„ä¼˜åŠ¿.html.bc20b909.js" as="script"><link rel="prefetch" href="/blog/assets/js/Bug_Java_InaccessibleObjectException.html.5219e853.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_MySQL_MyCatå®‰è£…æ–‡æ¡£_MyCatå®‰è£…æ–‡æ¡£.html.d492abe5.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_MySQL_index.html.f7b9099b.js" as="script"><link rel="prefetch" href="/blog/assets/js/Netty_å…³é—­äº‹ä»¶å¾ªç¯ç»„.html.f766844e.js" as="script"><link rel="prefetch" href="/blog/assets/js/81316.d360a347.js" as="script"><link rel="prefetch" href="/blog/assets/js/Netty_æ ¸å¿ƒæ¦‚å¿µç†è§£.html.6718f95f.js" as="script"><link rel="prefetch" href="/blog/assets/js/42275.93cd7f21.js" as="script"><link rel="prefetch" href="/blog/assets/js/Docker_éšç¬”_dockerå®‰è£…è½¯ä»¶.html.cc7f7df0.js" as="script"><link rel="prefetch" href="/blog/assets/js/Linux_2.æ–‡ä»¶ç³»ç»Ÿ_è½¯ç¡¬é“¾æ¥.html.36ad5eae.js" as="script"><link rel="prefetch" href="/blog/assets/js/CICD_Jenkins é…ç½®åç«¯ï¼šè‡ªåŠ¨æ„å»º Docker é•œåƒã€è¿è¡Œå®¹å™¨æœåŠ¡.html.77b0effa.js" as="script"><link rel="prefetch" href="/blog/assets/js/21317.0c91ade5.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_Java_01åŸºç¡€_10.Javaå†…éƒ¨ç±»åŠä½œç”¨.html.48f4437f.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_é¢è¯•é¢˜_10.Javaå†…éƒ¨ç±»åŠä½œç”¨.html.2d106f27.js" as="script"><link rel="prefetch" href="/blog/assets/js/26873.343cbf8d.js" as="script"><link rel="prefetch" href="/blog/assets/js/Linux_6.ç½‘ç»œé…ç½®ä¸ç®¡ç†_å…³é—­ç«¯å£å ç”¨è¿›ç¨‹.html.3cf08e6a.js" as="script"><link rel="prefetch" href="/blog/assets/js/SpringCloud_å®ç”¨_Nacos_3.ç½‘å…³é…ç½®.html.01ed9c33.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_Java_01åŸºç¡€_12.JDKå’ŒJREåŒºåˆ«.html.3bd455d2.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_é¢è¯•é¢˜_12.JDKå’ŒJREåŒºåˆ«.html.58f30852.js" as="script"><link rel="prefetch" href="/blog/assets/js/ç½‘ç»œ_L2TPå’ŒIPsecåè®®å¸¸è§è½¯ä»¶å’Œå·¥å…·.html.91cbb5ae.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_MySQL_MySQLä¼˜åŒ–_unionå’ŒunionAll.html.9c20b2a0.js" as="script"><link rel="prefetch" href="/blog/assets/js/Docker_éšç¬”_pull.html.44394d97.js" as="script"><link rel="prefetch" href="/blog/assets/js/Linux_1.å®‰è£…ä¸é…ç½®_V2rayå®‰è£….html.8a275489.js" as="script"><link rel="prefetch" href="/blog/assets/js/Spring_SpringBootæ— æ•°æ®æºå¯åŠ¨.html.e2d9a0c8.js" as="script"><link rel="prefetch" href="/blog/assets/js/Linux_4.ç³»ç»Ÿä¸è¿›ç¨‹ç®¡ç†_Ubuntuå‘½ä»¤è¡Œå›¾å½¢åŒ–ç•Œé¢åˆ‡æ¢.html.7f6331d5.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_å·¥å…·ç±»_BeanUtil.html.21b8dfab.js" as="script"><link rel="prefetch" href="/blog/assets/js/SpringCloud_é«˜çº§_Jmeter_2.Jmeterå¿«é€Ÿå…¥é—¨.html.ada282d8.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_MySQL_MySQLå®‰è£…æ–‡æ¡£-Windows_MySQLå®‰è£….html.f4180953.js" as="script"><link rel="prefetch" href="/blog/assets/js/Mybatis_Mybatis_é€»è¾‘åˆ é™¤.html.b503f3ed.js" as="script"><link rel="prefetch" href="/blog/assets/js/5663.892fda56.js" as="script"><link rel="prefetch" href="/blog/assets/js/Netty_API_ExecutorService.html.7b20dfc2.js" as="script"><link rel="prefetch" href="/blog/assets/js/é¡¹ç›®å®æˆ˜_è°·ç²’å•†åŸ_å…³é—­eslintæ£€æŸ¥.html.0edbe5eb.js" as="script"><link rel="prefetch" href="/blog/assets/js/VCS_Git_åˆ é™¤æœ€è¿‘ä¸€æ¬¡æ¨é€.html.b83830e3.js" as="script"><link rel="prefetch" href="/blog/assets/js/SSM_03-Mavené«˜çº§ç¬”è®°_éšç¬”_pomä¸­çš„relativePath.html.9a93f81b.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_å…¥é—¨åˆ°èµ·é£_15.é¢å‘å¯¹è±¡è¿›é˜¶ï¼ˆæŠ½è±¡ç±»_æ¥å£_å†…éƒ¨ç±»ï¼‰_è¯¾å ‚ç¬”è®°.html.07d99c09.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_é»‘é©¬Java2023_08å¹¶å‘ç¼–ç¨‹_02å¹¶å‘å®‰å…¨_12.èŠä¸€ä¸‹ConcurrentHashMap .html.f5f71e9f.js" as="script"><link rel="prefetch" href="/blog/assets/js/ç½‘ç»œ_L2TPIPsec.html.a6aa5fbf.js" as="script"><link rel="prefetch" href="/blog/assets/js/VCS_Git_å¿½ç•¥ideaæ–‡ä»¶å¤¹.html.0be2f29e.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_MySQL_è¿›é˜¶_1.ä»€ä¹ˆæƒ…å†µä¸‹ä¼šå‡ºç°è¯»å–è®°å½•çš„äº‹åŠ¡idæ¯”åˆ›å»ºreadviewçš„äº‹åŠ¡idå¤§.html.b7777e9a.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_é»‘é©¬Java2023_08å¹¶å‘ç¼–ç¨‹_02å¹¶å‘å®‰å…¨_13.å¯¼è‡´å¹¶å‘ç¨‹åºå‡ºç°é—®é¢˜çš„æ ¹æœ¬åŸå› æ˜¯ä»€ä¹ˆ.html.cf67bfd0.js" as="script"><link rel="prefetch" href="/blog/assets/js/Spring_æ³¨è§£_@ResponseBody.html.4093a3b2.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_MySQL_åŸºç¡€_MySQLæ•°æ®ç±»å‹.html.c7569f89.js" as="script"><link rel="prefetch" href="/blog/assets/js/21901.42b8e43b.js" as="script"><link rel="prefetch" href="/blog/assets/js/Linux_7.æ–‡ä»¶ä¸ç›®å½•ç®¡ç†_dos2unixæ¢è¡Œç¬¦æ¸…ç†.html.97757e00.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_é»‘é©¬Java2023_08å¹¶å‘ç¼–ç¨‹_02å¹¶å‘å®‰å…¨_9.ReentrantLockçš„å®ç°åŸç†.html.06906a93.js" as="script"><link rel="prefetch" href="/blog/assets/js/é¡¹ç›®å®æˆ˜_è°·ç²’å•†åŸ_æŠ¥é”™è®°å½•_äººäººå‰ç«¯å¯åŠ¨å¤±è´¥.html.1d13688c.js" as="script"><link rel="prefetch" href="/blog/assets/js/Docker_éšç¬”_ç‰¹æƒæ¨¡å¼.html.e7fde61a.js" as="script"><link rel="prefetch" href="/blog/assets/js/Linux_3.ç”¨æˆ·ä¸ç»„ç®¡ç†_å•ç”¨æˆ·æ¨¡å¼é‡ç½®å¯†ç .html.61e5cb66.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_Java_01åŸºç¡€_7.Javaä¸æ”¯æŒå¤šé‡ç»§æ‰¿.html.803d5476.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_é¢è¯•é¢˜_7.Javaä¸æ”¯æŒå¤šé‡ç»§æ‰¿.html.1b665a7f.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_MySQL_MySQLå¸è½½æ–‡æ¡£-Linux_MySQLå¸è½½-Linux.html.ec26d63a.js" as="script"><link rel="prefetch" href="/blog/assets/js/JVM_2.1.å¹´è½»ä»£è€å¹´ä»£.html.15a43a14.js" as="script"><link rel="prefetch" href="/blog/assets/js/Nginx_413 (Request Entity Too Large).html.aad1abc6.js" as="script"><link rel="prefetch" href="/blog/assets/js/Spring_æ³¨è§£_@JsonFormat.html.4bf5956d.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_é»‘é©¬Java2023_08å¹¶å‘ç¼–ç¨‹_02å¹¶å‘å®‰å…¨_6.ä»€ä¹ˆæ˜¯AQS.html.545675c5.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_Java_01åŸºç¡€_1.åºåˆ—åŒ–ä¸ååºåˆ—åŒ–.html.e7e943f1.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_é¢è¯•é¢˜_1.åºåˆ—åŒ–ä¸ååºåˆ—åŒ–.html.3ef46f5a.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_MySQL_è¿ç»´_MyCaté…ç½®ä¿¡æ¯å«ä¹‰.html.fb2d77af.js" as="script"><link rel="prefetch" href="/blog/assets/js/Linux_index.html.bd8c4b6b.js" as="script"><link rel="prefetch" href="/blog/assets/js/è£…æœº_ç”µè„‘é…ç½®.html.e20a7999.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_MySQL_MySQLæ•…éšœä¿®å¤_mysql-uroot-pæŠ¥é”™.html.45625657.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_å…¥é—¨åˆ°èµ·é£_35.åå°„_åŠ¨æ€ä»£ç†_åå°„_åŠ¨æ€ä»£ç†æ€»ç»“.html.5fc80daa.js" as="script"><link rel="prefetch" href="/blog/assets/js/JVM_2.å†…å­˜ç»“æ„_2.2è™šæ‹Ÿæœºæ ˆ.html.330e8898.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_Redis_2.å®æˆ˜_pending-list.html.dbc15200.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_MySQL_MySQLå¸è½½æ–‡æ¡£-Windows_MySQLå¸è½½æ–‡æ¡£-Windowsç‰ˆ.html.dc131cc6.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_å…¥é—¨åˆ°èµ·é£_35.åå°„_åŠ¨æ€ä»£ç†_å­—èŠ‚ç å¯¹è±¡.html.d5b99b51.js" as="script"><link rel="prefetch" href="/blog/assets/js/Linux_1.å®‰è£…ä¸é…ç½®_ä¸»è¦æ¶æ„.html.40887dfa.js" as="script"><link rel="prefetch" href="/blog/assets/js/Docker_éšç¬”_å®‰è£…NocoDB.html.d8c45dea.js" as="script"><link rel="prefetch" href="/blog/assets/js/95292.1e1e16d5.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_MySQL_MySQLæ•…éšœä¿®å¤_caching_sha2_passwordæ— æ³•åŠ è½½.html.d4ea7486.js" as="script"><link rel="prefetch" href="/blog/assets/js/ç½‘ç»œ_åˆ·æ–°dnsç¼“å­˜.html.d7814229.js" as="script"><link rel="prefetch" href="/blog/assets/js/Mybatis_Mybatis Plus_åŠ¨æ€æ„å»ºæŸ¥è¯¢æ¡ä»¶.html.e782ca3f.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_Java_02ä¸­ç­‰_1.Javaä¸­Stringã€StringBufferå’ŒStringBuilderçš„åŒºåˆ«.html.144c0309.js" as="script"><link rel="prefetch" href="/blog/assets/js/å‰ç«¯_node_nvmæ›´æ¢é•œåƒæº.html.b2acda58.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_Java_01åŸºç¡€_2.ä¸å¯å˜ç±».html.3a59e847.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_é¢è¯•é¢˜_2.ä¸å¯å˜ç±».html.ea15d156.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_Java_01åŸºç¡€_13.ä½ ä½¿ç”¨è¿‡å“ªäº›JDKå·¥å…·.html.4b92b36f.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_é¢è¯•é¢˜_13.ä½ ä½¿ç”¨è¿‡å“ªäº›JDKå·¥å…·.html.36b12236.js" as="script"><link rel="prefetch" href="/blog/assets/js/Mybatis_Mybatis Plus_QueryWrapper vs LambdaQueryWrapper.html.d59046cb.js" as="script"><link rel="prefetch" href="/blog/assets/js/SpringCloud_å®ç”¨_ES_3.åŸºæœ¬æ¦‚å¿µ.html.8e3f9f40.js" as="script"><link rel="prefetch" href="/blog/assets/js/SpringCloud_å®ç”¨_Nacos_0.å®‰è£…ä¸å¯åŠ¨.html.89bd120e.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_MySQL_å·¥å…·_é—ªå›-flashback.html.8e629adf.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_é»‘é©¬Java2023_08å¹¶å‘ç¼–ç¨‹_01åŸºç¡€çŸ¥è¯†_1.çº¿ç¨‹å’Œè¿›ç¨‹çš„åŒºåˆ«.html.9d30aa5e.js" as="script"><link rel="prefetch" href="/blog/assets/js/Mybatis_Mybatis Plus_queryWrapperè‡ªå®šä¹‰SQL.html.0ea78bf0.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_Java_01åŸºç¡€_3.Exceptionå’ŒErrorçš„åŒºåˆ«.html.6141b172.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_é¢è¯•é¢˜_3.Exceptionå’ŒErrorçš„åŒºåˆ«.html.94872ed7.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_é»‘é©¬Java2023_08å¹¶å‘ç¼–ç¨‹_01åŸºç¡€çŸ¥è¯†_2.å¹¶è¡Œå’Œå¹¶å‘æœ‰ä»€ä¹ˆåŒºåˆ«.html.1dfe94f5.js" as="script"><link rel="prefetch" href="/blog/assets/js/Spring_Spring5.xæ¦‚è¿°.html.345fb779.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_é»‘é©¬Java2023_08å¹¶å‘ç¼–ç¨‹_02å¹¶å‘å®‰å…¨_3.ä½ è°ˆè°ˆ JMMï¼ˆJava å†…å­˜æ¨¡å‹ï¼‰.html.ba8ee601.js" as="script"><link rel="prefetch" href="/blog/assets/js/Mybatis_Mybatis Plus_where 1_1.html.012f691b.js" as="script"><link rel="prefetch" href="/blog/assets/js/SpringCloud_å®ç”¨_Nacos_1.æ³¨å†Œä¸­å¿ƒ.html.b72894ad.js" as="script"><link rel="prefetch" href="/blog/assets/js/Python_åŸºç¡€_0.å‰è¨€.html.9a9a3601.js" as="script"><link rel="prefetch" href="/blog/assets/js/JVM_2.å†…å­˜ç»“æ„_2.3æœ¬åœ°æ–¹æ³•æ ˆ.html.11cdb8eb.js" as="script"><link rel="prefetch" href="/blog/assets/js/JVM_2.å†…å­˜ç»“æ„_2.1ç¨‹åºè®¡æ•°å™¨.html.f39d01b8.js" as="script"><link rel="prefetch" href="/blog/assets/js/Linux_4.ç³»ç»Ÿä¸è¿›ç¨‹ç®¡ç†_daemon-reload.html.4e1ce107.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_MySQL_MyCat-Webå®‰è£…æ–‡æ¡£_MyCat-webå®‰è£…æ–‡æ¡£.html.a9fa5e0a.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_Java_02ä¸­ç­‰_2.Javaä¸­volatileå…³é”®å­—çš„ä½œç”¨.html.5f406e34.js" as="script"><link rel="prefetch" href="/blog/assets/js/SpringCloud_åŸºç¡€_äº‹åŠ¡ACIDåŸåˆ™.html.838e3d05.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_é»‘é©¬Java2023_08å¹¶å‘ç¼–ç¨‹_02å¹¶å‘å®‰å…¨_10.synchronizedå’ŒLockæœ‰ä»€ä¹ˆåŒºåˆ«.html.9ed2b29f.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_é»‘é©¬Java2023_08å¹¶å‘ç¼–ç¨‹_02å¹¶å‘å®‰å…¨_12.å¦‚ä½•è¿›è¡Œæ­»é”åˆ¤æ–­.html.87e0947e.js" as="script"><link rel="prefetch" href="/blog/assets/js/SpringCloud_é«˜çº§_index.html.c9257c28.js" as="script"><link rel="prefetch" href="/blog/assets/js/14903.a286806b.js" as="script"><link rel="prefetch" href="/blog/assets/js/å‰ç«¯_node_npmæ›´æ¢é•œåƒæº.html.03210df9.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_å”¯æ‰‹ç†Ÿå°”_equalsä¸ç­‰å·.html.592e5bc5.js" as="script"><link rel="prefetch" href="/blog/assets/js/Linux_4.ç³»ç»Ÿä¸è¿›ç¨‹ç®¡ç†_rc.local.html.73d0fb79.js" as="script"><link rel="prefetch" href="/blog/assets/js/é¡¹ç›®å®æˆ˜_è°·ç²’å•†åŸ_è·¨åŸŸ.html.b08f3c80.js" as="script"><link rel="prefetch" href="/blog/assets/js/42916.31234321.js" as="script"><link rel="prefetch" href="/blog/assets/js/SpringCloud_å®ç”¨_ES_5.åˆ†è¯å™¨.html.64dc7889.js" as="script"><link rel="prefetch" href="/blog/assets/js/JVM_2.å†…å­˜ç»“æ„_2.4å †.html.30ac9f74.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_ç©ºå€¼å’Œnullå€¼.html.28e8b0bd.js" as="script"><link rel="prefetch" href="/blog/assets/js/42240.ee1637d8.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_index.html.56171422.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_Redis_è§†é¢‘æ•™ç¨‹.html.a1bcc56e.js" as="script"><link rel="prefetch" href="/blog/assets/js/JVM_2.å†…å­˜ç»“æ„.html.777fb4bd.js" as="script"><link rel="prefetch" href="/blog/assets/js/SpringCloud_å®ç”¨_Nacos_4.NacosæŒ‡å®šæœåŠ¡ç«¯IP.html.5373f033.js" as="script"><link rel="prefetch" href="/blog/assets/js/Linux_15.æ•…éšœæ’é™¤ä¸ä¿®å¤_reset-failed.html.7a2d0fbb.js" as="script"><link rel="prefetch" href="/blog/assets/js/SSM_02-SpringMVCç¬”è®°_éšç¬”_SpringMVCæ³¨è§£.html.57c8f6fa.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_é»‘é©¬Java2023_08å¹¶å‘ç¼–ç¨‹_01åŸºç¡€çŸ¥è¯†_4.runnable å’Œ callable æœ‰ä»€ä¹ˆåŒºåˆ«.html.ab25491e.js" as="script"><link rel="prefetch" href="/blog/assets/js/SpringCloud_å®ç”¨_ES_6.mappingå¸¸è§å±æ€§.html.fde8b1be.js" as="script"><link rel="prefetch" href="/blog/assets/js/JVM_1.å­¦ä¹ JVMæœ‰ä»€ä¹ˆç”¨.html.27f50e12.js" as="script"><link rel="prefetch" href="/blog/assets/js/SpringCloud_é«˜çº§_Seata_æ¨¡å¼æ€»ç»“.html.a9721858.js" as="script"><link rel="prefetch" href="/blog/assets/js/å­¦ä¹ è®°å½•.html.24dcc78e.js" as="script"><link rel="prefetch" href="/blog/assets/js/é¡¹ç›®å®æˆ˜_è°·ç²’å•†åŸ_æŠ¥é”™è®°å½•_å®šæ—¶ä»»åŠ¡å¯åŠ¨å¤±è´¥.html.3ee86467.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_MySQL_è¿›é˜¶_1.ä¸ºä»€ä¹ˆInnoDBå­˜å‚¨å¼•æ“é€‰æ‹©ä½¿ç”¨B_treeç´¢å¼•ç»“æ„.html.43ed9dbb.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_é»‘é©¬Java2023_08å¹¶å‘ç¼–ç¨‹_01åŸºç¡€çŸ¥è¯†_5.çº¿ç¨‹çš„ run()å’Œ start()æœ‰ä»€ä¹ˆåŒºåˆ«.html.ed36c1ac.js" as="script"><link rel="prefetch" href="/blog/assets/js/SpringCloud_å®ç”¨_ES_2.å€’æ’ç´¢å¼•.html.02a709ab.js" as="script"><link rel="prefetch" href="/blog/assets/js/SpringCloud_é«˜çº§_Sentinel_bug_windowsç‰ˆsentinelè¿è¡ŒæŠ¥é”™é—®é¢˜å¤„ç†Unable to make protected final java.lang.Class java.lang.ClassLoader.define.html.6a38fe2f.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_String_isNotEmptyå’ŒisNotBlank.html.369d75b1.js" as="script"><link rel="prefetch" href="/blog/assets/js/é¡¹ç›®å®æˆ˜_è°·ç²’å•†åŸ_æŠ¥é”™è®°å½•_SpringBootè¯»å–ValidationMessages.propertiesï¼Œä¸­æ–‡ä¹±ç .html.d56ccb83.js" as="script"><link rel="prefetch" href="/blog/assets/js/è£…æœº_é£ç‰›OSå¼€å…³å±å¹•.html.b7162650.js" as="script"><link rel="prefetch" href="/blog/assets/js/SpringCloud_é«˜çº§_Seata_TC_TM_RM.html.0d33a6b2.js" as="script"><link rel="prefetch" href="/blog/assets/js/é¡¹ç›®å®æˆ˜_è°·ç²’å•†åŸ_æŠ¥é”™è®°å½•_æ‰¾ä¸åˆ°ç¬¦å·.html.84883426.js" as="script"><link rel="prefetch" href="/blog/assets/js/Vue_index.html.e36c6823.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_é»‘é©¬Java2023_08å¹¶å‘ç¼–ç¨‹_index.html.104ec642.js" as="script"><link rel="prefetch" href="/blog/assets/js/æ–‡ç« åˆ†ç±»åŠæ ‡ç­¾.html.412063db.js" as="script"><link rel="prefetch" href="/blog/assets/js/é¡¹ç›®å®æˆ˜_è°·ç²’å•†åŸ_æŠ¥é”™è®°å½•_æœåŠ¡åˆ—è¡¨ä¸ºç©º.html.b079278d.js" as="script"><link rel="prefetch" href="/blog/assets/js/è£…æœº_é£ç‰›OSåˆç›–ä¸ä¼‘çœ .html.cbb4d240.js" as="script"><link rel="prefetch" href="/blog/assets/js/é¡¹ç›®å®æˆ˜_è°·ç²’å•†åŸ_è§†é¢‘æ•™ç¨‹.html.8fcb633c.js" as="script"><link rel="prefetch" href="/blog/assets/js/JVM_index.html.a6a34408.js" as="script"><link rel="prefetch" href="/blog/assets/js/SpringCloud_å®ç”¨_ES_è§†é¢‘æ•™ç¨‹.html.9940368b.js" as="script"><link rel="prefetch" href="/blog/assets/js/Netty_1.é»‘é©¬è§†é¢‘æ•™ç¨‹.html.32df691c.js" as="script"><link rel="prefetch" href="/blog/assets/js/index.html.101d22b8.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_é›·ä¸°é˜³Javaè§†é¢‘.html.624075ac.js" as="script"><link rel="prefetch" href="/blog/assets/js/Spring_æ³¨è§£_@JsonInclude.html.9d4f2583.js" as="script"><link rel="prefetch" href="/blog/assets/js/SSM_index.html.607f9dac.js" as="script"><link rel="prefetch" href="/blog/assets/js/JVM_é»‘é©¬JVM.html.e92ef57d.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_å·¥å…·ç±»_Javaå¸¸ç”¨å·¥å…·åŒ….html.a39f2b2b.js" as="script"><link rel="prefetch" href="/blog/assets/js/40676.55bf3d3f.js" as="script"><link rel="prefetch" href="/blog/assets/js/53021.61752250.js" as="script"><link rel="prefetch" href="/blog/assets/js/Python_åŸºç¡€_video.html.1ba631ac.js" as="script"><link rel="prefetch" href="/blog/assets/js/Docker_éšç¬”_æŸ¥çœ‹æ•°æ®å·ç›®å½•.html.d6571100.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_Java_01åŸºç¡€_18.æ¥å£å’ŒæŠ½è±¡ç±»æœ‰ä»€ä¹ˆåŒºåˆ«.html.2d925e8d.js" as="script"><link rel="prefetch" href="/blog/assets/js/é¡¹ç›®å®æˆ˜_è°·ç²’å•†åŸ_index.html.29ab8bbf.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_å…¥é—¨åˆ°èµ·é£_15.é¢å‘å¯¹è±¡è¿›é˜¶ï¼ˆæŠ½è±¡ç±»_æ¥å£_å†…éƒ¨ç±»ï¼‰_index.html.22409c55.js" as="script"><link rel="prefetch" href="/blog/assets/js/73160.ebbe013a.js" as="script"><link rel="prefetch" href="/blog/assets/js/intro.html.2ec8ecc0.js" as="script"><link rel="prefetch" href="/blog/assets/js/SpringCloud_å®ç”¨_Nacos_index.html.c5ea9dce.js" as="script"><link rel="prefetch" href="/blog/assets/js/SpringMVC_æ ¡éªŒ_index.html.8d05bbd5.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_å…¥é—¨åˆ°èµ·é£_26.é›†åˆï¼ˆStreamæµ_æ–¹æ³•å¼•ç”¨ï¼‰_index.html.7931a7d2.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_å…¥é—¨åˆ°èµ·é£_23.é›†åˆï¼ˆæ³›å‹_Set_æ•°æ®ç»“æ„)_index.html.efae9a6c.js" as="script"><link rel="prefetch" href="/blog/assets/js/68984.a201f555.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_å…¥é—¨åˆ°èµ·é£_31.å¤šçº¿ç¨‹_å¹¶å‘ç¼–ç¨‹çš„è‰ºæœ¯_index.html.acc8b193.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_å…¥é—¨åˆ°èµ·é£_31.å¤šçº¿ç¨‹_jucé¢å¤–æ‰©å±•èµ„æ–™_index.html.ee9fc9ed.js" as="script"><link rel="prefetch" href="/blog/assets/js/Spring_index.html.1e8767bf.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_åå°„åŠ¨æ€ä»£ç†_index.html.ee455e69.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_Redis_3.é«˜çº§_Redisé«˜çº§ç¯‡-åˆ†å¸ƒå¼ç¼“å­˜_index.html.567dcb57.js" as="script"><link rel="prefetch" href="/blog/assets/js/category_springcloudå®ç”¨ç¯‡_index.html.b6246f19.js" as="script"><link rel="prefetch" href="/blog/assets/js/category_springcloudé«˜çº§ç¯‡_index.html.b4483d98.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_å…¥é—¨åˆ°èµ·é£_22.é›†åˆï¼ˆListé›†åˆï¼‰_index.html.852e2cbb.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_Redis_3.é«˜çº§_Redisé«˜çº§ç¯‡-å¤šçº§ç¼“å­˜_index.html.9d9d32f8.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_Redis_3.é«˜çº§_Redisé«˜çº§ç¯‡-æœ€ä½³å®è·µ_index.html.1b776219.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_åˆ†å¸ƒå¼äº‹åŠ¡_index.html.6119a13f.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_å…¥é—¨åˆ°èµ·é£_35.åå°„_åŠ¨æ€ä»£ç†_index.html.3623ae4b.js" as="script"><link rel="prefetch" href="/blog/assets/js/category_ä½¿ç”¨æŒ‡å—_index.html.82275c76.js" as="script"><link rel="prefetch" href="/blog/assets/js/category_ç½‘ç»œç¼–ç¨‹_index.html.9fbff410.js" as="script"><link rel="prefetch" href="/blog/assets/js/category_é¢æ¸£é€†è¢­_index.html.ca360068.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_é»‘é©¬Java2023_08å¹¶å‘ç¼–ç¨‹_01åŸºç¡€çŸ¥è¯†_index.html.1f9b73df.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_é»‘é©¬Java2023_08å¹¶å‘ç¼–ç¨‹_02å¹¶å‘å®‰å…¨_index.html.c02151fb.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_åŸºç¡€çŸ¥è¯†_index.html.d6f0ee21.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_æ¥å£æ–‡æ¡£_index.html.a59fb9d7.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_æ¥å£ç¤ºä¾‹_index.html.750f9baa.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_ç½‘ç»œç¼–ç¨‹_index.html.34173ca6.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_è¯¾å ‚éšç¬”_index.html.1dce966d.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_é…ç½®æ–‡ä»¶_index.html.d2cbe584.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_é˜…è¯»å®Œæ¯•_index.html.8d425f70.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_é¢æ¸£é€†è¢­_index.html.3e7757c7.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_é«˜çº§ç‰¹æ€§_index.html.f567c504.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_åˆ†åº“åˆ†è¡¨_index.html.0e1428fe.js" as="script"><link rel="prefetch" href="/blog/assets/js/Linux_13.æœåŠ¡ä¸è‡ªåŠ¨åŒ–ç®¡ç†_index.html.9c87d522.js" as="script"><link rel="prefetch" href="/blog/assets/js/é¡¹ç›®å®æˆ˜_è°·ç²’å•†åŸ_æŠ¥é”™è®°å½•_index.html.70f7c181.js" as="script"><link rel="prefetch" href="/blog/assets/js/category_é¢è¯•é¢˜_index.html.845f8417.js" as="script"><link rel="prefetch" href="/blog/assets/js/category_ä¸­é—´ä»¶_index.html.97ec3efb.js" as="script"><link rel="prefetch" href="/blog/assets/js/category_æ•°æ®åº“_index.html.83e606c4.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_dockerå®‰è£…_index.html.8b93a24a.js" as="script"><link rel="prefetch" href="/blog/assets/js/category_javaåŸºç¡€_index.html.f6d732a1.js" as="script"><link rel="prefetch" href="/blog/assets/js/category_javaé«˜çº§_index.html.c878be91.js" as="script"><link rel="prefetch" href="/blog/assets/js/category_mybatis-plus_index.html.c04e2de5.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_java8ç‰¹æ€§_index.html.275356c9.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_Redis_3.é«˜çº§_01-åˆ†å¸ƒå¼ç¼“å­˜_index.html.94233e6d.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_Redis_3.é«˜çº§_03-Redisæœ€ä½³å®è·µ_index.html.2702e0b4.js" as="script"><link rel="prefetch" href="/blog/assets/js/Linux_15.æ•…éšœæ’é™¤ä¸ä¿®å¤_index.html.e8992ef7.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_ä½è´¨é‡_index.html.79d8906a.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_å¤šçº¿ç¨‹_index.html.9117e7ac.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_ç§æœ‰äº‘_index.html.d8414901.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_é¢è¯•é¢˜_index.html.e0348b12.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_é«˜è´¨é‡_index.html.23bd3270.js" as="script"><link rel="prefetch" href="/blog/assets/js/category_springcloud_index.html.43c30a9b.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_å¾®æœåŠ¡_index.html.130cbbc0.js" as="script"><link rel="prefetch" href="/blog/assets/js/Linux_6.ç½‘ç»œé…ç½®ä¸ç®¡ç†_index.html.3e11fb6a.js" as="script"><link rel="prefetch" href="/blog/assets/js/Linux_7.æ–‡ä»¶ä¸ç›®å½•ç®¡ç†_index.html.391a9e03.js" as="script"><link rel="prefetch" href="/blog/assets/js/Linux_9.ç£ç›˜ç®¡ç†ä¸å­˜å‚¨_index.html.6a488e15.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_MySQL_MySQLå¸è½½æ–‡æ¡£-Windows_index.html.6ed31eec.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_MySQL_MySQLå®‰è£…æ–‡æ¡£-Windows_index.html.d4ae3486.js" as="script"><link rel="prefetch" href="/blog/assets/js/Linux_4.ç³»ç»Ÿä¸è¿›ç¨‹ç®¡ç†_index.html.4322bebf.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_sqlä¼˜åŒ–_index.html.86be5054.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_yumå®‰è£…_index.html.1c491b07.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_MySQL_MySQLå¸è½½æ–‡æ¡£-Linux_index.html.77099bd5.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_MySQL_MySQLå®‰è£…æ–‡æ¡£-Linux_index.html.20254fd7.js" as="script"><link rel="prefetch" href="/blog/assets/js/category_å®æˆ˜_index.html.992f8ceb.js" as="script"><link rel="prefetch" href="/blog/assets/js/category_ç½‘ç»œ_index.html.0135c50b.js" as="script"><link rel="prefetch" href="/blog/assets/js/category_è£…æœº_index.html.ee8a94bd.js" as="script"><link rel="prefetch" href="/blog/assets/js/category_é¡¹ç›®_index.html.e4746c05.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_seåŸºç¡€_index.html.7e3cf171.js" as="script"><link rel="prefetch" href="/blog/assets/js/Python_index.html.c8abaf0e.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_Redis_3.é«˜çº§_02-å¤šçº§ç¼“å­˜_index.html.5fb4ff45.js" as="script"><link rel="prefetch" href="/blog/assets/js/SpringCloud_é«˜çº§_åˆ†å¸ƒå¼äº‹åŠ¡_index.html.c1c1dced.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_MySQL_MyCat-Webå®‰è£…æ–‡æ¡£_index.html.92b1f233.js" as="script"><link rel="prefetch" href="/blog/assets/js/category_markdown_index.html.162868dd.js" as="script"><link rel="prefetch" href="/blog/assets/js/é¡¹ç›®å®æˆ˜_è°·ç²’å•†åŸ_æ¿ä¹¦_index.html.b67917d1.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_å…¥é—¨åˆ°èµ·é£_31.å¤šçº¿ç¨‹_index.html.602d3354.js" as="script"><link rel="prefetch" href="/blog/assets/js/Linux_3.ç”¨æˆ·ä¸ç»„ç®¡ç†_index.html.6da59a49.js" as="script"><link rel="prefetch" href="/blog/assets/js/category_mybatis_index.html.4894bb25.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_äº†è§£_index.html.ecd9648d.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_äº‹åŠ¡_index.html.0044a2c4.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_ä½¿ç”¨_index.html.5131d3b6.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_å…¥é—¨_index.html.eed26a51.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_å¸è½½_index.html.b1697353.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_åå°„_index.html.32f1407b.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_å‘½ä»¤_index.html.69b1e459.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_å‘ç‹_index.html.9cce34bb.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_åŸºç¡€_index.html.eb3a8149.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_å®‰å…¨_index.html.bfcd235b.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_å®‰è£…_index.html.e2d6e1a3.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_å®¹å™¨_index.html.2255a6fc.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_å¿…èƒŒ_index.html.04b1ce12.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_æ€»ç»“_index.html.29b9f11f.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_æ’ä»¶_index.html.d014632d.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_æ•™ç¨‹_index.html.f19541da.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_çˆ¬è™«_index.html.2f540f9c.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_ç›®å½•_index.html.1896117b.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_ç¬”è®°_index.html.47e511bd.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_ç®€å•_index.html.3aefd89b.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_ç»éªŒ_index.html.499f6253.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_ç½‘ç»œ_index.html.7f3a9817.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_è£…æœº_index.html.8bfd3100.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_è¸©å‘_index.html.44ea6bd5.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_é‡ç‚¹_index.html.e49eed21.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_é•œåƒ_index.html.9b6c5d59.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_æŸ¥è¯¢_index.html.8bf196b3.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_æ³¨è§£_index.html.29427b89.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_è®²ä¹‰_index.html.f2836424.js" as="script"><link rel="prefetch" href="/blog/assets/js/category_windows_index.html.a0d63f6b.js" as="script"><link rel="prefetch" href="/blog/assets/js/category_devops_index.html.5f93dbaf.js" as="script"><link rel="prefetch" href="/blog/assets/js/category_docker_index.html.5b2fa542.js" as="script"><link rel="prefetch" href="/blog/assets/js/category_python_index.html.f127ec96.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_rabbitmq_index.html.0d6500e0.js" as="script"><link rel="prefetch" href="/blog/assets/js/category_spring_index.html.2fdc451d.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_sentinel_index.html.8336fbff.js" as="script"><link rel="prefetch" href="/blog/assets/js/é¡¹ç›®å®æˆ˜_ä¸ªäººåšå®¢_index.html.2313e13d.js" as="script"><link rel="prefetch" href="/blog/assets/js/category_linux_index.html.f3228c14.js" as="script"><link rel="prefetch" href="/blog/assets/js/category_maven_index.html.7d60d030.js" as="script"><link rel="prefetch" href="/blog/assets/js/category_mycat_index.html.86a2db6b.js" as="script"><link rel="prefetch" href="/blog/assets/js/category_mysql_index.html.26b31028.js" as="script"><link rel="prefetch" href="/blog/assets/js/category_netty_index.html.fa203ef0.js" as="script"><link rel="prefetch" href="/blog/assets/js/category_nginx_index.html.407b8d93.js" as="script"><link rel="prefetch" href="/blog/assets/js/category_redis_index.html.4cbc3ebc.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_jenkins_index.html.2191329b.js" as="script"><link rel="prefetch" href="/blog/assets/js/category_nacos_index.html.c1176a12.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_MySQL_MyCatå®‰è£…æ–‡æ¡£_index.html.76c9f340.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_MySQL_MyCaté…ç½®æ–‡ä»¶_index.html.a7c285e2.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_MySQL_MySQLå­¦ä¹ ç¬”è®°_index.html.be35453d.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_MySQL_MySQLå®‰å…¨é…ç½®_index.html.aafb2055.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_MySQL_MySQLæ•…éšœä¿®å¤_index.html.aca33ef0.js" as="script"><link rel="prefetch" href="/blog/assets/js/category_java_index.html.9d6f99cf.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_é»‘é©¬Java2021_01åŸºç¡€ç¯‡_index.html.b31021c1.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_é»‘é©¬Java2021_02å¹¶å‘ç¯‡_index.html.d71d4fdc.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_é»‘é©¬Java2021_03è™šæ‹Ÿæœº_index.html.79412479.js" as="script"><link rel="prefetch" href="/blog/assets/js/SSM_03-Mavené«˜çº§ç¬”è®°_index.html.23d2c968.js" as="script"><link rel="prefetch" href="/blog/assets/js/Linux_1.å®‰è£…ä¸é…ç½®_index.html.409252b0.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_é»‘é©¬Java2021_04æ¡†æ¶ç¯‡_index.html.5df17691.js" as="script"><link rel="prefetch" href="/blog/assets/js/Linux_5.è½¯ä»¶åŒ…ç®¡ç†_index.html.56426779.js" as="script"><link rel="prefetch" href="/blog/assets/js/category_git_index.html.5580a9b7.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_error_index.html.653dfe72.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_seata_index.html.78f4240a.js" as="script"><link rel="prefetch" href="/blog/assets/js/category_jvm_index.html.92fde854.js" as="script"><link rel="prefetch" href="/blog/assets/js/category_vue_index.html.10b01273.js" as="script"><link rel="prefetch" href="/blog/assets/js/category_es_index.html.c387c936.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_cicd_index.html.b68870fd.js" as="script"><link rel="prefetch" href="/blog/assets/js/è®¾è®¡æ¨¡å¼_ç»“æ„å‹_index.html.2e4e0205.js" as="script"><link rel="prefetch" href="/blog/assets/js/SSM_02-SpringMVCç¬”è®°_SpringMVC_day02_index.html.708dfdbe.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_å…¥é—¨åˆ°èµ·é£_index.html.061d0c61.js" as="script"><link rel="prefetch" href="/blog/assets/js/SSM_02-SpringMVCç¬”è®°_SpringMVC_day01_index.html.4400276d.js" as="script"><link rel="prefetch" href="/blog/assets/js/SSM_03-Mavené«˜çº§ç¬”è®°_éšç¬”_index.html.fe7944a7.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_bug_index.html.d3c9f1e6.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_git_index.html.d8dc9df3.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_api_index.html.d4b193c8.js" as="script"><link rel="prefetch" href="/blog/assets/js/SSM_05-Mybatisplusç¬”è®°_index.html.73c75f79.js" as="script"><link rel="prefetch" href="/blog/assets/js/SSM_04-SpringBootç¬”è®°_index.html.a8139618.js" as="script"><link rel="prefetch" href="/blog/assets/js/è®¡ç®—æœºåŸºç¡€_index.html.16af6a45.js" as="script"><link rel="prefetch" href="/blog/assets/js/è®¡ç®—æœºåŸºç¡€_ç½‘ç»œ_index.html.59ade7a5.js" as="script"><link rel="prefetch" href="/blog/assets/js/Linux_2.æ–‡ä»¶ç³»ç»Ÿ_index.html.66b6860c.js" as="script"><link rel="prefetch" href="/blog/assets/js/Nginx_index.html.d6a4fd99.js" as="script"><link rel="prefetch" href="/blog/assets/js/SSM_02-SpringMVCç¬”è®°_index.html.3cf013f0.js" as="script"><link rel="prefetch" href="/blog/assets/js/42771.91a1b5e9.js" as="script"><link rel="prefetch" href="/blog/assets/js/JVM_2.å†…å­˜ç»“æ„_index.html.afc97288.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_Redis_index.html.2dcb5bb3.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_index.html.55a5de9b.js" as="script"><link rel="prefetch" href="/blog/assets/js/SSM_01-Springç¬”è®°_spring_day02_index.html.727b3c45.js" as="script"><link rel="prefetch" href="/blog/assets/js/SSM_01-Springç¬”è®°_spring_day03_index.html.448dc846.js" as="script"><link rel="prefetch" href="/blog/assets/js/SSM_01-Springç¬”è®°_spring_day01_index.html.06d1d668.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_é»‘é©¬Java2021_index.html.ba029d6e.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_é»‘é©¬Java2023_index.html.bc3840c0.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_å”¯æ‰‹ç†Ÿå°”_index.html.5888d89e.js" as="script"><link rel="prefetch" href="/blog/assets/js/SSM_02-SpringMVCç¬”è®°_éšç¬”_index.html.715a478d.js" as="script"><link rel="prefetch" href="/blog/assets/js/SpringCloud_å®ç”¨_MQ_å®‰è£…_index.html.b52d30c4.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_MySQL_MySQLä¼˜åŒ–_index.html.4c7a55cb.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_MySQL_MySQLå°ç™½_index.html.04fb5ad7.js" as="script"><link rel="prefetch" href="/blog/assets/js/SSM_01-Springç¬”è®°_éšç¬”_index.html.8b6382c6.js" as="script"><link rel="prefetch" href="/blog/assets/js/SSM_01-Springç¬”è®°_index.html.c25d12cf.js" as="script"><link rel="prefetch" href="/blog/assets/js/Netty_index.html.65db1c6d.js" as="script"><link rel="prefetch" href="/blog/assets/js/category_index.html.155c8344.js" as="script"><link rel="prefetch" href="/blog/assets/js/é¡¹ç›®å®æˆ˜_index.html.7d05baa1.js" as="script"><link rel="prefetch" href="/blog/assets/js/timeline_index.html.7b2ea859.js" as="script"><link rel="prefetch" href="/blog/assets/js/è®¾è®¡æ¨¡å¼_index.html.f6e07426.js" as="script"><link rel="prefetch" href="/blog/assets/js/SpringCloud_é«˜çº§_Sentinel_index.html.c5d06934.js" as="script"><link rel="prefetch" href="/blog/assets/js/Docker_index.html.1c24ae43.js" as="script"><link rel="prefetch" href="/blog/assets/js/Mybatis_Mybatis Plus_æ¥å£_index.html.0f5efd49.js" as="script"><link rel="prefetch" href="/blog/assets/js/Mybatis_Mybatis Plus_æ³¨è§£_index.html.8b185c03.js" as="script"><link rel="prefetch" href="/blog/assets/js/Docker_ç§æœ‰äº‘_index.html.075064de.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_Redis_1.å…¥é—¨_index.html.5b9e9ef9.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_Redis_2.å®æˆ˜_index.html.6be686a7.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_Redis_3.é«˜çº§_index.html.5a335cba.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_Redis_4.åŸç†_index.html.b2e59685.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_Java_01åŸºç¡€_index.html.7f63f8eb.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_Java_02ä¸­ç­‰_index.html.a72a95f6.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_Java8ç‰¹æ€§_index.html.eecfb5cd.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_é¢è¯•é¢˜_index.html.117bb112.js" as="script"><link rel="prefetch" href="/blog/assets/js/article_index.html.569e8c23.js" as="script"><link rel="prefetch" href="/blog/assets/js/tag_index.html.2856d096.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_å·¥å…·ç±»_index.html.f33c625a.js" as="script"><link rel="prefetch" href="/blog/assets/js/SpringCloud_å®ç”¨_Docker_index.html.865e8687.js" as="script"><link rel="prefetch" href="/blog/assets/js/SpringCloud_é«˜çº§_Jmeter_index.html.59404b3f.js" as="script"><link rel="prefetch" href="/blog/assets/js/SpringCloud_é«˜çº§_Sentinel_bug_index.html.cb4ac0bc.js" as="script"><link rel="prefetch" href="/blog/assets/js/Mybatis_Mybatis Plus_index.html.07c14222.js" as="script"><link rel="prefetch" href="/blog/assets/js/SpringCloud_é«˜çº§_Seata_index.html.cce0a084.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_MySQL_åŸºç¡€_index.html.cea81701.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_MySQL_å·¥å…·_index.html.1773e91c.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_MySQL_è¿›é˜¶_index.html.742b1e03.js" as="script"><link rel="prefetch" href="/blog/assets/js/SpringCloud_Alibaba-OSS_index.html.60c75623.js" as="script"><link rel="prefetch" href="/blog/assets/js/star_index.html.afb8a4ab.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_MySQL_è¿ç»´_index.html.03942232.js" as="script"><link rel="prefetch" href="/blog/assets/js/Linux_0.ç¬”è®°_index.html.3023fc28.js" as="script"><link rel="prefetch" href="/blog/assets/js/SpringCloud_åŸºç¡€_index.html.af52f5a3.js" as="script"><link rel="prefetch" href="/blog/assets/js/SpringCloud_å®ç”¨_index.html.794ad781.js" as="script"><link rel="prefetch" href="/blog/assets/js/SSM_01-Springç¬”è®°_AOP_index.html.4c4da2e0.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_MQ_RabbitMQ_index.html.50a477fe.js" as="script"><link rel="prefetch" href="/blog/assets/js/Docker_éšç¬”_index.html.8a138fac.js" as="script"><link rel="prefetch" href="/blog/assets/js/Python_åŸºç¡€_index.html.3d54bf3d.js" as="script"><link rel="prefetch" href="/blog/assets/js/SpringCloud_å®ç”¨_ES_index.html.ec44908e.js" as="script"><link rel="prefetch" href="/blog/assets/js/SpringCloud_å®ç”¨_MQ_index.html.11b9ddb1.js" as="script"><link rel="prefetch" href="/blog/assets/js/Spring_æ³¨è§£_index.html.899d1ded.js" as="script"><link rel="prefetch" href="/blog/assets/js/Python_çˆ¬è™«_index.html.6b49fe8f.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_å¼‚å¸¸_index.html.7adb20a6.js" as="script"><link rel="prefetch" href="/blog/assets/js/SpringCloud_index.html.600ac479.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_sanfene_index.html.c06543c4.js" as="script"><link rel="prefetch" href="/blog/assets/js/å‰ç«¯_node_index.html.cb067259.js" as="script"><link rel="prefetch" href="/blog/assets/js/å‰ç«¯_index.html.9f5f0777.js" as="script"><link rel="prefetch" href="/blog/assets/js/ç½‘ç»œ_index.html.fd93de38.js" as="script"><link rel="prefetch" href="/blog/assets/js/è£…æœº_index.html.11f29d09.js" as="script"><link rel="prefetch" href="/blog/assets/js/MQ_RabbitMQ_index.html.02e2b7c7.js" as="script"><link rel="prefetch" href="/blog/assets/js/Mybatis_Mybatis_index.html.527c3a0a.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_Spring_index.html.fed455af.js" as="script"><link rel="prefetch" href="/blog/assets/js/SpringMVC_index.html.31a9d78e.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_MySQL_index.html.9854a4ab.js" as="script"><link rel="prefetch" href="/blog/assets/js/Database_index.html.01e6f15b.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_é»‘é©¬Java2023_08å¹¶å‘ç¼–ç¨‹_all.html.cd7770ba.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_Java_index.html.016ef2d3.js" as="script"><link rel="prefetch" href="/blog/assets/js/Spring_Junit_index.html.6d8317b3.js" as="script"><link rel="prefetch" href="/blog/assets/js/Java_String_index.html.23f21b58.js" as="script"><link rel="prefetch" href="/blog/assets/js/Mybatis_index.html.6296d9d5.js" as="script"><link rel="prefetch" href="/blog/assets/js/MQ_Kafka_index.html.196b4b76.js" as="script"><link rel="prefetch" href="/blog/assets/js/Bug_Java_index.html.6665c673.js" as="script"><link rel="prefetch" href="/blog/assets/js/Interview_MQ_index.html.b888973f.js" as="script"><link rel="prefetch" href="/blog/assets/js/Netty_API_index.html.104827b3.js" as="script"><link rel="prefetch" href="/blog/assets/js/VCS_Git_index.html.4bfded9d.js" as="script"><link rel="prefetch" href="/blog/assets/js/CICD_index.html.779a49fe.js" as="script"><link rel="prefetch" href="/blog/assets/js/Bug_index.html.48809fbd.js" as="script"><link rel="prefetch" href="/blog/assets/js/VCS_index.html.2dd3e119.js" as="script"><link rel="prefetch" href="/blog/assets/js/404.html.7b058f71.js" as="script"><link rel="prefetch" href="/blog/assets/js/MQ_index.html.03446d9b.js" as="script"><link rel="prefetch" href="/blog/assets/js/52666.bc9abe6c.js" as="script"><link rel="prefetch" href="/blog/assets/js/78070.ebbf2996.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><div class="theme-container external-link-icon has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><!--[--><a class="route-link vp-brand" href="/blog/" aria-label="å¸¦æˆ‘å›å®¶"><img class="vp-nav-logo" src="/blog/assets/images/avatar.png" alt><!----><span class="vp-site-name hide-in-pad">å°æ»¡</span></a><!--]--><!----></div><div class="vp-navbar-center"><!----><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/blog/" aria-label="ä¸»é¡µ"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-home" style=""></span><!--]-->ä¸»é¡µ<!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="åç«¯"><!--[--><span class="font-icon icon fa-fw fa-sm fas fa-code" style=""></span>åç«¯<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/blog/Java/" aria-label="Java"><!--[--><span class="font-icon icon fa-fw fa-sm fa-brands fa-java" style=""></span><!--]-->Java<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/blog/Python/" aria-label="Python"><!--[--><span class="font-icon icon fa-fw fa-sm fa-brands fa-python" style=""></span><!--]-->Python<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/blog/JVM/" aria-label="JVM"><!--[--><span class="font-icon icon fa-fw fa-sm fa-solid fa-microchip" style=""></span><!--]-->JVM<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/blog/Vue/" aria-label="Vue"><!--[--><span class="font-icon icon fa-fw fa-sm fa-brands fa-vuejs" style=""></span><!--]-->Vue<!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="Spring"><!--[--><span class="font-icon icon fa-fw fa-sm fa-solid fa-leaf" style=""></span>Spring<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/blog/Spring/" aria-label="Spring"><!--[--><span class="font-icon icon fa-fw fa-sm fa-solid fa-leaf" style=""></span><!--]-->Spring<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/blog/SpringMVC/" aria-label="SpringMVC"><!--[--><span class="font-icon icon fa-fw fa-sm fa-solid fa-leaf" style=""></span><!--]-->SpringMVC<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/blog/SSM/" aria-label="SSM"><!--[--><span class="font-icon icon fa-fw fa-sm fa-solid fa-leaf" style=""></span><!--]-->SSM<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="SpringCloud"><!--[--><span class="font-icon icon fa-fw fa-sm fa-solid fa-cloud" style=""></span>SpringCloud<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/blog/SpringCloud/%E9%AB%98%E7%BA%A7/" aria-label="é«˜çº§ç¯‡"><!--[--><span class="font-icon icon fa-fw fa-sm fa-brands fa-web-awesome" style=""></span><!--]-->é«˜çº§ç¯‡<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="æ•°æ®åº“"><!--[--><span class="font-icon icon fa-fw fa-sm fa-solid fa-database" style=""></span>æ•°æ®åº“<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/blog/Database/MySQL/" aria-label="MySQL"><!--[--><span class="font-icon icon fa-fw fa-sm fa-solid fa-database" style=""></span><!--]-->MySQL<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/blog/Database/Redis/" aria-label="Redis"><!--[--><span class="font-icon icon fa-fw fa-sm fa-solid fa-server" style=""></span><!--]-->Redis<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/blog/Docker/" aria-label="Docker"><!--[--><span class="font-icon icon fa-fw fa-sm fa-brands fa-docker" style=""></span><!--]-->Docker<!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="Linux"><!--[--><span class="font-icon icon fa-fw fa-sm fa-brands fa-linux" style=""></span>Linux<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/blog/Linux/" aria-label="Linux"><!--[--><span class="font-icon icon fa-fw fa-sm fa-brands fa-linux" style=""></span><!--]-->Linux<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/blog/Netty/" aria-label="Netty"><!--[--><span class="font-icon icon fa-fw fa-sm fa-solid fa-n" style=""></span><!--]-->Netty<!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="é¡¹ç›®å®æˆ˜"><!--[--><span class="font-icon icon fa-fw fa-sm fa-brands fa-product-hunt" style=""></span>é¡¹ç›®å®æˆ˜<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/blog/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/%E8%B0%B7%E7%B2%92%E5%95%86%E5%9F%8E/" aria-label="è°·ç²’å•†åŸ"><!--[--><span class="font-icon icon fa-fw fa-sm fa-brands fa-codepen" style=""></span><!--]-->è°·ç²’å•†åŸ<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/blog/Interview/" aria-label="é¢è¯•é¢˜"><!--[--><span class="font-icon icon fa-fw fa-sm fa-solid fa-book-tanakh" style=""></span><!--]-->é¢è¯•é¢˜<!----></a></div></nav><!--]--><!----></div><div class="vp-navbar-end"><!----><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/JL-20191210/blog" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-outlook-button" tabindex="-1" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon" name="outlook"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="vp-outlook-dropdown"><!----></div></button></div><form class="search-box" role="search"><input type="search" placeholder="æœç´¢" autocomplete="off" spellcheck="false" value><!----></form><!--]--><!----><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Java</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">MQ</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">My SQL</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">Sanfene</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/blog/Interview/sanfene/nixi.html" aria-label="é¢æ¸£é€†è¢­"><!---->é¢æ¸£é€†è¢­<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/blog/Interview/sanfene/javase.html" aria-label="é¢æ¸£é€†è¢­-Java SE"><!---->é¢æ¸£é€†è¢­-Java SE<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/blog/Interview/sanfene/javathread.html" aria-label="é¢æ¸£é€†è¢­-Javaå¹¶å‘ç¼–ç¨‹"><!---->é¢æ¸£é€†è¢­-Javaå¹¶å‘ç¼–ç¨‹<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/blog/Interview/sanfene/collection.html" aria-label="é¢æ¸£é€†è¢­-Javaé›†åˆæ¡†æ¶"><!---->é¢æ¸£é€†è¢­-Javaé›†åˆæ¡†æ¶<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/blog/Interview/sanfene/jvm.html" aria-label="é¢æ¸£é€†è¢­-JVM"><!---->é¢æ¸£é€†è¢­-JVM<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/blog/Interview/sanfene/linux.html" aria-label="é¢æ¸£é€†è¢­-Linux"><!---->é¢æ¸£é€†è¢­-Linux<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/blog/Interview/sanfene/mybatis.html" aria-label="é¢æ¸£é€†è¢­-MyBatis"><!---->é¢æ¸£é€†è¢­-MyBatis<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/blog/Interview/sanfene/mysql.html" aria-label="é¢æ¸£é€†è¢­-MySQL"><!---->é¢æ¸£é€†è¢­-MySQL<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/blog/Interview/sanfene/netty.html" aria-label="é¢æ¸£é€†è¢­-Netty"><!---->é¢æ¸£é€†è¢­-Netty<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/blog/Interview/sanfene/redis.html" aria-label="é¢æ¸£é€†è¢­-Redis"><!---->é¢æ¸£é€†è¢­-Redis<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/blog/Interview/sanfene/rocketmq.html" aria-label="é¢æ¸£é€†è¢­-RocketMQ"><!---->é¢æ¸£é€†è¢­-RocketMQ<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/blog/Interview/sanfene/spring.html" aria-label="é¢æ¸£é€†è¢­-Spring"><!---->é¢æ¸£é€†è¢­-Spring<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/blog/Interview/sanfene/fenbushi.html" aria-label="é¢æ¸£é€†è¢­-åˆ†å¸ƒå¼"><!---->é¢æ¸£é€†è¢­-åˆ†å¸ƒå¼<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/blog/Interview/sanfene/weifuwu.html" aria-label="é¢æ¸£é€†è¢­-å¾®æœåŠ¡"><!---->é¢æ¸£é€†è¢­-å¾®æœåŠ¡<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/blog/Interview/sanfene/os.html" aria-label="é¢æ¸£é€†è¢­-æ“ä½œç³»ç»Ÿ"><!---->é¢æ¸£é€†è¢­-æ“ä½œç³»ç»Ÿ<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/blog/Interview/sanfene/network.html" aria-label="é¢æ¸£é€†è¢­-è®¡ç®—æœºç½‘ç»œ"><!---->é¢æ¸£é€†è¢­-è®¡ç®—æœºç½‘ç»œ<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/blog/Interview/sanfene/shejimoshi.html" aria-label="é¢æ¸£é€†è¢­-è®¾è®¡æ¨¡å¼"><!---->é¢æ¸£é€†è¢­-è®¾è®¡æ¨¡å¼<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Spring</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">é»‘é©¬ Java2021</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">é»‘é©¬ Java2023</span><span class="vp-arrow end"></span></button><!----></section></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->MySQLé¢è¯•é¢˜ï¼Œ84é“MySQLå…«è‚¡æ–‡ï¼ˆ4.4ä¸‡å­—101å¼ æ‰‹ç»˜å›¾ï¼‰ï¼Œé¢æ¸£é€†è¢­å¿…çœ‹ğŸ‘</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><span class="page-author-item">ä¸‰åˆ†æ¶</span></span><span property="author" content="ä¸‰åˆ†æ¶"></span></span><!----><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">2025å¹´2æœˆ27æ—¥</span><meta property="datePublished" content="2025-02-27T00:00:00.000Z"></span><!----><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 188 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT188M"></span><span class="page-category-info" aria-label="åˆ†ç±»ğŸŒˆ" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon" name="category"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item color3 clickable" role="navigation">é¢æ¸£é€†è¢­</span><!--]--><meta property="articleSection" content="é¢æ¸£é€†è¢­"></span><span class="page-tag-info" aria-label="æ ‡ç­¾ğŸ·" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon" name="tag"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item color3 clickable" role="navigation">é¢æ¸£é€†è¢­</span><!--]--><meta property="keywords" content="é¢æ¸£é€†è¢­"></span></div><hr></div><div class="vp-toc-placeholder"><aside id="toc"><!----><div class="vp-toc-header">æ­¤é¡µå†…å®¹<button type="button" class="print-button" title="æ‰“å°"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon" name="print"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#å‰è¨€">å‰è¨€</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#mysql-åŸºç¡€">MySQL åŸºç¡€</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ğŸŒŸ0-ä»€ä¹ˆæ˜¯-mysql">ğŸŒŸ0.ä»€ä¹ˆæ˜¯ MySQLï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_1-ä¸¤å¼ è¡¨æ€ä¹ˆè¿›è¡Œè¿æ¥">1.ä¸¤å¼ è¡¨æ€ä¹ˆè¿›è¡Œè¿æ¥ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-å†…è¿æ¥ã€å·¦è¿æ¥ã€å³è¿æ¥æœ‰ä»€ä¹ˆåŒºåˆ«">2.å†…è¿æ¥ã€å·¦è¿æ¥ã€å³è¿æ¥æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_3-è¯´ä¸€ä¸‹æ•°æ®åº“çš„ä¸‰å¤§èŒƒå¼">3.è¯´ä¸€ä¸‹æ•°æ®åº“çš„ä¸‰å¤§èŒƒå¼ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_4-varchar-ä¸-char-çš„åŒºåˆ«">4.varchar ä¸ char çš„åŒºåˆ«ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_5-blob-å’Œ-text-æœ‰ä»€ä¹ˆåŒºåˆ«">5.blob å’Œ text æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_6-datetime-å’Œ-timestamp-æœ‰ä»€ä¹ˆåŒºåˆ«">6.DATETIME å’Œ TIMESTAMP æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-in-å’Œ-exists-çš„åŒºåˆ«">7.in å’Œ exists çš„åŒºåˆ«ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_8-è®°å½•è´§å¸ç”¨ä»€ä¹ˆç±»å‹æ¯”è¾ƒå¥½">8.è®°å½•è´§å¸ç”¨ä»€ä¹ˆç±»å‹æ¯”è¾ƒå¥½ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_9-æ€ä¹ˆå­˜å‚¨-emoji">9.æ€ä¹ˆå­˜å‚¨ emoji?</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_10-dropã€delete-ä¸-truncate-çš„åŒºåˆ«">10.dropã€delete ä¸ truncate çš„åŒºåˆ«ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_11-union-ä¸-union-all-çš„åŒºåˆ«">11.UNION ä¸ UNION ALL çš„åŒºåˆ«ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_12-count-1-ã€count-ä¸-count-åˆ—å-çš„åŒºåˆ«">12.count(1)ã€count(*) ä¸ count(åˆ—å) çš„åŒºåˆ«ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_13-sql-æŸ¥è¯¢è¯­å¥çš„æ‰§è¡Œé¡ºåºäº†è§£å—">13.SQL æŸ¥è¯¢è¯­å¥çš„æ‰§è¡Œé¡ºåºäº†è§£å—ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_14-ä»‹ç»ä¸€ä¸‹-mysql-çš„å¸¸ç”¨å‘½ä»¤-è¡¥å……">14.ä»‹ç»ä¸€ä¸‹ MySQL çš„å¸¸ç”¨å‘½ä»¤ï¼ˆè¡¥å……ï¼‰</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_15-mysql-bin-ç›®å½•ä¸‹çš„å¯æ‰§è¡Œæ–‡ä»¶äº†è§£å—-è¡¥å……">15.MySQL bin ç›®å½•ä¸‹çš„å¯æ‰§è¡Œæ–‡ä»¶äº†è§£å—ï¼ˆè¡¥å……ï¼‰</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_16-mysql-ç¬¬-3-10-æ¡è®°å½•æ€ä¹ˆæŸ¥-è¡¥å……">16.MySQL ç¬¬ 3-10 æ¡è®°å½•æ€ä¹ˆæŸ¥ï¼Ÿï¼ˆè¡¥å……ï¼‰</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_17-ç”¨è¿‡å“ªäº›-mysql-å‡½æ•°-è¡¥å……">17.ç”¨è¿‡å“ªäº› MySQL å‡½æ•°ï¼Ÿï¼ˆè¡¥å……ï¼‰</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_18-è¯´è¯´-sql-çš„éšå¼æ•°æ®ç±»å‹è½¬æ¢-è¡¥å……">18.è¯´è¯´ SQL çš„éšå¼æ•°æ®ç±»å‹è½¬æ¢ï¼Ÿï¼ˆè¡¥å……ï¼‰</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_19-è¯´è¯´-sql-çš„è¯­æ³•æ ‘è§£æ-è¡¥å……">19. è¯´è¯´ SQL çš„è¯­æ³•æ ‘è§£æï¼Ÿï¼ˆè¡¥å……ï¼‰</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#æ•°æ®åº“æ¶æ„">æ•°æ®åº“æ¶æ„</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_20-è¯´è¯´-mysql-çš„åŸºç¡€æ¶æ„">20.è¯´è¯´ MySQL çš„åŸºç¡€æ¶æ„ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_21-ä¸€æ¡æŸ¥è¯¢è¯­å¥æ˜¯å¦‚ä½•æ‰§è¡Œçš„">21.ä¸€æ¡æŸ¥è¯¢è¯­å¥æ˜¯å¦‚ä½•æ‰§è¡Œçš„ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_22-ä¸€æ¡æ›´æ–°è¯­å¥æ˜¯å¦‚ä½•æ‰§è¡Œçš„">22.ä¸€æ¡æ›´æ–°è¯­å¥æ˜¯å¦‚ä½•æ‰§è¡Œçš„ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_23-è¯´è¯´-mysql-çš„æ®µåŒºé¡µè¡Œ-è¡¥å……">23.è¯´è¯´ MySQL çš„æ®µåŒºé¡µè¡Œï¼ˆè¡¥å……ï¼‰</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#å­˜å‚¨å¼•æ“">å­˜å‚¨å¼•æ“</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_24-mysql-æœ‰å“ªäº›å¸¸è§å­˜å‚¨å¼•æ“">24.MySQL æœ‰å“ªäº›å¸¸è§å­˜å‚¨å¼•æ“ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_25-å­˜å‚¨å¼•æ“åº”è¯¥æ€ä¹ˆé€‰æ‹©">25.å­˜å‚¨å¼•æ“åº”è¯¥æ€ä¹ˆé€‰æ‹©ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_26-innodb-å’Œ-myisam-ä¸»è¦æœ‰ä»€ä¹ˆåŒºåˆ«">26.InnoDB å’Œ MyISAM ä¸»è¦æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_27-innodb-çš„-buffer-pooläº†è§£å—-è¡¥å……">27. InnoDB çš„ Buffer Pooläº†è§£å—ï¼Ÿï¼ˆè¡¥å……ï¼‰</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#æ—¥å¿—">æ—¥å¿—</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_28-mysql-æ—¥å¿—æ–‡ä»¶æœ‰å“ªäº›">28.MySQL æ—¥å¿—æ–‡ä»¶æœ‰å“ªäº›ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_29-binlog-å’Œ-redo-log-æœ‰ä»€ä¹ˆåŒºåˆ«">29.binlog å’Œ redo log æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_30-ä¸ºä»€ä¹ˆè¦ä¸¤é˜¶æ®µæäº¤å‘¢">30.ä¸ºä»€ä¹ˆè¦ä¸¤é˜¶æ®µæäº¤å‘¢ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_31-redo-log-çš„å†™å…¥è¿‡ç¨‹äº†è§£å—">31.redo log çš„å†™å…¥è¿‡ç¨‹äº†è§£å—ï¼Ÿ</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#sql-ä¼˜åŒ–">SQL ä¼˜åŒ–</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ğŸŒŸ32-ä»€ä¹ˆæ˜¯æ…¢-sql">ğŸŒŸ32.ä»€ä¹ˆæ˜¯æ…¢ SQLï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ğŸŒŸ33-ä½ çŸ¥é“å“ªäº›æ–¹æ³•æ¥ä¼˜åŒ–-sql">ğŸŒŸ33.ä½ çŸ¥é“å“ªäº›æ–¹æ³•æ¥ä¼˜åŒ– SQLï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_34-æ€ä¹ˆçœ‹æ‰§è¡Œè®¡åˆ’-explain-å¦‚ä½•ç†è§£å…¶ä¸­å„ä¸ªå­—æ®µçš„å«ä¹‰">34.æ€ä¹ˆçœ‹æ‰§è¡Œè®¡åˆ’ explainï¼Œå¦‚ä½•ç†è§£å…¶ä¸­å„ä¸ªå­—æ®µçš„å«ä¹‰ï¼Ÿ</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#ç´¢å¼•">ç´¢å¼•</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_35-ä¸ºä»€ä¹ˆä½¿ç”¨ç´¢å¼•ä¼šåŠ å¿«æŸ¥è¯¢">35.ä¸ºä»€ä¹ˆä½¿ç”¨ç´¢å¼•ä¼šåŠ å¿«æŸ¥è¯¢ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_36-èƒ½ç®€å•è¯´ä¸€ä¸‹ç´¢å¼•çš„åˆ†ç±»å—">36.èƒ½ç®€å•è¯´ä¸€ä¸‹ç´¢å¼•çš„åˆ†ç±»å—ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_37-åˆ›å»ºç´¢å¼•æœ‰å“ªäº›æ³¨æ„ç‚¹">37.åˆ›å»ºç´¢å¼•æœ‰å“ªäº›æ³¨æ„ç‚¹ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_38-ç´¢å¼•å“ªäº›æƒ…å†µä¸‹ä¼šå¤±æ•ˆå‘¢">38.ç´¢å¼•å“ªäº›æƒ…å†µä¸‹ä¼šå¤±æ•ˆå‘¢ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_39-ç´¢å¼•ä¸é€‚åˆå“ªäº›åœºæ™¯å‘¢">39.ç´¢å¼•ä¸é€‚åˆå“ªäº›åœºæ™¯å‘¢ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_40-ç´¢å¼•æ˜¯ä¸æ˜¯å»ºçš„è¶Šå¤šè¶Šå¥½">40.ç´¢å¼•æ˜¯ä¸æ˜¯å»ºçš„è¶Šå¤šè¶Šå¥½ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_41-ä¸ºä»€ä¹ˆ-innodb-è¦ä½¿ç”¨-b-æ ‘ä½œä¸ºç´¢å¼•">41.ä¸ºä»€ä¹ˆ InnoDB è¦ä½¿ç”¨ B+æ ‘ä½œä¸ºç´¢å¼•ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_42-ä¸€æ£µ-b-æ ‘èƒ½å­˜å‚¨å¤šå°‘æ¡æ•°æ®å‘¢">42.ä¸€æ£µ B+æ ‘èƒ½å­˜å‚¨å¤šå°‘æ¡æ•°æ®å‘¢ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_43-ä¸ºä»€ä¹ˆä¸ç”¨æ™®é€šäºŒå‰æ ‘">43.ä¸ºä»€ä¹ˆä¸ç”¨æ™®é€šäºŒå‰æ ‘ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_44-ä¸ºä»€ä¹ˆç”¨-b-æ ‘è€Œä¸ç”¨-b-æ ‘å‘¢">44.ä¸ºä»€ä¹ˆç”¨ B+ æ ‘è€Œä¸ç”¨ B æ ‘å‘¢ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_45-hash-ç´¢å¼•å’Œ-b-æ ‘ç´¢å¼•åŒºåˆ«æ˜¯ä»€ä¹ˆ">45.Hash ç´¢å¼•å’Œ B+ æ ‘ç´¢å¼•åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_46-èšç°‡ç´¢å¼•ä¸éèšç°‡ç´¢å¼•çš„åŒºåˆ«">46.èšç°‡ç´¢å¼•ä¸éèšç°‡ç´¢å¼•çš„åŒºåˆ«ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_47-å›è¡¨äº†è§£å—">47.å›è¡¨äº†è§£å—ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_48-è”åˆç´¢å¼•äº†è§£å—-è¡¥å……">48.è”åˆç´¢å¼•äº†è§£å—ï¼Ÿï¼ˆè¡¥å……ï¼‰</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_49-è¦†ç›–ç´¢å¼•äº†è§£å—">49.è¦†ç›–ç´¢å¼•äº†è§£å—ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_50-ä»€ä¹ˆæ˜¯æœ€å·¦å‰ç¼€åŸåˆ™">50.ä»€ä¹ˆæ˜¯æœ€å·¦å‰ç¼€åŸåˆ™ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_51-ä»€ä¹ˆæ˜¯ç´¢å¼•ä¸‹æ¨ä¼˜åŒ–">51.ä»€ä¹ˆæ˜¯ç´¢å¼•ä¸‹æ¨ä¼˜åŒ–ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_52-å¦‚ä½•æŸ¥çœ‹æ˜¯å¦ç”¨åˆ°äº†ç´¢å¼•-è¡¥å……">52.å¦‚ä½•æŸ¥çœ‹æ˜¯å¦ç”¨åˆ°äº†ç´¢å¼•ï¼Ÿï¼ˆè¡¥å……ï¼‰</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#é”">é”</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_53-mysql-ä¸­æœ‰å“ªå‡ ç§é”-åˆ—ä¸¾ä¸€ä¸‹">53.MySQL ä¸­æœ‰å“ªå‡ ç§é”ï¼Œåˆ—ä¸¾ä¸€ä¸‹ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_54-å…¨å±€é”å’Œè¡¨çº§é”äº†è§£å—-è¡¥å……">54.å…¨å±€é”å’Œè¡¨çº§é”äº†è§£å—ï¼Ÿï¼ˆè¡¥å……ï¼‰</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_55-è¯´è¯´-mysql-çš„è¡Œé”">55.è¯´è¯´ MySQL çš„è¡Œé”ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_85-é—´éš™é”äº†è§£å—-è¡¥å……">85. é—´éš™é”äº†è§£å—ï¼Ÿï¼ˆè¡¥å……ï¼‰</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_56-æ„å‘é”æ˜¯ä»€ä¹ˆçŸ¥é“å—">56.æ„å‘é”æ˜¯ä»€ä¹ˆçŸ¥é“å—ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_57-mysql-çš„ä¹è§‚é”å’Œæ‚²è§‚é”äº†è§£å—">57.MySQL çš„ä¹è§‚é”å’Œæ‚²è§‚é”äº†è§£å—ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_58-é‡åˆ°è¿‡æ­»é”é—®é¢˜å—-ä½ æ˜¯å¦‚ä½•è§£å†³çš„">58.é‡åˆ°è¿‡æ­»é”é—®é¢˜å—ï¼Œä½ æ˜¯å¦‚ä½•è§£å†³çš„ï¼Ÿ</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#äº‹åŠ¡">äº‹åŠ¡</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_59-mysql-äº‹åŠ¡çš„å››å¤§ç‰¹æ€§è¯´ä¸€ä¸‹">59.MySQL äº‹åŠ¡çš„å››å¤§ç‰¹æ€§è¯´ä¸€ä¸‹ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_60-acid-é ä»€ä¹ˆä¿è¯çš„å‘¢">60.ACID é ä»€ä¹ˆä¿è¯çš„å‘¢ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_61-äº‹åŠ¡çš„éš”ç¦»çº§åˆ«æœ‰å“ªäº›">61.äº‹åŠ¡çš„éš”ç¦»çº§åˆ«æœ‰å“ªäº›ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_62-ä»€ä¹ˆæ˜¯è„è¯»ã€ä¸å¯é‡å¤è¯»ã€å¹»è¯»å‘¢">62.ä»€ä¹ˆæ˜¯è„è¯»ã€ä¸å¯é‡å¤è¯»ã€å¹»è¯»å‘¢ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_63-äº‹åŠ¡çš„éš”ç¦»çº§åˆ«æ˜¯å¦‚ä½•å®ç°çš„">63.äº‹åŠ¡çš„éš”ç¦»çº§åˆ«æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_64-mvcc-äº†è§£å—-æ€ä¹ˆå®ç°çš„">64.MVCC äº†è§£å—ï¼Ÿæ€ä¹ˆå®ç°çš„ï¼Ÿ</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#é«˜å¯ç”¨-æ€§èƒ½">é«˜å¯ç”¨/æ€§èƒ½</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_65-æ•°æ®åº“è¯»å†™åˆ†ç¦»äº†è§£å—">65.æ•°æ®åº“è¯»å†™åˆ†ç¦»äº†è§£å—ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_66-è¯»å†™åˆ†ç¦»çš„åˆ†é…æ€ä¹ˆå®ç°å‘¢">66.è¯»å†™åˆ†ç¦»çš„åˆ†é…æ€ä¹ˆå®ç°å‘¢ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_67-ä¸»ä»å¤åˆ¶åŸç†äº†è§£å—">67.ä¸»ä»å¤åˆ¶åŸç†äº†è§£å—ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_68-ä¸»ä»åŒæ­¥å»¶è¿Ÿæ€ä¹ˆå¤„ç†">68.ä¸»ä»åŒæ­¥å»¶è¿Ÿæ€ä¹ˆå¤„ç†ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_69-ä½ ä»¬ä¸€èˆ¬æ˜¯æ€ä¹ˆåˆ†åº“çš„å‘¢">69.ä½ ä»¬ä¸€èˆ¬æ˜¯æ€ä¹ˆåˆ†åº“çš„å‘¢ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_70-é‚£ä½ ä»¬æ˜¯æ€ä¹ˆåˆ†è¡¨çš„">70.é‚£ä½ ä»¬æ˜¯æ€ä¹ˆåˆ†è¡¨çš„ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_71-åˆ†ç‰‡ç­–ç•¥æœ‰å“ªå‡ ç§">71.åˆ†ç‰‡ç­–ç•¥æœ‰å“ªå‡ ç§ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_72-ä¸åœæœºæ‰©å®¹æ€ä¹ˆå®ç°">72.ä¸åœæœºæ‰©å®¹æ€ä¹ˆå®ç°ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_73-æ€ä¹ˆåˆ†åº“åˆ†è¡¨">73.æ€ä¹ˆåˆ†åº“åˆ†è¡¨ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_74-ä½ è§‰å¾—åˆ†åº“åˆ†è¡¨ä¼šå¸¦æ¥ä»€ä¹ˆé—®é¢˜å‘¢">74.ä½ è§‰å¾—åˆ†åº“åˆ†è¡¨ä¼šå¸¦æ¥ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿ</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#è¿ç»´">è¿ç»´</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_75-ç™¾ä¸‡çº§åˆ«ä»¥ä¸Šçš„æ•°æ®å¦‚ä½•åˆ é™¤">75.ç™¾ä¸‡çº§åˆ«ä»¥ä¸Šçš„æ•°æ®å¦‚ä½•åˆ é™¤ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_76-ç™¾ä¸‡åƒä¸‡çº§å¤§è¡¨å¦‚ä½•æ·»åŠ å­—æ®µ">76.ç™¾ä¸‡åƒä¸‡çº§å¤§è¡¨å¦‚ä½•æ·»åŠ å­—æ®µï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_77-mysql-cpu-é£™å‡çš„è¯-è¦æ€ä¹ˆå¤„ç†å‘¢">77.MySQL cpu é£™å‡çš„è¯ï¼Œè¦æ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#sql-é¢˜">SQL é¢˜</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_78-ä¸€å¼ è¡¨-id-name-age-sex-class-sql-è¯­å¥-æ‰€æœ‰å¹´é¾„ä¸º-18-çš„äººçš„åå­—-æ‰¾åˆ°æ¯ä¸ªç­å¹´é¾„å¤§äº-18-æœ‰å¤šå°‘äºº-æ‰¾åˆ°æ¯ä¸ªç­å¹´é¾„æ’å‰ä¸¤åçš„äºº-è¡¥å……">78.ä¸€å¼ è¡¨ï¼šidï¼Œnameï¼Œageï¼Œsexï¼Œclassï¼Œsql è¯­å¥ï¼šæ‰€æœ‰å¹´é¾„ä¸º 18 çš„äººçš„åå­—ï¼Ÿæ‰¾åˆ°æ¯ä¸ªç­å¹´é¾„å¤§äº 18 æœ‰å¤šå°‘äººï¼Ÿæ‰¾åˆ°æ¯ä¸ªç­å¹´é¾„æ’å‰ä¸¤åçš„äººï¼Ÿï¼ˆè¡¥å……ï¼‰</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_79-æœ‰ä¸€ä¸ªæŸ¥è¯¢éœ€æ±‚-mysql-ä¸­æœ‰ä¸¤ä¸ªè¡¨-ä¸€ä¸ªè¡¨-1000w-æ•°æ®-å¦ä¸€ä¸ªè¡¨åªæœ‰å‡ åƒæ•°æ®-è¦åšä¸€ä¸ªå…³è”æŸ¥è¯¢-å¦‚ä½•ä¼˜åŒ–">79.æœ‰ä¸€ä¸ªæŸ¥è¯¢éœ€æ±‚ï¼ŒMySQL ä¸­æœ‰ä¸¤ä¸ªè¡¨ï¼Œä¸€ä¸ªè¡¨ 1000W æ•°æ®ï¼Œå¦ä¸€ä¸ªè¡¨åªæœ‰å‡ åƒæ•°æ®ï¼Œè¦åšä¸€ä¸ªå…³è”æŸ¥è¯¢ï¼Œå¦‚ä½•ä¼˜åŒ–</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_80-æ–°å»ºä¸€ä¸ªè¡¨ç»“æ„-åˆ›å»ºç´¢å¼•-å°†ç™¾ä¸‡æˆ–åƒä¸‡çº§çš„æ•°æ®ä½¿ç”¨-insert-å¯¼å…¥è¯¥è¡¨-æ–°å»ºä¸€ä¸ªè¡¨ç»“æ„-å°†ç™¾ä¸‡æˆ–åƒä¸‡çº§çš„æ•°æ®ä½¿ç”¨-isnert-å¯¼å…¥è¯¥è¡¨-å†åˆ›å»ºç´¢å¼•-è¿™ä¸¤ç§æ•ˆç‡å“ªä¸ªé«˜å‘¢-æˆ–è€…è¯´ç”¨æ—¶çŸ­å‘¢">80.æ–°å»ºä¸€ä¸ªè¡¨ç»“æ„ï¼Œåˆ›å»ºç´¢å¼•ï¼Œå°†ç™¾ä¸‡æˆ–åƒä¸‡çº§çš„æ•°æ®ä½¿ç”¨ insert å¯¼å…¥è¯¥è¡¨ï¼Œæ–°å»ºä¸€ä¸ªè¡¨ç»“æ„ï¼Œå°†ç™¾ä¸‡æˆ–åƒä¸‡çº§çš„æ•°æ®ä½¿ç”¨ isnert å¯¼å…¥è¯¥è¡¨ï¼Œå†åˆ›å»ºç´¢å¼•ï¼Œè¿™ä¸¤ç§æ•ˆç‡å“ªä¸ªé«˜å‘¢ï¼Ÿæˆ–è€…è¯´ç”¨æ—¶çŸ­å‘¢ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_81-ä»€ä¹ˆæ˜¯æ·±åˆ†é¡µ-select-from-tbn-limit-1000000000-è¿™ä¸ªæœ‰ä»€ä¹ˆé—®é¢˜-å¦‚æœè¡¨å¤§æˆ–è€…è¡¨å°åˆ†åˆ«ä»€ä¹ˆé—®é¢˜">81.ä»€ä¹ˆæ˜¯æ·±åˆ†é¡µï¼Œselect * from tbn limit 1000000000 è¿™ä¸ªæœ‰ä»€ä¹ˆé—®é¢˜ï¼Œå¦‚æœè¡¨å¤§æˆ–è€…è¡¨å°åˆ†åˆ«ä»€ä¹ˆé—®é¢˜</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_82-ä¸€ä¸ªè¡¨-name-sex-age-id-select-age-id-name-from-tblname-where-name-paicoding-æ€ä¹ˆå»ºç´¢å¼•">82.ä¸€ä¸ªè¡¨ï¼ˆname, sex,age,idï¼‰ï¼Œselect age,id,name from tblname where name=&#39;paicoding&#39;;æ€ä¹ˆå»ºç´¢å¼•</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_83-sql-é¢˜-ä¸€ä¸ªå­¦ç”Ÿæˆç»©è¡¨-å­—æ®µæœ‰å­¦ç”Ÿå§“åã€ç­çº§ã€æˆç»©-æ±‚å„ç­å‰åå">83.SQL é¢˜ï¼šä¸€ä¸ªå­¦ç”Ÿæˆç»©è¡¨ï¼Œå­—æ®µæœ‰å­¦ç”Ÿå§“åã€ç­çº§ã€æˆç»©ï¼Œæ±‚å„ç­å‰åå</a></li><!----><!--]--></ul></li><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!----></aside></div><!----><div class="theme-hope-content" vp-content><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/javathread-mianzhanixi-thread.jpg" alt="é¢æ¸£é€†è¢­å¹¶å‘ç¼–ç¨‹ç¯‡å°é¢å›¾" tabindex="0" loading="lazy"><figcaption>é¢æ¸£é€†è¢­å¹¶å‘ç¼–ç¨‹ç¯‡å°é¢å›¾</figcaption></figure><h2 id="å‰è¨€" tabindex="-1"><a class="header-anchor" href="#å‰è¨€"><span>å‰è¨€</span></a></h2><p>4.4 ä¸‡å­— 101 å¼ æ‰‹ç»˜å›¾ï¼Œè¯¦è§£ 84 é“ MySQL é¢è¯•é«˜é¢‘é¢˜ï¼ˆè®©å¤©ä¸‹æ²¡æœ‰éš¾èƒŒçš„å…«è‚¡ï¼‰ï¼Œé¢æ¸£èƒŒä¼šè¿™äº› MySQL å…«è‚¡æ–‡ï¼Œè¿™æ¬¡åŠæ‰“é¢è¯•å®˜ï¼Œæˆ‘è§‰å¾—ç¨³äº†ï¼ˆæ‰‹åŠ¨ dogï¼‰ã€‚æ•´ç†ï¼šæ²‰é»˜ç‹äºŒï¼Œæˆ³<a href="https://mp.weixin.qq.com/s/JFjFs_7xduCmHOegbJ-Gbg" target="_blank" rel="noopener noreferrer">è½¬è½½é“¾æ¥</a>ï¼Œä½œè€…ï¼šä¸‰åˆ†æ¶ï¼Œæˆ³<a href="https://mp.weixin.qq.com/s/zSTyZ-8CFalwAYSB0PN6wA" target="_blank" rel="noopener noreferrer">åŸæ–‡é“¾æ¥</a>ã€‚</p><p>äº®ç™½ç‰ˆæœ¬æ›´é€‚åˆæ‹¿å‡ºæ¥æ‰“å°ï¼Œè¿™ä¹Ÿæ˜¯å¾ˆå¤šå­¦ç”Ÿå…šå–œæ¬¢çš„æ–¹å¼ï¼Œæ‰“å°å‡ºæ¥èƒŒè¯µçš„æ•ˆç‡ä¼šæ›´é«˜ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/javathread-20250226112951.png" alt="é¢æ¸£é€†è¢­MySQLç¯‡.pdfç¬¬äºŒç‰ˆ" tabindex="0" loading="lazy"><figcaption>é¢æ¸£é€†è¢­MySQLç¯‡.pdfç¬¬äºŒç‰ˆ</figcaption></figure><p>2025 å¹´ 02 æœˆ 27 æ—¥å¼€å§‹ç€æ‰‹ç¬¬äºŒç‰ˆæ›´æ–°ã€‚</p><ul><li>å¯¹äºé«˜é¢‘é¢˜ï¼Œä¼šæ ‡æ³¨åœ¨ã€Š<a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>ã€‹ä¸­å‡ºç°çš„ä½ç½®ï¼Œå“ªå®¶å…¬å¸ï¼ŒåŸé¢˜æ˜¯ä»€ä¹ˆï¼›å¦‚æœä½ æƒ³èŠ‚çœæ—¶é—´çš„è¯ï¼Œå¯ä»¥ä¼˜å…ˆèƒŒè¯µè¿™äº›é¢˜ç›®ï¼Œå°½å¿«åšåˆ°çŸ¥å½¼çŸ¥å·±ï¼Œç™¾æˆ˜ä¸æ®†ã€‚</li><li>ç»“åˆé¡¹ç›®ï¼ˆ<a href="https://javabetter.cn/zhishixingqiu/paicoding.html" target="_blank" rel="noopener noreferrer">æŠ€æœ¯æ´¾</a>ã€<a href="https://javabetter.cn/zhishixingqiu/pmhub.html" target="_blank" rel="noopener noreferrer">pmhub</a>ï¼‰æ¥ç»„ç»‡è¯­è¨€ï¼Œè®©é¢è¯•å®˜æœ€å¤§ç¨‹åº¦æ„Ÿå—åˆ°ä½ çš„è¯šæ„ï¼Œè€Œä¸æ˜¯æœºæ¢°åŒ–çš„èƒŒè¯µã€‚</li><li>ä¿®å¤ç¬¬ä¸€ç‰ˆä¸­å‡ºç°çš„é—®é¢˜ï¼ŒåŒ…æ‹¬çƒå‹ä»¬çš„ç§ä¿¡åé¦ˆï¼Œç½‘ç«™ç•™è¨€åŒºçš„è¯„è®ºï¼Œä»¥åŠ <a href="https://github.com/itwanger/toBeBetterJavaer/issues" target="_blank" rel="noopener noreferrer">GitHub ä»“åº“</a>ä¸­çš„ issueï¼Œè®©è¿™ä»½é¢è¯•æŒ‡å—æ›´åŠ å®Œå–„ã€‚</li><li>ä¼˜åŒ–æ’ç‰ˆï¼Œå¢åŠ æ‰‹ç»˜å›¾ï¼Œé‡æ–°ç»„ç»‡ç­”æ¡ˆï¼Œä½¿å…¶æ›´åŠ å£è¯­åŒ–ï¼Œä»è€Œæ›´è´´è¿‘é¢è¯•å®˜çš„é¢„æœŸã€‚</li></ul><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/javathread-20250122093837.png" alt="é¢æ¸£é€†è¢­å·²ç»æäº¤ 1479 æ¬¡ GitHub è®°å½•" tabindex="0" loading="lazy"><figcaption>é¢æ¸£é€†è¢­å·²ç»æäº¤ 1479 æ¬¡ GitHub è®°å½•</figcaption></figure><p>ç”±äº PDF æ²¡åŠæ³•è‡ªæˆ‘æ›´æ–°ï¼Œæ‰€ä»¥éœ€è¦æœ€æ–°ç‰ˆçš„å°ä¼™ä¼´ï¼Œå¯ä»¥å¾®ä¿¡æœã€<strong>æ²‰é»˜ç‹äºŒ</strong>ã€‘ï¼Œæˆ–è€…æ‰«æ/é•¿æŒ‰è¯†åˆ«ä¸‹é¢çš„äºŒç»´ç ï¼Œå…³æ³¨äºŒå“¥çš„å…¬ä¼—å·ï¼Œå›å¤ã€<strong>222</strong>ã€‘å³å¯æ‹‰å–æœ€æ–°ç‰ˆæœ¬ã€‚</p><div style="text-align:center;margin:20px 0;"><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/gongzhonghao.png" alt="å¾®ä¿¡æ‰«ç æˆ–è€…é•¿æŒ‰è¯†åˆ«ï¼Œæˆ–è€…å¾®ä¿¡æœç´¢â€œæ²‰é»˜ç‹äºŒâ€" style="max-width:100%;height:auto;border-radius:10px;"></div><p>ç™¾åº¦ç½‘ç›˜ã€é˜¿é‡Œäº‘ç›˜ã€å¤¸å…‹ç½‘ç›˜éƒ½å¯ä»¥ä¸‹è½½åˆ°æœ€æ–°ç‰ˆæœ¬ï¼Œæˆ‘ä¼šç¬¬ä¸€æ—¶é—´æ›´æ–°ä¸Šå»ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/javase-20241230171125.png" alt="å›å¤ 222" tabindex="0" loading="lazy"><figcaption>å›å¤ 222</figcaption></figure><p>å½“ç„¶äº†ï¼Œè¯·å…è®¸æˆ‘çš„ä¸€ç‚¹ç‚¹ç§å¿ƒï¼Œé‚£å°±æ˜¯æ˜Ÿçƒçš„ PDF ç‰ˆæœ¬ä¼šæ¯”å…¬ä¼—å·æ—©ä¸€ä¸ªæœˆæ—¶é—´ï¼Œæ¯•ç«Ÿæ˜Ÿçƒç”¨æˆ·éƒ½ä»˜è´¹è¿‡äº†ï¼Œæˆ‘æœ‰å¿…è¦è®©ä»–ä»¬å…ˆäº«å—åˆ°ä¸€ç‚¹ç‚¹ç¦åˆ©ã€‚ç›¸ä¿¡å¤§å®¶ä¹Ÿéƒ½èƒ½ç†è§£ï¼Œæ¯•ç«Ÿåœ¨çº¿ç‰ˆæ˜¯å…è´¹çš„ï¼ŒCDNã€æœåŠ¡å™¨ã€åŸŸåã€OSS ç­‰ç­‰éƒ½æ˜¯éœ€è¦æˆæœ¬çš„ã€‚</p><p>æ›´åˆ«è¯´æˆ‘ä»˜å‡ºçš„æ—¶é—´å’Œç²¾åŠ›äº†ã€‚</p><p>å±•ç¤ºä¸€ä¸‹æš—é»‘ç‰ˆæœ¬çš„ PDF å§ï¼Œæ’ç‰ˆæ¸…æ™°ï¼Œå­—ä½“ä¼˜é›…ï¼Œæ›´åŠ é€‚åˆå¤œæœï¼Œæ™šä¸Šçœ‹ä¼šæ›´èˆ’æœä¸€ç‚¹ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/javathread-20250226113113.png" alt="é¢æ¸£é€†è¢­MySQLç¯‡.pdfæš—é»‘ç‰ˆ" tabindex="0" loading="lazy"><figcaption>é¢æ¸£é€†è¢­MySQLç¯‡.pdfæš—é»‘ç‰ˆ</figcaption></figure><h2 id="mysql-åŸºç¡€" tabindex="-1"><a class="header-anchor" href="#mysql-åŸºç¡€"><span>MySQL åŸºç¡€</span></a></h2><h3 id="ğŸŒŸ0-ä»€ä¹ˆæ˜¯-mysql" tabindex="-1"><a class="header-anchor" href="#ğŸŒŸ0-ä»€ä¹ˆæ˜¯-mysql"><span>ğŸŒŸ0.ä»€ä¹ˆæ˜¯ MySQLï¼Ÿ</span></a></h3><p>MySQL æ˜¯ä¸€ä¸ªå¼€æºçš„å…³ç³»å‹æ•°æ®åº“ï¼Œç°åœ¨éš¶å±äº Oracle å…¬å¸ã€‚æ˜¯æˆ‘ä»¬å›½å†…ä½¿ç”¨é¢‘ç‡æœ€é«˜çš„ä¸€ç§æ•°æ®åº“ï¼Œæˆ‘åœ¨æœ¬åœ°å®‰è£…çš„æ˜¯æœ€æ–°çš„ 8.3 ç‰ˆæœ¬ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20250227062838.png" alt="äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šMySQL 8.3 æœ€æ–°ç‰ˆæœ¬" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šMySQL 8.3 æœ€æ–°ç‰ˆæœ¬</figcaption></figure><h4 id="æ€ä¹ˆåˆ é™¤-åˆ›å»ºä¸€å¼ è¡¨" tabindex="-1"><a class="header-anchor" href="#æ€ä¹ˆåˆ é™¤-åˆ›å»ºä¸€å¼ è¡¨"><span>æ€ä¹ˆåˆ é™¤/åˆ›å»ºä¸€å¼ è¡¨ï¼Ÿ</span></a></h4><p>å¯ä»¥ä½¿ç”¨ <code>DROP TABLE</code> æ¥åˆ é™¤è¡¨ï¼Œä½¿ç”¨ <code>CREATE TABLE</code> æ¥åˆ›å»ºè¡¨ã€‚</p><p>åˆ›å»ºè¡¨çš„æ—¶å€™ï¼Œå¯ä»¥é€šè¿‡ <code>PRIMARY KEY</code> è®¾å®šä¸»é”®ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> TABLE</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> users</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    id </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">INT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> AUTO_INCREMENT,</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    name</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> VARCHAR</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">100</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">NOT NULL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    email </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">VARCHAR</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">100</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    PRIMARY KEY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (id)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="è¯·å†™ä¸€ä¸ªå‡åº-é™åºçš„-sql-è¯­å¥" tabindex="-1"><a class="header-anchor" href="#è¯·å†™ä¸€ä¸ªå‡åº-é™åºçš„-sql-è¯­å¥"><span>è¯·å†™ä¸€ä¸ªå‡åº/é™åºçš„ SQL è¯­å¥ï¼Ÿ</span></a></h4><p>åœ¨ SQL ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ <code>ORDER BY</code> å­å¥æ¥å¯¹æŸ¥è¯¢ç»“æœè¿›è¡Œå‡åºæˆ–è€…é™åºã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒæŸ¥è¯¢ç»“æœæ˜¯å‡åºçš„ï¼Œå¦‚æœéœ€è¦é™åºï¼Œå¯ä»¥é€šè¿‡ <code>DESC</code> å…³é”®å­—æ¥å®ç°ã€‚</p><p>æ¯”å¦‚è¯´åœ¨å‘˜å·¥è¡¨ä¸­ï¼Œæˆ‘ä»¬è¦æŒ‰å·¥èµ„é™åºï¼Œå°±å¯ä»¥ä½¿ç”¨ <code>ORDER BY salary DESC</code> æ¥å®Œæˆï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> id, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, salary</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employees</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">ORDER BY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> salary </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">DESC</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœéœ€å¯¹å¤šä¸ªå­—æ®µè¿›è¡Œæ’åºï¼Œä¾‹å¦‚æŒ‰å·¥èµ„é™åºï¼ŒæŒ‰åå­—å‡åºï¼Œå°±å¯ä»¥ <code>ORDER BY salary DESC, name ASC</code> æ¥å®Œæˆï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> id, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, salary</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employees</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">ORDER BY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> salary </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">DESC</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">name</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> ASC</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="mysqlå‡ºç°æ€§èƒ½å·®çš„åŸå› æœ‰å“ªäº›" tabindex="-1"><a class="header-anchor" href="#mysqlå‡ºç°æ€§èƒ½å·®çš„åŸå› æœ‰å“ªäº›"><span>MySQLå‡ºç°æ€§èƒ½å·®çš„åŸå› æœ‰å“ªäº›ï¼Ÿ</span></a></h4><p>å¯èƒ½æ˜¯ SQL æŸ¥è¯¢ä½¿ç”¨äº†å…¨è¡¨æ‰«æï¼Œä¹Ÿå¯èƒ½æ˜¯æŸ¥è¯¢è¯­å¥è¿‡äºå¤æ‚ï¼Œå¦‚å¤šè¡¨ JOIN æˆ–åµŒå¥—å­æŸ¥è¯¢ã€‚</p><p>ä¹Ÿæœ‰å¯èƒ½æ˜¯å•è¡¨æ•°æ®é‡è¿‡å¤§ã€‚</p><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œæ·»åŠ ç´¢å¼•å°±èƒ½è§£å†³å¤§éƒ¨åˆ†æ€§èƒ½é—®é¢˜ã€‚å¯¹äºä¸€äº›çƒ­ç‚¹æ•°æ®ï¼Œè¿˜å¯ä»¥é€šè¿‡å¢åŠ  Redis ç¼“å­˜ï¼Œæ¥å‡è½»æ•°æ®åº“çš„è®¿é—®å‹åŠ›ã€‚</p><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å­—èŠ‚è·³åŠ¨é¢ç»åŒå­¦ 1 Java åç«¯æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šä½ å¹³æ—¶ç”¨åˆ°çš„æ•°æ®åº“</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„è…¾è®¯äº‘æ™ºé¢ç»åŒå­¦ 16 ä¸€é¢é¢è¯•åŸé¢˜ï¼šæ•°æ®åº“ç”¨è¿‡å“ªäº›ï¼Œå¯¹å“ªä¸ªæ¯”è¾ƒç†Ÿï¼Ÿ</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„ 360 é¢ç»åŒå­¦ 3 Java åç«¯æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šç”¨è¿‡å“ªäº›æ•°æ®åº“</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„æ‹›å•†é“¶è¡Œé¢ç»åŒå­¦ 6 æ‹›é“¶ç½‘ç»œç§‘æŠ€é¢è¯•åŸé¢˜ï¼šäº†è§£ MySQLã€Redis å—ï¼Ÿ</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å›½ä¼é›¶ç¢é¢ç»åŒå­¦ 9 é¢è¯•åŸé¢˜ï¼šæ•°æ®åº“ç”¨ä»€ä¹ˆå¤šï¼ˆè¯´äº† Mysql å’Œ Redisï¼‰</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„vivo é¢ç»åŒå­¦ 10 æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šæ€ä¹ˆåˆ é™¤/åˆ›å»ºä¸€å¼ è¡¨å’Œè®¾å®šä¸»é”® ï¼Œä¸¾ä¾‹ç”¨sqlå®ç°å‡åºé™åº</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„æ»´æ»´é¢ç»åŒå­¦ 3 ç½‘çº¦è½¦åç«¯å¼€å‘ä¸€é¢åŸé¢˜ï¼šMySQLæ€§èƒ½æ…¢çš„åŸå› </li></ol></blockquote><h3 id="_1-ä¸¤å¼ è¡¨æ€ä¹ˆè¿›è¡Œè¿æ¥" tabindex="-1"><a class="header-anchor" href="#_1-ä¸¤å¼ è¡¨æ€ä¹ˆè¿›è¡Œè¿æ¥"><span>1.ä¸¤å¼ è¡¨æ€ä¹ˆè¿›è¡Œè¿æ¥ï¼Ÿ</span></a></h3><p>å¯ä»¥é€šè¿‡å†…è¿æ¥ <code>inner join</code>ã€å¤–è¿æ¥ <code>outer join</code>ã€äº¤å‰è¿æ¥ <code>cross join</code> æ¥åˆå¹¶å¤šä¸ªè¡¨çš„æŸ¥è¯¢ç»“æœã€‚</p><h4 id="ä»€ä¹ˆæ˜¯å†…è¿æ¥" tabindex="-1"><a class="header-anchor" href="#ä»€ä¹ˆæ˜¯å†…è¿æ¥"><span>ä»€ä¹ˆæ˜¯å†…è¿æ¥ï¼Ÿ</span></a></h4><p>å†…è¿æ¥ç”¨äºè¿”å›ä¸¤ä¸ªè¡¨ä¸­æœ‰åŒ¹é…å…³ç³»çš„è¡Œã€‚å‡è®¾æœ‰ä¸¤å¼ è¡¨ï¼Œç”¨æˆ·è¡¨å’Œè®¢å•è¡¨ï¼Œæƒ³æŸ¥è¯¢æœ‰è®¢å•çš„ç”¨æˆ·ï¼Œå°±å¯ä»¥ä½¿ç”¨å†…è¿æ¥ <code>users INNER JOIN orders</code>ï¼ŒæŒ‰ç…§ç”¨æˆ· ID å…³è”å°±è¡Œäº†ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> users</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">orders</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">order_id</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> users</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">INNER JOIN</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> orders </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">ON</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> users</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">id</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> orders</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">user_id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åªæœ‰é‚£äº›åœ¨ä¸¤ä¸ªè¡¨ä¸­éƒ½å­˜åœ¨ user_id çš„è®°å½•æ‰ä¼šå‡ºç°åœ¨æŸ¥è¯¢ç»“æœä¸­ã€‚</p><h4 id="ä»€ä¹ˆæ˜¯å¤–è¿æ¥" tabindex="-1"><a class="header-anchor" href="#ä»€ä¹ˆæ˜¯å¤–è¿æ¥"><span>ä»€ä¹ˆæ˜¯å¤–è¿æ¥ï¼Ÿ</span></a></h4><p>å’Œå†…è¿æ¥ä¸åŒï¼Œå¤–è¿æ¥ä¸ä»…è¿”å›ä¸¤ä¸ªè¡¨ä¸­åŒ¹é…çš„è¡Œï¼Œè¿˜è¿”å›æ²¡æœ‰åŒ¹é…çš„è¡Œï¼Œç”¨ <code>null</code> æ¥å¡«å……ã€‚</p><p>å¤–è¿æ¥åˆåˆ†ä¸ºå·¦å¤–è¿æ¥ <code>left join</code> å’Œå³å¤–è¿æ¥ <code>right join</code>ã€‚</p><p>left join ä¼šä¿ç•™å·¦è¡¨ä¸­ç¬¦åˆæ¡ä»¶çš„æ‰€æœ‰è®°å½•ï¼Œå¦‚æœå³è¡¨ä¸­æœ‰åŒ¹é…çš„è®°å½•ï¼Œå°±è¿”å›åŒ¹é…çš„è®°å½•ï¼Œå¦åˆ™å°±ç”¨ null å¡«å……ï¼Œå¸¸ç”¨äºæŸè¡¨ä¸­æœ‰ï¼Œä½†å¦å¤–ä¸€å¼ è¡¨ä¸­å¯èƒ½æ²¡æœ‰çš„æ•°æ®çš„æŸ¥è¯¢åœºæ™¯ã€‚</p><p>å‡è®¾è¦æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ·åŠä»–ä»¬çš„è®¢å•ï¼Œå³ä½¿ç”¨æˆ·æ²¡æœ‰ä¸‹å•ï¼Œå°±å¯ä»¥ä½¿ç”¨å·¦è¿æ¥ï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> users</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">users</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">orders</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">order_id</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> users</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">LEFT JOIN</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> orders </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">ON</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> users</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">id</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> orders</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">user_id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æŸ¥è¯¢å‰ï¼š</p><table><thead><tr><th>users</th><th>orders</th></tr></thead><tbody><tr><td>id</td><td>name</td></tr><tr><td>1</td><td>ç‹äºŒ</td></tr><tr><td>2</td><td>å¼ ä¸‰</td></tr><tr><td>3</td><td>æå››</td></tr></tbody></table><p>æŸ¥è¯¢åï¼š</p><table><thead><tr><th>id</th><th>name</th><th>order_id</th></tr></thead><tbody><tr><td>1</td><td>ç‹äºŒ</td><td>10</td></tr><tr><td>2</td><td>å¼ ä¸‰</td><td>20</td></tr><tr><td>3</td><td>æå››</td><td>null</td></tr></tbody></table><p>å³è¿æ¥å°±æ˜¯å·¦è¿æ¥çš„é•œåƒï¼Œright join ä¼šä¿ç•™å³è¡¨ä¸­ç¬¦åˆæ¡ä»¶çš„æ‰€æœ‰è®°å½•ï¼Œå¦‚æœå·¦è¡¨ä¸­æœ‰åŒ¹é…çš„è®°å½•ï¼Œå°±è¿”å›åŒ¹é…çš„è®°å½•ï¼Œå¦åˆ™å°±ç”¨ null å¡«å……ã€‚</p><h4 id="ä»€ä¹ˆæ˜¯äº¤å‰è¿æ¥" tabindex="-1"><a class="header-anchor" href="#ä»€ä¹ˆæ˜¯äº¤å‰è¿æ¥"><span>ä»€ä¹ˆæ˜¯äº¤å‰è¿æ¥ï¼Ÿ</span></a></h4><p>äº¤å‰è¿æ¥ä¼šè¿”å›ä¸¤å¼ è¡¨çš„ç¬›å¡å°”ç§¯ï¼Œä¹Ÿå°±æ˜¯å°†å·¦è¡¨çš„æ¯ä¸€è¡Œä¸å³è¡¨çš„æ¯ä¸€è¡Œè¿›è¡Œç»„åˆï¼Œè¿”å›çš„è¡Œæ•°æ˜¯ä¸¤å¼ è¡¨è¡Œæ•°çš„ä¹˜ç§¯ã€‚</p><p>å‡è®¾æœ‰ A è¡¨å’Œ B è¡¨ï¼ŒA è¡¨æœ‰ 2 è¡Œæ•°æ®ï¼ŒB è¡¨æœ‰ 3 è¡Œæ•°æ®ï¼Œé‚£ä¹ˆäº¤å‰è¿æ¥çš„ç»“æœå°±æ˜¯ 2 âœ–ï¸ 3 = 6 è¡Œã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> A</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">B</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">id</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> A</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CROSS JOIN</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> B;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç¬›å¡å°”ç§¯æ˜¯æ•°å­¦ä¸­çš„ä¸€ä¸ªæ¦‚å¿µï¼Œä¾‹å¦‚é›†åˆ <code>A={a,b}</code>ï¼Œé›†åˆ <code>B={0,1,2}</code>ï¼Œé‚£ä¹ˆ Aâœ–ï¸B=<code>{&lt;a,0&gt;,&lt;a,1&gt;,&lt;a,2&gt;,&lt;b,0&gt;,&lt;b,1&gt;,&lt;b,2&gt;,}</code>ã€‚</p><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„ç”¨å‹é¢è¯•åŸé¢˜ï¼šä¸¤å¼ è¡¨æ€ä¹ˆè¿›è¡Œè¿æ¥</li></ol></blockquote><h3 id="_2-å†…è¿æ¥ã€å·¦è¿æ¥ã€å³è¿æ¥æœ‰ä»€ä¹ˆåŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#_2-å†…è¿æ¥ã€å·¦è¿æ¥ã€å³è¿æ¥æœ‰ä»€ä¹ˆåŒºåˆ«"><span>2.å†…è¿æ¥ã€å·¦è¿æ¥ã€å³è¿æ¥æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</span></a></h3><p>MySQL çš„è¿æ¥ä¸»è¦åˆ†ä¸ºå†…è¿æ¥å’Œå¤–è¿æ¥ï¼Œå¤–è¿æ¥åˆå¯ä»¥åˆ†ä¸ºå·¦è¿æ¥å’Œå³è¿æ¥ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-fcdaad5f-c50e-4834-9f9a-0b676cc6be83.jpg" alt="MySQL å†…è¿æ¥ã€å·¦è¿æ¥ã€å³è¿æ¥-æ¥æºèœé¸Ÿæ•™ç¨‹" tabindex="0" loading="lazy"><figcaption>MySQL å†…è¿æ¥ã€å·¦è¿æ¥ã€å³è¿æ¥-æ¥æºèœé¸Ÿæ•™ç¨‹</figcaption></figure><p>å†…è¿æ¥å¯ä»¥ç”¨æ¥æ‰¾å‡ºä¸¤ä¸ªè¡¨ä¸­å…±åŒçš„è®°å½•ï¼Œç›¸å½“äºä¸¤ä¸ªæ•°æ®é›†çš„äº¤é›†ã€‚</p><p>å·¦è¿æ¥å’Œå³è¿æ¥å¯ä»¥ç”¨æ¥æ‰¾å‡ºä¸¤ä¸ªè¡¨ä¸­ä¸åŒçš„è®°å½•ï¼Œç›¸å½“äºä¸¤ä¸ªæ•°æ®é›†çš„å¹¶é›†ã€‚ä¸¤è€…çš„åŒºåˆ«æ˜¯ï¼Œå·¦è¿æ¥ä¼šä¿ç•™å·¦è¡¨ä¸­ç¬¦åˆæ¡ä»¶çš„æ‰€æœ‰è®°å½•ï¼Œå³è¿æ¥åˆ™åˆšå¥½ç›¸åã€‚</p><p>æ‹¿<a href="https://javabetter.cn/zhishixingqiu/paicoding.html" target="_blank" rel="noopener noreferrer">æŠ€æœ¯æ´¾å®æˆ˜é¡¹ç›®</a>çš„è¡¨ä¸ºä¾‹æ¥è¯¦ç»†éªŒè¯ä¸‹ã€‚</p><p>æœ‰ä¸‰å¼ è¡¨ï¼Œä¸€å¼ æ–‡ç« è¡¨ articleï¼Œä¸»è¦å­˜æ–‡ç« æ ‡é¢˜ titleï¼Œ ä¸€å¼ æ–‡ç« è¯¦æƒ…è¡¨ article_detailï¼Œä¸»è¦å­˜æ–‡ç« çš„å†…å®¹ contentï¼Œä¸€å¼ æ–‡ç« è¯„è®ºè¡¨ commentï¼Œä¸»è¦å­˜è¯„è®º contentï¼Œä¸‰ä¸ªè¡¨é€šè¿‡æ–‡ç«  id å…³è”ã€‚</p><p>å…ˆæ¥çœ‹å†…è¿æ¥ï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> LEFT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">title</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">20</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">AS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ArticleTitle, </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">LEFT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">c</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">content</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">20</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">AS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> CommentContent</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> article a</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">INNER JOIN</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> comment c </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">ON</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">id</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> c</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">article_id</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">LIMIT</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240308184454.png" alt="æŠ€æœ¯æ´¾å®æˆ˜é¡¹ç›®ï¼šå†…è¿æ¥çš„ç»“æœ" tabindex="0" loading="lazy"><figcaption>æŠ€æœ¯æ´¾å®æˆ˜é¡¹ç›®ï¼šå†…è¿æ¥çš„ç»“æœ</figcaption></figure><p>è¿”å›è‡³å°‘æœ‰ä¸€æ¡è¯„è®ºçš„æ–‡ç« æ ‡é¢˜å’Œè¯„è®ºå†…å®¹ï¼ˆå‰ 20 ä¸ªå­—ç¬¦ï¼‰ï¼Œåªè¿”å›ç¬¦åˆæ¡ä»¶çš„å‰ 2 æ¡è®°å½•ã€‚</p><p>å†æ¥çœ‹åšè¿æ¥ï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> LEFT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">title</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">20</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">AS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ArticleTitle, </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">LEFT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">c</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">content</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">20</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">AS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> CommentContent</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> article a</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">LEFT JOIN</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> comment c </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">ON</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">id</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> c</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">article_id</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">LIMIT</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240308184901.png" alt="æŠ€æœ¯æ´¾å®æˆ˜é¡¹ç›®ï¼šåšè¿æ¥æŸ¥è¯¢ç»“æœ" tabindex="0" loading="lazy"><figcaption>æŠ€æœ¯æ´¾å®æˆ˜é¡¹ç›®ï¼šåšè¿æ¥æŸ¥è¯¢ç»“æœ</figcaption></figure><p>è¿”å›æ‰€æœ‰æ–‡ç« çš„æ ‡é¢˜å’Œæ–‡ç« è¯„è®ºï¼Œå³ä½¿æŸäº›æ–‡ç« æ²¡æœ‰è¯„è®ºï¼ˆå¡«å……ä¸º NULLï¼‰ã€‚</p><p>æœ€åæ¥çœ‹å³è¿ï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> LEFT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">title</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">20</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">AS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ArticleTitle, </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">LEFT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">c</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">content</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">20</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">AS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> CommentContent</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> comment c</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">RIGHT JOIN</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> article a </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">ON</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">id</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> c</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">article_id</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">LIMIT</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240308185525.png" alt="æŠ€æœ¯æ´¾å®æˆ˜é¡¹ç›®ï¼šå³è¿æ¥æŸ¥è¯¢ç»“æœ" tabindex="0" loading="lazy"><figcaption>æŠ€æœ¯æ´¾å®æˆ˜é¡¹ç›®ï¼šå³è¿æ¥æŸ¥è¯¢ç»“æœ</figcaption></figure><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„è…¾è®¯ Java åç«¯å®ä¹ ä¸€é¢åŸé¢˜ï¼šè¯·è¯´è¯´ MySQL çš„å†…è”ã€å·¦è”ã€å³è”çš„åŒºåˆ«ã€‚</li></ol></blockquote><p>memoï¼š2025 å¹´ 2 æœˆ 27 æ—¥ä¿®æ”¹è‡³æ­¤ã€‚ç»™å¤§å®¶çœ‹<a href="https://t.zsxq.com/1g4gI" target="_blank" rel="noopener noreferrer">ä¸€æ¡çƒå‹çš„é¢ç»</a>ï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯é¢æ¸£é€†è¢­ä¸­å¸¸è§çš„å…«è‚¡ï¼Œæ‰€ä»¥åªè¦èƒ½æŠŠé¢æ¸£ä¸­çš„é«˜é¢‘é¢˜æ‹¿ä¸‹ï¼Œé¢è¯• OC çš„æ¦‚ç‡çœŸçš„å¾ˆå¤§ï¼ŒçœŸå¿ƒè¯ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20250227084922.png" alt="äºŒå“¥ç¼–ç¨‹æ˜Ÿçƒçš„çƒå‹ï¼šå°èµ¢ç§‘æŠ€ OCäº†" tabindex="0" loading="lazy"><figcaption>äºŒå“¥ç¼–ç¨‹æ˜Ÿçƒçš„çƒå‹ï¼šå°èµ¢ç§‘æŠ€ OCäº†</figcaption></figure><h3 id="_3-è¯´ä¸€ä¸‹æ•°æ®åº“çš„ä¸‰å¤§èŒƒå¼" tabindex="-1"><a class="header-anchor" href="#_3-è¯´ä¸€ä¸‹æ•°æ®åº“çš„ä¸‰å¤§èŒƒå¼"><span>3.è¯´ä¸€ä¸‹æ•°æ®åº“çš„ä¸‰å¤§èŒƒå¼ï¼Ÿ</span></a></h3><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-16e74a6b-a42a-464e-9b10-0252ee7ecc6e.jpg" alt="ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šæ•°æ®åº“ä¸‰èŒƒå¼" tabindex="0" loading="lazy"><figcaption>ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šæ•°æ®åº“ä¸‰èŒƒå¼</figcaption></figure><p>ç¬¬ä¸€èŒƒå¼ï¼Œç¡®ä¿è¡¨çš„æ¯ä¸€åˆ—éƒ½æ˜¯ä¸å¯åˆ†å‰²çš„åŸºæœ¬æ•°æ®å•å…ƒï¼Œæ¯”å¦‚è¯´ç”¨æˆ·åœ°å€ï¼Œåº”è¯¥æ‹†åˆ†æˆçœã€å¸‚ã€åŒºã€è¯¦ç»†åœ°å€ç­‰ 4 ä¸ªå­—æ®µã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240418093235.png" alt="Ruthlessï¼šç¬¬ä¸€èŒƒå¼" tabindex="0" loading="lazy"><figcaption>Ruthlessï¼šç¬¬ä¸€èŒƒå¼</figcaption></figure><p>ç¬¬äºŒèŒƒå¼ï¼Œè¦æ±‚è¡¨ä¸­çš„æ¯ä¸€åˆ—éƒ½å’Œä¸»é”®ç›´æ¥ç›¸å…³ã€‚æ¯”å¦‚åœ¨è®¢å•è¡¨ä¸­ï¼Œå•†å“åç§°ã€å•ä½ã€å•†å“ä»·æ ¼ç­‰å­—æ®µåº”è¯¥æ‹†åˆ†åˆ°å•†å“è¡¨ä¸­ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240418093351.png" alt="Ruthlessï¼šä¸ç¬¦åˆç¬¬äºŒèŒƒå¼" tabindex="0" loading="lazy"><figcaption>Ruthlessï¼šä¸ç¬¦åˆç¬¬äºŒèŒƒå¼</figcaption></figure><p>ç„¶åæ–°å»ºä¸€ä¸ªè®¢å•å•†å“å…³è”è¡¨ï¼Œç”¨è®¢å•ç¼–å·å’Œå•†å“ç¼–å·è¿›è¡Œå…³è”å°±å¥½äº†ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240418093726.png" alt="Ruthlessï¼šè®¢å•å•†å“å…³è”è¡¨" tabindex="0" loading="lazy"><figcaption>Ruthlessï¼šè®¢å•å•†å“å…³è”è¡¨</figcaption></figure><p>ç¬¬ä¸‰èŒƒå¼ï¼Œéä¸»é”®åˆ—åº”è¯¥åªä¾èµ–äºä¸»é”®åˆ—ã€‚æ¯”å¦‚è¯´åœ¨è®¾è®¡è®¢å•ä¿¡æ¯è¡¨çš„æ—¶å€™ï¼Œå¯ä»¥æŠŠå®¢æˆ·åç§°ã€æ‰€å±å…¬å¸ã€è”ç³»æ–¹å¼ç­‰ä¿¡æ¯æ‹†åˆ†åˆ°å®¢æˆ·ä¿¡æ¯è¡¨ä¸­ï¼Œç„¶ååœ¨è®¢å•ä¿¡æ¯è¡¨ä¸­ç”¨å®¢æˆ·ç¼–å·è¿›è¡Œå…³è”ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240418094332.png" alt="Ruthlessï¼šç¬¬ä¸‰èŒƒå¼" tabindex="0" loading="lazy"><figcaption>Ruthlessï¼šç¬¬ä¸‰èŒƒå¼</figcaption></figure><h4 id="å»ºè¡¨çš„æ—¶å€™éœ€è¦è€ƒè™‘å“ªäº›é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#å»ºè¡¨çš„æ—¶å€™éœ€è¦è€ƒè™‘å“ªäº›é—®é¢˜"><span>å»ºè¡¨çš„æ—¶å€™éœ€è¦è€ƒè™‘å“ªäº›é—®é¢˜ï¼Ÿ</span></a></h4><p>é¦–å…ˆéœ€è¦è€ƒè™‘è¡¨æ˜¯å¦ç¬¦åˆæ•°æ®åº“çš„ä¸‰å¤§èŒƒå¼ï¼Œç¡®ä¿å­—æ®µä¸å¯å†åˆ†ï¼Œæ¶ˆé™¤éä¸»é”®ä¾èµ–ï¼Œç¡®ä¿å­—æ®µä»…ä¾èµ–äºä¸»é”®ç­‰ã€‚</p><p>ç„¶ååœ¨é€‰æ‹©å­—æ®µç±»å‹æ—¶ï¼Œåº”è¯¥å°½é‡é€‰æ‹©åˆé€‚çš„æ•°æ®ç±»å‹ã€‚</p><p>åœ¨å­—ç¬¦é›†ä¸Šï¼Œå°½é‡é€‰æ‹© utf8mb4ï¼Œè¿™æ ·ä¸ä»…å¯ä»¥æ”¯æŒä¸­æ–‡å’Œè‹±æ–‡ï¼Œè¿˜å¯ä»¥æ”¯æŒè¡¨æƒ…ç¬¦å·ç­‰ã€‚</p><p>å½“æ•°æ®é‡è¾ƒå¤§æ—¶ï¼Œæ¯”å¦‚ä¸Šåƒä¸‡è¡Œæ•°æ®ï¼Œéœ€è¦è€ƒè™‘åˆ†è¡¨ã€‚æ¯”å¦‚è®¢å•è¡¨ï¼Œå¯ä»¥é‡‡ç”¨æ°´å¹³åˆ†è¡¨çš„æ–¹å¼æ¥åˆ†æ•£å•è¡¨å­˜å‚¨å‹åŠ›ã€‚</p><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å­—èŠ‚è·³åŠ¨é¢ç»åŒå­¦ 13 Java åç«¯äºŒé¢é¢è¯•åŸé¢˜ï¼šä»€ä¹ˆæ˜¯ä¸‰å¤§èŒƒå¼ï¼Œä¸ºä»€ä¹ˆè¦æœ‰ä¸‰å¤§èŒƒå¼ï¼Œä»€ä¹ˆåœºæ™¯ä¸‹ä¸ç”¨éµå¾ªä¸‰å¤§èŒƒå¼ï¼Œä¸¾ä¸€ä¸ªåœºæ™¯</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„äº¬ä¸œé¢ç»åŒå­¦ 5 Java åç«¯æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šå»ºè¡¨è€ƒè™‘å“ªäº›é—®é¢˜</li></ol></blockquote><h3 id="_4-varchar-ä¸-char-çš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#_4-varchar-ä¸-char-çš„åŒºåˆ«"><span>4.varchar ä¸ char çš„åŒºåˆ«ï¼Ÿ</span></a></h3><p>varchar æ˜¯å¯å˜é•¿åº¦çš„å­—ç¬¦ç±»å‹ï¼ŒåŸåˆ™ä¸Šæœ€å¤šå¯ä»¥å®¹çº³ 65535 ä¸ªå­—ç¬¦ï¼Œä½†è€ƒè™‘å­—ç¬¦é›†ï¼Œä»¥åŠ MySQL éœ€è¦ 1 åˆ° 2 ä¸ªå­—èŠ‚æ¥è¡¨ç¤ºå­—ç¬¦ä¸²é•¿åº¦ï¼Œæ‰€ä»¥å®é™…ä¸Šæœ€å¤§å¯ä»¥è®¾ç½®åˆ° 65533ã€‚</p><blockquote><p>latin1 å­—ç¬¦é›†ï¼Œä¸”åˆ—å±æ€§å®šä¹‰ä¸º NOT NULLã€‚</p></blockquote><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-40f42d59-a295-4543-8a03-43925da4d6d9.jpg" alt="ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼švarcharå’Œ char" tabindex="0" loading="lazy"><figcaption>ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼švarcharå’Œ char</figcaption></figure><p>char æ˜¯å›ºå®šé•¿åº¦çš„å­—ç¬¦ç±»å‹ï¼Œå½“å®šä¹‰ä¸€ä¸ª <code>CHAR(10)</code> å­—æ®µæ—¶ï¼Œä¸ç®¡å®é™…å­˜å‚¨çš„å­—ç¬¦é•¿åº¦æ˜¯å¤šå°‘ï¼Œéƒ½åªä¼šå ç”¨ 10 ä¸ªå­—ç¬¦çš„ç©ºé—´ã€‚å¦‚æœæ’å…¥çš„æ•°æ®å°äº 10 ä¸ªå­—ç¬¦ï¼Œå‰©ä½™çš„éƒ¨åˆ†ä¼šç”¨ç©ºæ ¼å¡«å……ã€‚</p><table><thead><tr><th>å€¼</th><th>CHAR(4)</th><th>å­˜å‚¨éœ€æ±‚ï¼ˆå­—èŠ‚ï¼‰</th><th>VARCHAR(4)</th><th>å­˜å‚¨éœ€æ±‚ï¼ˆå­—èŠ‚ï¼‰</th></tr></thead><tbody><tr><td>&#39;&#39;</td><td>&#39; &#39;</td><td>4</td><td>&#39;&#39;</td><td>1</td></tr><tr><td>&#39;ab&#39;</td><td>&#39;ab &#39;</td><td>4</td><td>&#39;ab&#39;</td><td>3</td></tr><tr><td>&#39;abcd&#39;</td><td>&#39;abcd&#39;</td><td>4</td><td>&#39;abcd&#39;</td><td>5</td></tr><tr><td>&#39;abcdefgh&#39;</td><td>&#39;abcd&#39;</td><td>4</td><td>&#39;abcd&#39;</td><td>5</td></tr></tbody></table><h3 id="_5-blob-å’Œ-text-æœ‰ä»€ä¹ˆåŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#_5-blob-å’Œ-text-æœ‰ä»€ä¹ˆåŒºåˆ«"><span>5.blob å’Œ text æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</span></a></h3><p>blob ç”¨äºå­˜å‚¨äºŒè¿›åˆ¶æ•°æ®ï¼Œæ¯”å¦‚å›¾ç‰‡ã€éŸ³é¢‘ã€è§†é¢‘ã€æ–‡ä»¶ç­‰ï¼›ä½†å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬éƒ½ä¼šæŠŠè¿™äº›æ–‡ä»¶å­˜å‚¨åˆ° OSS æˆ–è€…æ–‡ä»¶æœåŠ¡å™¨ä¸Šï¼Œç„¶ååœ¨æ•°æ®åº“ä¸­å­˜å‚¨æ–‡ä»¶çš„ URLã€‚</p><p>text ç”¨äºå­˜å‚¨æ–‡æœ¬æ•°æ®ï¼Œæ¯”å¦‚æ–‡ç« ã€è¯„è®ºã€æ—¥å¿—ç­‰ã€‚</p><blockquote><p>memoï¼š2025 å¹´ 2 æœˆ 28 æ—¥ä¿®æ”¹è‡³æ­¤ã€‚ä»Šå¤©æœ‰çƒå‹åé¦ˆæ‹¿åˆ°äº†ç†æƒ³æ±½è½¦çš„è¡¥å½• offerï¼Œ çœŸçš„æ­å–œäº†ï¼</p></blockquote><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20250301165545.png" alt="åˆ«é—®ï¼Œé—®å°±æ˜¯ç»™çš„è–ªèµ„å¾…é‡å¾ˆ ok" tabindex="0" loading="lazy"><figcaption>åˆ«é—®ï¼Œé—®å°±æ˜¯ç»™çš„è–ªèµ„å¾…é‡å¾ˆ ok</figcaption></figure><h3 id="_6-datetime-å’Œ-timestamp-æœ‰ä»€ä¹ˆåŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#_6-datetime-å’Œ-timestamp-æœ‰ä»€ä¹ˆåŒºåˆ«"><span>6.DATETIME å’Œ TIMESTAMP æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</span></a></h3><p>DATETIME ç›´æ¥å­˜å‚¨æ—¥æœŸå’Œæ—¶é—´çš„å®Œæ•´å€¼ï¼Œä¸æ—¶åŒºæ— å…³ã€‚</p><p>TIMESTAMP å­˜å‚¨çš„æ˜¯ Unix æ—¶é—´æˆ³ï¼Œ1970-01-01 00:00:01 UTC ä»¥æ¥çš„ç§’æ•°ï¼Œå—æ—¶åŒºå½±å“ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-d94e5e1c-2614-4b8b-acdb-efb333032854.jpg" alt="ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šDATETIME å’Œ TIMESTAMP" tabindex="0" loading="lazy"><figcaption>ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šDATETIME å’Œ TIMESTAMP</figcaption></figure><p>å¦å¤–ï¼ŒDATETIME çš„é»˜è®¤å€¼ä¸º nullï¼Œå ç”¨ 8 ä¸ªå­—èŠ‚ï¼›TIMESTAMP çš„é»˜è®¤å€¼ä¸ºå½“å‰æ—¶é—´â€”â€”CURRENT_TIMESTAMPï¼Œå  4 ä¸ªå­—èŠ‚ï¼Œå®é™…å¼€å‘ä¸­æ›´å¸¸ç”¨ï¼Œå› ä¸ºå¯ä»¥è‡ªåŠ¨æ›´æ–°ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20250301170530.png" alt="äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šæ›´æ–°æ—¶ä¸ç”¨ set æ›´æ–°æ—¶é—´" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šæ›´æ–°æ—¶ä¸ç”¨ set æ›´æ–°æ—¶é—´</figcaption></figure><h3 id="_7-in-å’Œ-exists-çš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#_7-in-å’Œ-exists-çš„åŒºåˆ«"><span>7.in å’Œ exists çš„åŒºåˆ«ï¼Ÿ</span></a></h3><p>å½“ä½¿ç”¨ IN æ—¶ï¼ŒMySQL ä¼šé¦–å…ˆæ‰§è¡Œå­æŸ¥è¯¢ï¼Œç„¶åå°†å­æŸ¥è¯¢çš„ç»“æœé›†ç”¨äºå¤–éƒ¨æŸ¥è¯¢çš„æ¡ä»¶ã€‚è¿™æ„å‘³ç€å­æŸ¥è¯¢çš„ç»“æœé›†éœ€è¦å…¨éƒ¨åŠ è½½åˆ°å†…å­˜ä¸­ã€‚</p><p>è€Œ EXISTS ä¼šå¯¹å¤–éƒ¨æŸ¥è¯¢çš„æ¯ä¸€è¡Œï¼Œæ‰§è¡Œä¸€æ¬¡å­æŸ¥è¯¢ã€‚å¦‚æœå­æŸ¥è¯¢è¿”å›ä»»ä½•è¡Œï¼Œåˆ™ <code>EXISTS</code> æ¡ä»¶ä¸ºçœŸã€‚<code>EXISTS</code> å…³æ³¨çš„æ˜¯å­æŸ¥è¯¢æ˜¯å¦è¿”å›è¡Œï¼Œè€Œä¸æ˜¯è¿”å›çš„å…·ä½“å€¼ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- IN çš„ä¸´æ—¶è¡¨å¯èƒ½æˆä¸ºæ€§èƒ½ç“¶é¢ˆ</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> users </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> id </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">IN</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> user_id </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> orders </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> amount </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 100</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- EXISTS å¯ä»¥åˆ©ç”¨å…³è”ç´¢å¼•</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> users u</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">WHERE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> EXISTS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> orders o </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">            WHERE</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> o</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">user_id</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> u</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">id</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> AND</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> o</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">amount</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> &gt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 100</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>IN</code> é€‚ç”¨äºå­æŸ¥è¯¢ç»“æœé›†è¾ƒå°çš„æƒ…å†µã€‚å¦‚æœå­æŸ¥è¯¢è¿”å›å¤§é‡æ•°æ®ï¼Œ<code>IN</code> çš„æ€§èƒ½å¯èƒ½ä¼šä¸‹é™ï¼Œå› ä¸ºå®ƒéœ€è¦å°†æ•´ä¸ªç»“æœé›†åŠ è½½åˆ°å†…å­˜ã€‚</p><p>è€Œ EXISTS é€‚ç”¨äºå­æŸ¥è¯¢ç»“æœé›†å¯èƒ½å¾ˆå¤§çš„æƒ…å†µã€‚ç”±äº <code>EXISTS</code> åªéœ€è¦åˆ¤æ–­å­æŸ¥è¯¢æ˜¯å¦è¿”å›è¡Œï¼Œè€Œä¸éœ€è¦åŠ è½½æ•´ä¸ªç»“æœé›†ï¼Œå› æ­¤åœ¨æŸäº›æƒ…å†µä¸‹æ€§èƒ½æ›´å¥½ï¼Œç‰¹åˆ«æ˜¯å½“å­æŸ¥è¯¢å¯ä»¥ä½¿ç”¨ç´¢å¼•æ—¶ã€‚</p><h4 id="nullå€¼é™·äº†è§£å—" tabindex="-1"><a class="header-anchor" href="#nullå€¼é™·äº†è§£å—"><span>NULLå€¼é™·äº†è§£å—ï¼Ÿ</span></a></h4><p><code>IN</code>: å¦‚æœå­æŸ¥è¯¢çš„ç»“æœé›†ä¸­åŒ…å« <code>NULL</code> å€¼ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ„å¤–çš„ç»“æœã€‚ä¾‹å¦‚ï¼Œ<code>WHERE column IN (subquery)</code>ï¼Œå¦‚æœ <code>subquery</code> è¿”å› <code>NULL</code>ï¼Œåˆ™ <code>column IN (subquery)</code> æ°¸è¿œä¸ä¼šä¸ºçœŸï¼Œé™¤é <code>column</code> æœ¬èº«ä¹Ÿä¸º <code>NULL</code>ã€‚</p><p><code>EXISTS</code>: å¯¹ <code>NULL</code> å€¼çš„å¤„ç†æ›´åŠ ç›´æ¥ã€‚<code>EXISTS</code> åªæ˜¯æ£€æŸ¥å­æŸ¥è¯¢æ˜¯å¦è¿”å›è¡Œï¼Œä¸å…³å¿ƒè¡Œçš„å…·ä½“å€¼ï¼Œå› æ­¤ä¸å— <code>NULL</code> å€¼çš„å½±å“ã€‚</p><p>memoï¼š2025 å¹´ 3 æœˆ 1 æ—¥ä¿®æ”¹è‡³æ­¤ã€‚</p><h3 id="_8-è®°å½•è´§å¸ç”¨ä»€ä¹ˆç±»å‹æ¯”è¾ƒå¥½" tabindex="-1"><a class="header-anchor" href="#_8-è®°å½•è´§å¸ç”¨ä»€ä¹ˆç±»å‹æ¯”è¾ƒå¥½"><span>8.è®°å½•è´§å¸ç”¨ä»€ä¹ˆç±»å‹æ¯”è¾ƒå¥½ï¼Ÿ</span></a></h3><p>å¦‚æœæ˜¯ç”µå•†ã€äº¤æ˜“ã€è´¦å•ç­‰æ¶‰åŠè´§å¸çš„åœºæ™¯ï¼Œå»ºè®®ä½¿ç”¨ DECIMAL ç±»å‹ï¼Œå› ä¸º DECIMAL ç±»å‹æ˜¯ç²¾ç¡®æ•°å€¼ç±»å‹ï¼Œä¸ä¼šå‡ºç°æµ®ç‚¹æ•°è®¡ç®—è¯¯å·®ã€‚</p><p>ä¾‹å¦‚ï¼Œ<code>DECIMAL(19,4)</code> å¯ä»¥å­˜å‚¨æœ€å¤š 19 ä½æ•°å­—ï¼Œå…¶ä¸­ 4 ä½æ˜¯å°æ•°ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> TABLE</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> orders</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    id </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">INT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> AUTO_INCREMENT,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    amount </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">DECIMAL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">19</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    PRIMARY KEY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (id)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœæ˜¯é“¶è¡Œï¼Œæ¶‰åŠåˆ°æ”¯ä»˜çš„åœºæ™¯ï¼Œå»ºè®®ä½¿ç”¨ BIGINT ç±»å‹ã€‚å¯ä»¥å°†è´§å¸é‡‘é¢ä¹˜ä»¥ä¸€ä¸ªå›ºå®šå› å­ï¼Œæ¯”å¦‚ 100ï¼Œè¡¨ç¤ºä»¥â€œåˆ†â€ä¸ºå•ä½ï¼Œç„¶åå­˜å‚¨ä¸º <code>BIGINT</code>ã€‚è¿™ç§æ–¹å¼æ—¢é¿å…äº†æµ®ç‚¹æ•°é—®é¢˜ï¼ŒåŒæ—¶ä¹Ÿæä¾›äº†ä¸é”™çš„æ€§èƒ½ã€‚ä½†åœ¨å±•ç¤ºçš„æ—¶å€™éœ€è¦é™¤ä»¥ç›¸åº”çš„å› å­ã€‚</p><h4 id="ä¸ºä»€ä¹ˆä¸æ¨èä½¿ç”¨-float-æˆ–-double" tabindex="-1"><a class="header-anchor" href="#ä¸ºä»€ä¹ˆä¸æ¨èä½¿ç”¨-float-æˆ–-double"><span>ä¸ºä»€ä¹ˆä¸æ¨èä½¿ç”¨ FLOAT æˆ– DOUBLEï¼Ÿ</span></a></h4><p>å› ä¸º FLOAT å’Œ DOUBLE éƒ½æ˜¯æµ®ç‚¹æ•°ç±»å‹ï¼Œä¼šå­˜åœ¨ç²¾åº¦é—®é¢˜ã€‚</p><p>åœ¨è®¸å¤šç¼–ç¨‹è¯­è¨€ä¸­ï¼Œ<code>0.1 + 0.2</code> çš„ç»“æœä¼šæ˜¯ç±»ä¼¼ <code>0.30000000000000004</code> çš„å€¼ï¼Œè€Œä¸æ˜¯é¢„æœŸçš„ <code>0.3</code>ã€‚</p><h3 id="_9-æ€ä¹ˆå­˜å‚¨-emoji" tabindex="-1"><a class="header-anchor" href="#_9-æ€ä¹ˆå­˜å‚¨-emoji"><span>9.æ€ä¹ˆå­˜å‚¨ emoji?</span></a></h3><p>å› ä¸º emojiï¼ˆğŸ˜Šï¼‰æ˜¯ 4 ä¸ªå­—èŠ‚çš„ UTF-8 å­—ç¬¦ï¼Œè€Œ MySQL çš„ utf8 å­—ç¬¦é›†åªæ”¯æŒæœ€å¤š 3 ä¸ªå­—èŠ‚çš„ UTF-8 å­—ç¬¦ï¼Œæ‰€ä»¥åœ¨ MySQL ä¸­å­˜å‚¨ emoji æ—¶ï¼Œéœ€è¦ä½¿ç”¨ utf8mb4 å­—ç¬¦é›†ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">ALTER</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> TABLE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> mytable CONVERT </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">TO</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> CHARACTER</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> SET</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> utf8mb4 </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">COLLATE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> utf8mb4_unicode_ci;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>MySQL 8.0 å·²ç»é»˜è®¤æ”¯æŒ utf8mb4 å­—ç¬¦é›†ï¼Œå¯ä»¥é€šè¿‡ <code>SHOW VARIABLES WHERE Variable_name LIKE &#39;character\_set\_%&#39; OR Variable_name LIKE &#39;collation%&#39;;</code> æŸ¥çœ‹ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240418103116.png" alt="äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šæŸ¥çœ‹ MySQL çš„é»˜è®¤å­—ç¬¦é›†" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šæŸ¥çœ‹ MySQL çš„é»˜è®¤å­—ç¬¦é›†</figcaption></figure><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å­—èŠ‚è·³åŠ¨é¢ç»åŒå­¦ 13 Java åç«¯äºŒé¢é¢è¯•åŸé¢˜ï¼šmysql æ€ä¹ˆå­˜ emojiï¼Œæ€ä¹ˆç¼–ç </li></ol></blockquote><h3 id="_10-dropã€delete-ä¸-truncate-çš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#_10-dropã€delete-ä¸-truncate-çš„åŒºåˆ«"><span>10.dropã€delete ä¸ truncate çš„åŒºåˆ«ï¼Ÿ</span></a></h3><p>DROP æ˜¯ç‰©ç†åˆ é™¤ï¼Œç”¨æ¥åˆ é™¤æ•´å¼ è¡¨ï¼ŒåŒ…æ‹¬è¡¨ç»“æ„ï¼Œä¸”ä¸èƒ½å›æ»šã€‚</p><p>DELETE æ”¯æŒè¡Œçº§åˆ é™¤ï¼Œå¯ä»¥å¸¦ WHERE æ¡ä»¶ï¼Œå¯ä»¥å›æ»šã€‚</p><p>TRUNCATE ç”¨äºæ¸…ç©ºè¡¨ä¸­çš„æ‰€æœ‰æ•°æ®ï¼Œä½†ä¼šä¿ç•™è¡¨ç»“æ„ï¼Œä¸èƒ½å›æ»šã€‚</p><p>memoï¼š2025 å¹´ 3 æœˆ 4 æ—¥ä¿®æ”¹è‡³æ­¤ã€‚ç»™å¤§å®¶ä¼ é€’ä¸€ä¸ªå–œæŠ¥ï¼Œä¸€ä½çƒå‹æ‹¿åˆ°äº†ç§‘å¤§è®¯é£çš„ offerï¼Œè¿™è–ªèµ„åœ¨åˆè‚¥çœŸçš„ä¼šå¾ˆé¦™ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20250304161556.png" alt="ä¸€ä½çƒå‹æ‹¿åˆ°äº†ç§‘å¤§è®¯é£çš„ offerï¼Œæ˜¥æ‹›" tabindex="0" loading="lazy"><figcaption>ä¸€ä½çƒå‹æ‹¿åˆ°äº†ç§‘å¤§è®¯é£çš„ offerï¼Œæ˜¥æ‹›</figcaption></figure><h3 id="_11-union-ä¸-union-all-çš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#_11-union-ä¸-union-all-çš„åŒºåˆ«"><span>11.UNION ä¸ UNION ALL çš„åŒºåˆ«ï¼Ÿ</span></a></h3><p>UNION ä¼šè‡ªåŠ¨å»é™¤åˆå¹¶åç»“æœé›†ä¸­çš„é‡å¤è¡Œã€‚UNION ALL ä¸ä¼šå»é‡ï¼Œä¼šå°†æ‰€æœ‰ç»“æœé›†åˆå¹¶èµ·æ¥ã€‚</p><h3 id="_12-count-1-ã€count-ä¸-count-åˆ—å-çš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#_12-count-1-ã€count-ä¸-count-åˆ—å-çš„åŒºåˆ«"><span>12.count(1)ã€count(*) ä¸ count(åˆ—å) çš„åŒºåˆ«ï¼Ÿ</span></a></h3><p>åœ¨ InnoDB å¼•æ“ä¸­ï¼Œ<code>COUNT(1)</code> å’Œ <code>COUNT(*)</code> æ²¡æœ‰åŒºåˆ«ï¼Œéƒ½æ˜¯ç”¨æ¥ç»Ÿè®¡æ‰€æœ‰è¡Œï¼ŒåŒ…æ‹¬ NULLã€‚</p><p>å¦‚æœè¡¨æœ‰ç´¢å¼•ï¼Œ<code>COUNT(*)</code> ä¼šç›´æ¥ç”¨ç´¢å¼•ç»Ÿè®¡ï¼Œè€Œä¸æ˜¯å…¨è¡¨æ‰«æï¼Œè€Œ <code>COUNT(1)</code> ä¹Ÿä¼šè¢« MySQL ä¼˜åŒ–ä¸º <code>COUNT(*)</code>ã€‚</p><p><code>COUNT(åˆ—å)</code> åªç»Ÿè®¡åˆ—åä¸ä¸º NULL çš„è¡Œæ•°ã€‚</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>-- å‡è®¾ users è¡¨ï¼š</span></span>
<span class="line"><span>+----+-------+------------+</span></span>
<span class="line"><span>| id | name  | email      |</span></span>
<span class="line"><span>+----+-------+------------+</span></span>
<span class="line"><span>| 1  | å¼ ä¸‰  | zhang@xx.com |</span></span>
<span class="line"><span>| 2  | æå››  | NULL       |</span></span>
<span class="line"><span>| 3  | ç‹äºŒ  | wang@xx.com |</span></span>
<span class="line"><span>+----+-------+------------+</span></span>
<span class="line"><span></span></span>
<span class="line"><span>-- COUNT(*)</span></span>
<span class="line"><span>SELECT COUNT(*) FROM users;</span></span>
<span class="line"><span>-- ç»“æœï¼š3  ï¼ˆç»Ÿè®¡æ‰€æœ‰è¡Œï¼‰</span></span>
<span class="line"><span></span></span>
<span class="line"><span>-- COUNT(1)</span></span>
<span class="line"><span>SELECT COUNT(1) FROM users;</span></span>
<span class="line"><span>-- ç»“æœï¼š3  ï¼ˆç»Ÿè®¡æ‰€æœ‰è¡Œï¼‰</span></span>
<span class="line"><span></span></span>
<span class="line"><span>-- COUNT(email)</span></span>
<span class="line"><span>SELECT COUNT(email) FROM users;</span></span>
<span class="line"><span>-- ç»“æœï¼š2  ï¼ˆNULL ä¸è®¡å…¥ç»Ÿè®¡ï¼‰</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™é‡Œè§£é‡Šä¸€ä¸‹ï¼Œå‡è®¾æœ‰è¿™æ ·ä¸€å¼ è¡¨ï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> TABLE</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> t1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    id </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">INT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    name</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> VARCHAR</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">50</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    value</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> INT</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ’å…¥çš„æ•°æ®ä¸ºï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">INSERT INTO</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> t1 </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">VALUES</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;A&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;B&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">NULL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- NULL in value column</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;C&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">30</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">NULL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">40</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),   </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- NULL in name column</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;E&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">NULL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- NULL in value column</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å› ä¸º id åˆ—æ²¡æœ‰ç´¢å¼•ï¼Œæ‰€ä»¥ <code>select count(*)</code> æ˜¯å…¨è¡¨æ‰«æã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20250305181629.png" alt="äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šcount()å…¨è¡¨æ‰«æ" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šcount(*)å…¨è¡¨æ‰«æ</figcaption></figure><p>ç„¶åæˆ‘ä»¬ç»™ id åˆ—åŠ ä¸Šç´¢å¼•ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">alter</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> table</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> t1 </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">add</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> primary key</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (id);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20250305181907.png" alt="äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šä¿®æ”¹t1ä¸»é”®" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šä¿®æ”¹t1ä¸»é”®</figcaption></figure><p>å†æ¥çœ‹ä¸€ä¸‹ <code>select count(*)</code>ï¼Œå‘ç°ç”¨äº†ç´¢å¼•ï¼ˆMySQL é»˜è®¤ä¸ºç»™ä¸»é”®æ·»åŠ ç´¢å¼•ï¼‰ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20250305182117.png" alt="äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šcount()èµ°äº†ç´¢å¼•" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šcount(*)èµ°äº†ç´¢å¼•</figcaption></figure><p>å¦å¤–ï¼ŒMySQL 8.0 å®˜æ–¹æ‰‹å†Œæœ‰æ˜ç¡®è¯´æ˜ï¼ŒInnoDB å¼•æ“å¯¹ <code>SELECT COUNT(*)</code> å’Œ <code>SELECT COUNT(1)</code> çš„å¤„ç†æ–¹å¼å®Œå…¨ä¸€è‡´ï¼Œæ€§èƒ½å¹¶æ— å·®å¼‚ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20250305183220.png" alt="äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šMySQL 8.0 å®˜æ–¹æ‰‹å†Œ" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šMySQL 8.0 å®˜æ–¹æ‰‹å†Œ</figcaption></figure><p>memoï¼š2025 å¹´ 3 æœˆ 5 æ—¥ä¿®æ”¹è‡³æ­¤ã€‚å†æ™’ä¸€ä¸ªå–œæŠ¥ç»™æ­£åœ¨åˆ·å…«è‚¡çš„ä½ ï¼Œ<a href="https://javabetter.cn/zhishixingqiu/" target="_blank" rel="noopener noreferrer">ä¸€ä½çƒå‹</a>æ‹¿åˆ°äº†å’ªå’•çš„å¤§æ¨¡å‹åº”ç”¨å¼€å‘ï¼Œå¾ˆä¸é”™çš„æ–¹å‘ï¼Œæ­å–œäº†ï¼ç»™ä½ ä¹ŸåŠ åŠ å¥½è¿ğŸ€buffï¼Œä½ ä¹ŸåŠ æŠŠåŠ²ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20250305183751.png" alt="çƒå‹æ‹¿åˆ°äº†å’ªå’•çš„å¤§æ¨¡å‹å¼€å‘å®ä¹ " tabindex="0" loading="lazy"><figcaption>çƒå‹æ‹¿åˆ°äº†å’ªå’•çš„å¤§æ¨¡å‹å¼€å‘å®ä¹ </figcaption></figure><h3 id="_13-sql-æŸ¥è¯¢è¯­å¥çš„æ‰§è¡Œé¡ºåºäº†è§£å—" tabindex="-1"><a class="header-anchor" href="#_13-sql-æŸ¥è¯¢è¯­å¥çš„æ‰§è¡Œé¡ºåºäº†è§£å—"><span>13.SQL æŸ¥è¯¢è¯­å¥çš„æ‰§è¡Œé¡ºåºäº†è§£å—ï¼Ÿ</span></a></h3><p>äº†è§£ã€‚å…ˆæ‰§è¡Œ FROM ç¡®å®šä¸»è¡¨ï¼Œå†æ‰§è¡Œ JOIN è¿æ¥ï¼Œç„¶å WHERE è¿›è¡Œè¿‡æ»¤ï¼Œæ¥ç€ GROUP BY è¿›è¡Œåˆ†ç»„ï¼ŒHAVING è¿‡æ»¤èšåˆç»“æœï¼ŒSELECT é€‰æ‹©æœ€ç»ˆåˆ—ï¼ŒORDER BY æ’åºï¼Œæœ€å LIMIT é™åˆ¶è¿”å›è¡Œæ•°ã€‚</p><p>WHERE å…ˆæ‰§è¡Œæ˜¯ä¸ºäº†å‡å°‘æ•°æ®é‡ï¼ŒHAVING åªèƒ½è¿‡æ»¤èšåˆæ•°æ®ï¼ŒORDER BY å¿…é¡»åœ¨ SELECT ä¹‹åæ’åºæœ€ç»ˆç»“æœï¼ŒLIMIT æœ€åæ‰§è¡Œä»¥å‡å°‘æ•°æ®ä¼ è¾“ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20250306153200.png" alt="åšå®¢å›­æ•°æ®æ´¾ï¼šæŸ¥è¯¢è¯­å¥æ‰§è¡Œé¡ºåº" tabindex="0" loading="lazy"><figcaption>åšå®¢å›­æ•°æ®æ´¾ï¼šæŸ¥è¯¢è¯­å¥æ‰§è¡Œé¡ºåº</figcaption></figure><table><thead><tr><th>æ‰§è¡Œé¡ºåº</th><th>SQL å…³é”®å­—</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>â‘ </td><td>FROM</td><td>ç¡®å®šä¸»è¡¨ï¼Œå‡†å¤‡æ•°æ®</td></tr><tr><td>â‘¡</td><td>ON</td><td>è¿æ¥å¤šä¸ªè¡¨çš„æ¡ä»¶</td></tr><tr><td>â‘¢</td><td>JOIN</td><td>æ‰§è¡Œ INNER JOIN / LEFT JOIN ç­‰</td></tr><tr><td>â‘£</td><td>WHERE</td><td>è¿‡æ»¤è¡Œæ•°æ®ï¼ˆæé«˜æ•ˆç‡ï¼‰</td></tr><tr><td>â‘¤</td><td>GROUP BY</td><td>è¿›è¡Œåˆ†ç»„</td></tr><tr><td>â‘¥</td><td>HAVING</td><td>è¿‡æ»¤èšåˆåçš„æ•°æ®</td></tr><tr><td>â‘¦</td><td>SELECT</td><td>é€‰æ‹©æœ€ç»ˆè¿”å›çš„åˆ—</td></tr><tr><td>â‘§</td><td>DISTINCT</td><td>è¿›è¡Œå»é‡</td></tr><tr><td>â‘¨</td><td>ORDER BY</td><td>å¯¹æœ€ç»ˆç»“æœæ’åº</td></tr><tr><td>â‘©</td><td>LIMIT</td><td>é™åˆ¶è¿”å›è¡Œæ•°</td></tr></tbody></table><p>è¿™ä¸ªæ‰§è¡Œé¡ºåºä¸ç¼–å†™ SQL è¯­å¥çš„é¡ºåºä¸åŒï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæœ‰æ—¶å€™åœ¨ SELECT å­å¥ä¸­å®šä¹‰çš„åˆ«åä¸èƒ½åœ¨ WHERE å­å¥ä¸­ä½¿ç”¨å¾—åŸå› ï¼Œå› ä¸º WHERE æ˜¯åœ¨ SELECT ä¹‹å‰æ‰§è¡Œçš„ã€‚</p><h4 id="limit-ä¸ºä»€ä¹ˆåœ¨æœ€åæ‰§è¡Œ" tabindex="-1"><a class="header-anchor" href="#limit-ä¸ºä»€ä¹ˆåœ¨æœ€åæ‰§è¡Œ"><span>LIMIT ä¸ºä»€ä¹ˆåœ¨æœ€åæ‰§è¡Œï¼Ÿ</span></a></h4><p>å› ä¸º LIMIT æ˜¯åœ¨æœ€ç»ˆç»“æœé›†ä¸Šæ‰§è¡Œçš„ï¼Œå¦‚æœåœ¨ WHERE ä¹‹å‰æ‰§è¡Œ LIMITï¼Œé‚£ä¹ˆå°±ä¼šå…ˆè¿”å›æ‰€æœ‰è¡Œï¼Œç„¶åå†è¿›è¡Œ LIMIT é™åˆ¶ï¼Œè¿™æ ·ä¼šå¢åŠ æ•°æ®ä¼ è¾“çš„å¼€é”€ã€‚</p><h4 id="order-by-ä¸ºä»€ä¹ˆåœ¨-select-ä¹‹åæ‰§è¡Œ" tabindex="-1"><a class="header-anchor" href="#order-by-ä¸ºä»€ä¹ˆåœ¨-select-ä¹‹åæ‰§è¡Œ"><span>ORDER BY ä¸ºä»€ä¹ˆåœ¨ SELECT ä¹‹åæ‰§è¡Œï¼Ÿ</span></a></h4><p>å› ä¸ºæ’åºéœ€è¦åŸºäºæœ€ç»ˆè¿”å›çš„åˆ—ï¼Œå¦‚æœ ORDER BY æ—©äº SELECT æ‰§è¡Œï¼Œè®¡ç®— <code>COUNT(*)</code> ä¹‹ç±»çš„èšåˆå‡½æ•°å°±ä¼šå‡ºé—®é¢˜ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">COUNT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(*) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">AS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> order_count</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> orders</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">GROUP BY</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> name</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">ORDER BY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> order_count </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">DESC</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_14-ä»‹ç»ä¸€ä¸‹-mysql-çš„å¸¸ç”¨å‘½ä»¤-è¡¥å……" tabindex="-1"><a class="header-anchor" href="#_14-ä»‹ç»ä¸€ä¸‹-mysql-çš„å¸¸ç”¨å‘½ä»¤-è¡¥å……"><span>14.ä»‹ç»ä¸€ä¸‹ MySQL çš„å¸¸ç”¨å‘½ä»¤ï¼ˆè¡¥å……ï¼‰</span></a></h3><blockquote><p>2024 å¹´ 03 æœˆ 13 æ—¥å¢è¡¥ã€‚</p></blockquote><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240313093551.png" alt="äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šMySQLå¸¸ç”¨å‘½ä»¤" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šMySQLå¸¸ç”¨å‘½ä»¤</figcaption></figure><p>MySQL çš„å¸¸ç”¨å‘½ä»¤ä¸»è¦åŒ…æ‹¬æ•°æ®åº“æ“ä½œå‘½ä»¤ã€è¡¨æ“ä½œå‘½ä»¤ã€è¡Œæ•°æ® CRUD å‘½ä»¤ã€ç´¢å¼•å’Œçº¦æŸçš„åˆ›å»ºä¿®æ”¹å‘½ä»¤ã€ç”¨æˆ·å’Œæƒé™ç®¡ç†çš„å‘½ä»¤ã€äº‹åŠ¡æ§åˆ¶çš„å‘½ä»¤ç­‰ã€‚</p><h4 id="è¯´è¯´æ•°æ®åº“æ“ä½œå‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#è¯´è¯´æ•°æ®åº“æ“ä½œå‘½ä»¤"><span>è¯´è¯´æ•°æ®åº“æ“ä½œå‘½ä»¤ï¼Ÿ</span></a></h4><p><code>CREATE DATABASE database_name;</code> ç”¨äºåˆ›å»ºæ•°æ®åº“ï¼›<code>DROP DATABASE database_name;</code> ç”¨äºåˆ é™¤æ•°æ®åº“ï¼›<code>SHOW DATABASES;</code> ç”¨äºæ˜¾ç¤ºæ‰€æœ‰æ•°æ®åº“ï¼›<code>USE database_name;</code> ç”¨äºåˆ‡æ¢æ•°æ®åº“ã€‚</p><h4 id="è¯´è¯´è¡¨æ“ä½œå‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#è¯´è¯´è¡¨æ“ä½œå‘½ä»¤"><span>è¯´è¯´è¡¨æ“ä½œå‘½ä»¤ï¼Ÿ</span></a></h4><p><code>CREATE TABLE table_name (åˆ—å1 æ•°æ®ç±»å‹1, åˆ—å2 æ•°æ®ç±»å‹2,...);</code> ç”¨äºåˆ›å»ºè¡¨ï¼›<code>DROP TABLE table_name;</code> ç”¨äºåˆ é™¤è¡¨ï¼›<code>SHOW TABLES;</code> ç”¨äºæ˜¾ç¤ºæ‰€æœ‰è¡¨ï¼›<code>DESCRIBE table_name;</code> ç”¨äºæŸ¥çœ‹è¡¨ç»“æ„ï¼›<code>ALTER TABLE table_name ADD column_name datatype;</code> ç”¨äºä¿®æ”¹è¡¨ã€‚</p><h4 id="è¯´è¯´è¡Œæ•°æ®çš„-crud-å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#è¯´è¯´è¡Œæ•°æ®çš„-crud-å‘½ä»¤"><span>è¯´è¯´è¡Œæ•°æ®çš„ CRUD å‘½ä»¤ï¼Ÿ</span></a></h4><p><code>INSERT INTO table_name (column1, column2, ...) VALUES (value1, value2, ...);</code> ç”¨äºæ’å…¥æ•°æ®ï¼›<code>SELECT column_names FROM table_name WHERE condition;</code> ç”¨äºæŸ¥è¯¢æ•°æ®ï¼›<code>UPDATE table_name SET column1 = value1, column2 = value2 WHERE condition;</code> ç”¨äºæ›´æ–°æ•°æ®ï¼›<code>DELETE FROM table_name WHERE condition;</code> ç”¨äºåˆ é™¤æ•°æ®ã€‚</p><h4 id="è¯´è¯´ç´¢å¼•å’Œçº¦æŸçš„åˆ›å»ºä¿®æ”¹å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#è¯´è¯´ç´¢å¼•å’Œçº¦æŸçš„åˆ›å»ºä¿®æ”¹å‘½ä»¤"><span>è¯´è¯´ç´¢å¼•å’Œçº¦æŸçš„åˆ›å»ºä¿®æ”¹å‘½ä»¤ï¼Ÿ</span></a></h4><p><code>CREATE INDEX index_name ON table_name (column_name);</code> ç”¨äºåˆ›å»ºç´¢å¼•ï¼›<code>ALTER TABLE table_name ADD PRIMARY KEY (column_name);</code> ç”¨äºæ·»åŠ ä¸»é”®ï¼›<code>ALTER TABLE table_name ADD CONSTRAINT fk_name FOREIGN KEY (column_name) REFERENCES parent_table (parent_column_name);</code> ç”¨äºæ·»åŠ å¤–é”®ã€‚</p><h4 id="è¯´è¯´ç”¨æˆ·å’Œæƒé™ç®¡ç†çš„å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#è¯´è¯´ç”¨æˆ·å’Œæƒé™ç®¡ç†çš„å‘½ä»¤"><span>è¯´è¯´ç”¨æˆ·å’Œæƒé™ç®¡ç†çš„å‘½ä»¤ï¼Ÿ</span></a></h4><p><code>CREATE USER &#39;username&#39;@&#39;host&#39; IDENTIFIED BY &#39;password&#39;;</code> ç”¨äºåˆ›å»ºç”¨æˆ·ï¼›<code>GRANT ALL PRIVILEGES ON database_name.table_name TO &#39;username&#39;@&#39;host&#39;;</code> ç”¨äºæˆäºˆæƒé™ï¼›<code>REVOKE ALL PRIVILEGES ON database_name.table_name FROM &#39;username&#39;@&#39;host&#39;;</code> ç”¨äºæ’¤é”€æƒé™ï¼›<code>DROP USER &#39;username&#39;@&#39;host&#39;;</code> ç”¨äºåˆ é™¤ç”¨æˆ·ã€‚</p><h4 id="è¯´è¯´äº‹åŠ¡æ§åˆ¶çš„å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#è¯´è¯´äº‹åŠ¡æ§åˆ¶çš„å‘½ä»¤"><span>è¯´è¯´äº‹åŠ¡æ§åˆ¶çš„å‘½ä»¤ï¼Ÿ</span></a></h4><p><code>START TRANSACTION;</code> ç”¨äºå¼€å§‹äº‹åŠ¡ï¼›<code>COMMIT;</code> ç”¨äºæäº¤äº‹åŠ¡ï¼›<code>ROLLBACK;</code> ç”¨äºå›æ»šäº‹åŠ¡ã€‚</p><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„ç”¨å‹é‡‘èä¸€é¢åŸé¢˜ï¼šä»‹ç»ä¸€ä¸‹ MySQL çš„å¸¸ç”¨å‘½ä»¤</li></ol></blockquote><h3 id="_15-mysql-bin-ç›®å½•ä¸‹çš„å¯æ‰§è¡Œæ–‡ä»¶äº†è§£å—-è¡¥å……" tabindex="-1"><a class="header-anchor" href="#_15-mysql-bin-ç›®å½•ä¸‹çš„å¯æ‰§è¡Œæ–‡ä»¶äº†è§£å—-è¡¥å……"><span>15.MySQL bin ç›®å½•ä¸‹çš„å¯æ‰§è¡Œæ–‡ä»¶äº†è§£å—ï¼ˆè¡¥å……ï¼‰</span></a></h3><blockquote><p>2024 å¹´ 03 æœˆ 13 æ—¥å¢è¡¥</p></blockquote><p>æ¨èé˜…è¯»ï¼š<a href="https://javabetter.cn/mysql/bin.html" target="_blank" rel="noopener noreferrer">MySQL bin ç›®å½•ä¸‹çš„ä¸€äº›å¯æ‰§è¡Œæ–‡ä»¶</a></p><p>äº†è§£çš„ã€‚MySQL çš„ bin ç›®å½•ä¸‹æœ‰å¾ˆå¤šå¯æ‰§è¡Œæ–‡ä»¶ï¼Œä¸»è¦ç”¨äºç®¡ç† MySQL æœåŠ¡å™¨ã€æ•°æ®åº“ã€è¡¨ã€æ•°æ®ç­‰ã€‚æ¯”å¦‚è¯´ï¼š</p><ul><li>mysqlï¼šç”¨äºè¿æ¥ MySQL æœåŠ¡å™¨</li><li>mysqldumpï¼šç”¨äºæ•°æ®åº“å¤‡ä»½ï¼Œå¯¹æ•°æ®å¤‡ä»½ã€è¿ç§»æˆ–æ¢å¤æ—¶éå¸¸æœ‰ç”¨</li><li>mysqladminï¼šç”¨æ¥æ‰§è¡Œä¸€äº›ç®¡ç†æ“ä½œï¼Œæ¯”å¦‚è¯´åˆ›å»ºæ•°æ®åº“ã€åˆ é™¤æ•°æ®åº“ã€æŸ¥çœ‹ MySQL æœåŠ¡å™¨çš„çŠ¶æ€ç­‰ã€‚</li><li>mysqlcheckï¼šç”¨äºæ£€æŸ¥ã€ä¿®å¤ã€åˆ†æå’Œä¼˜åŒ–æ•°æ®åº“è¡¨ï¼Œå¯¹æ•°æ®åº“çš„ç»´æŠ¤å’Œæ€§èƒ½ä¼˜åŒ–éå¸¸æœ‰ç”¨ã€‚</li><li>mysqlimportï¼šç”¨äºä»æ–‡æœ¬æ–‡ä»¶ä¸­å¯¼å…¥æ•°æ®åˆ°æ•°æ®åº“è¡¨ä¸­ï¼Œé€‚åˆæ‰¹é‡æ•°æ®å¯¼å…¥ã€‚</li><li>mysqlshowï¼šç”¨äºæ˜¾ç¤º MySQL æ•°æ®åº“æœåŠ¡å™¨ä¸­çš„æ•°æ®åº“ã€è¡¨ã€åˆ—ç­‰ä¿¡æ¯ã€‚</li><li>mysqlbinlogï¼šç”¨äºæŸ¥çœ‹ MySQL äºŒè¿›åˆ¶æ—¥å¿—æ–‡ä»¶çš„å†…å®¹ï¼Œå¯ä»¥ç”¨äºæ¢å¤æ•°æ®ã€æŸ¥çœ‹æ•°æ®å˜æ›´ç­‰ã€‚</li></ul><h3 id="_16-mysql-ç¬¬-3-10-æ¡è®°å½•æ€ä¹ˆæŸ¥-è¡¥å……" tabindex="-1"><a class="header-anchor" href="#_16-mysql-ç¬¬-3-10-æ¡è®°å½•æ€ä¹ˆæŸ¥-è¡¥å……"><span>16.MySQL ç¬¬ 3-10 æ¡è®°å½•æ€ä¹ˆæŸ¥ï¼Ÿï¼ˆè¡¥å……ï¼‰</span></a></h3><blockquote><p>2024 å¹´ 03 æœˆ 30 æ—¥å¢è¡¥</p></blockquote><p>å¯ä»¥ä½¿ç”¨ limit è¯­å¥ï¼Œç»“åˆåç§»é‡å’Œè¡Œæ•°æ¥å®ç°ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> table_name </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">LIMIT</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">8</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>limit è¯­å¥ç”¨äºé™åˆ¶æŸ¥è¯¢ç»“æœçš„æ•°é‡ï¼Œåç§»é‡è¡¨ç¤ºä»å“ªæ¡è®°å½•å¼€å§‹ï¼Œè¡Œæ•°è¡¨ç¤ºè¿”å›çš„è®°å½•æ•°é‡ã€‚</p><ul><li>2ï¼šåç§»é‡ï¼Œè¡¨ç¤ºè·³è¿‡å‰ä¸¤æ¡è®°å½•ï¼Œä»ç¬¬ä¸‰æ¡è®°å½•å¼€å§‹ã€‚</li><li>8ï¼šè¡Œæ•°ï¼Œè¡¨ç¤ºä»åç§»é‡å¼€å§‹ï¼Œè¿”å› 8 æ¡è®°å½•ã€‚</li></ul><p>åç§»é‡æ˜¯ä» 0 å¼€å§‹çš„ï¼Œå³ç¬¬ä¸€æ¡è®°å½•çš„åç§»é‡æ˜¯ 0ï¼›å¦‚æœæƒ³ä»ç¬¬ 3 æ¡è®°å½•å¼€å§‹ï¼Œåç§»é‡å°±åº”è¯¥æ˜¯ 2ã€‚</p><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„ç¾å›¢é¢ç»åŒå­¦ 16 æš‘æœŸå®ä¹ ä¸€é¢é¢è¯•åŸé¢˜ï¼šMySQL ç¬¬ 3-10 æ¡è®°å½•æ€ä¹ˆæŸ¥ï¼Ÿ</li></ol></blockquote><h3 id="_17-ç”¨è¿‡å“ªäº›-mysql-å‡½æ•°-è¡¥å……" tabindex="-1"><a class="header-anchor" href="#_17-ç”¨è¿‡å“ªäº›-mysql-å‡½æ•°-è¡¥å……"><span>17.ç”¨è¿‡å“ªäº› MySQL å‡½æ•°ï¼Ÿï¼ˆè¡¥å……ï¼‰</span></a></h3><blockquote><p>2024 å¹´ 04 æœˆ 12 æ—¥å¢è¡¥</p></blockquote><p>ç”¨è¿‡æŒºå¤šçš„ï¼Œæ¯”å¦‚è¯´å¤„ç†å­—ç¬¦ä¸²çš„å‡½æ•°ï¼š</p><ul><li><code>CONCAT()</code>: ç”¨äºè¿æ¥ä¸¤ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ä¸²ã€‚</li><li><code>LENGTH()</code>: ç”¨äºè¿”å›å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚</li><li><code>SUBSTRING()</code>: ä»å­—ç¬¦ä¸²ä¸­æå–å­å­—ç¬¦ä¸²ã€‚</li><li><code>REPLACE()</code>: æ›¿æ¢å­—ç¬¦ä¸²ä¸­çš„æŸéƒ¨åˆ†ã€‚</li><li><code>TRIM()</code>: å»é™¤å­—ç¬¦ä¸²ä¸¤ä¾§çš„ç©ºæ ¼æˆ–å…¶ä»–æŒ‡å®šå­—ç¬¦ã€‚</li></ul><p>å®æµ‹æ•°æ®ï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- è¿æ¥å­—ç¬¦ä¸²</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> CONCAT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;æ²‰é»˜&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39; &#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;ç‹äºŒ&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">AS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> concatenated_string;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- è·å–å­—ç¬¦ä¸²é•¿åº¦</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> LENGTH</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;æ²‰é»˜ ç‹äºŒ&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">AS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> string_length;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- æå–å­å­—ç¬¦ä¸²</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> SUBSTRING</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;æ²‰é»˜ ç‹äºŒ&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">AS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> substring;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- æ›¿æ¢å­—ç¬¦ä¸²å†…å®¹</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> REPLACE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;æ²‰é»˜ ç‹äºŒ&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;ç‹äºŒ&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;MySQL&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">AS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> replaced_string;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- å»é™¤å­—ç¬¦ä¸²ä¸¤ä¾§çš„ç©ºæ ¼</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> TRIM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;  æ²‰é»˜ ç‹äºŒ  &#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">AS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> trimmed_string;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¤„ç†æ•°å­—çš„å‡½æ•°ï¼š</p><ul><li><code>ABS()</code>: è¿”å›ä¸€ä¸ªæ•°çš„ç»å¯¹å€¼ã€‚</li><li><code>ROUND()</code>: å››èˆäº”å…¥åˆ°æŒ‡å®šçš„å°æ•°ä½æ•°ã€‚</li><li><code>MOD()</code>: è¿”å›é™¤æ³•æ“ä½œçš„ä½™æ•°ã€‚</li></ul><p>å®æµ‹æ•°æ®ï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- è¿”å›ç»å¯¹å€¼</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> ABS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">123</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">AS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> absolute_value;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- å››èˆäº”å…¥</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> ROUND</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">123</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4567</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">AS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> rounded_value;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- ä½™æ•°</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> MOD(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">AS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> modulus;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ—¥æœŸå’Œæ—¶é—´å¤„ç†å‡½æ•°ï¼š</p><ul><li><code>NOW()</code>: è¿”å›å½“å‰çš„æ—¥æœŸå’Œæ—¶é—´ã€‚</li><li><code>CURDATE()</code>: è¿”å›å½“å‰çš„æ—¥æœŸã€‚</li></ul><p>å®æµ‹æ•°æ®ï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- è¿”å›å½“å‰æ—¥æœŸå’Œæ—¶é—´</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> NOW</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">AS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> current_date_time;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- è¿”å›å½“å‰æ—¥æœŸ</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> CURDATE() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">AS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> current_date;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ±‡æ€»å‡½æ•°ï¼š</p><ul><li><code>SUM()</code>: è®¡ç®—æ•°å€¼åˆ—çš„æ€»å’Œã€‚</li><li><code>AVG()</code>: è®¡ç®—æ•°å€¼åˆ—çš„å¹³å‡å€¼ã€‚</li><li><code>COUNT()</code>: è®¡ç®—æŸåˆ—çš„è¡Œæ•°ã€‚</li></ul><p>å®æµ‹æ•°æ®ï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- åˆ›å»ºä¸€ä¸ªè¡¨å¹¶æ’å…¥æ•°æ®è¿›è¡ŒèšåˆæŸ¥è¯¢</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> TABLE</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> sales</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    product_id </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">INT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    sales_amount </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">DECIMAL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">INSERT INTO</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> sales (product_id, sales_amount) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">VALUES</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">100</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">00</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">INSERT INTO</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> sales (product_id, sales_amount) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">VALUES</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">150</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">00</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">INSERT INTO</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> sales (product_id, sales_amount) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">VALUES</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">200</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">00</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- è®¡ç®—æ€»å’Œ</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> SUM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(sales_amount) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">AS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> total_sales </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> sales;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- è®¡ç®—å¹³å‡å€¼</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> AVG</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(sales_amount) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">AS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> average_sales </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> sales;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- è®¡ç®—æ€»è¡Œæ•°</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> COUNT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(*) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">AS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> total_entries </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> sales;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é€»è¾‘å‡½æ•°ï¼š</p><ul><li><code>IF()</code>: å¦‚æœæ¡ä»¶ä¸ºçœŸï¼Œåˆ™è¿”å›ä¸€ä¸ªå€¼ï¼›å¦åˆ™è¿”å›å¦ä¸€ä¸ªå€¼ã€‚</li><li><code>CASE</code>: æ ¹æ®ä¸€ç³»åˆ—æ¡ä»¶è¿”å›å€¼ã€‚</li></ul><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- IFå‡½æ•°</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> IF</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> &gt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;True&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;False&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">AS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> simple_if;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- CASEè¡¨è¾¾å¼</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> CASE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> WHEN</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> &gt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> THEN</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;True&#39;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> ELSE</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;False&#39;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> END</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> AS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> case_expression;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„åä¸º OD é¢ç»åŒå­¦ 1 ä¸€é¢é¢è¯•åŸé¢˜ï¼šç”¨è¿‡å“ªäº› MySQL å‡½æ•°ï¼Ÿ</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„ å°å…¬å¸é¢ç»åˆé›†å¥½æœªæ¥æµ‹å¼€é¢ç»åŒå­¦ 3 æµ‹å¼€ä¸€é¢é¢è¯•åŸé¢˜ï¼šçŸ¥é“ MySQL çš„å“ªäº›å‡½æ•°ï¼Œå¦‚ order by count()</li></ol></blockquote><h3 id="_18-è¯´è¯´-sql-çš„éšå¼æ•°æ®ç±»å‹è½¬æ¢-è¡¥å……" tabindex="-1"><a class="header-anchor" href="#_18-è¯´è¯´-sql-çš„éšå¼æ•°æ®ç±»å‹è½¬æ¢-è¡¥å……"><span>18.è¯´è¯´ SQL çš„éšå¼æ•°æ®ç±»å‹è½¬æ¢ï¼Ÿï¼ˆè¡¥å……ï¼‰</span></a></h3><blockquote><p>2024 å¹´ 04 æœˆ 25 æ—¥å¢è¡¥</p></blockquote><p>å½“ä¸€ä¸ªæ•´æ•°å’Œä¸€ä¸ªæµ®ç‚¹æ•°ç›¸åŠ æ—¶ï¼Œæ•´æ•°ä¼šè¢«è½¬æ¢ä¸ºæµ®ç‚¹æ•°ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> + </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- ç»“æœä¸º 2.0</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>å½“ä¸€ä¸ªå­—ç¬¦ä¸²å’Œä¸€ä¸ªæ•´æ•°ç›¸åŠ æ—¶ï¼Œå­—ç¬¦ä¸²ä¼šè¢«è½¬æ¢ä¸ºæ•´æ•°ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;1&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> + </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- ç»“æœä¸º 2</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>éšå¼è½¬æ¢ä¼šå¯¼è‡´æ„æƒ³ä¸åˆ°çš„ç»“æœï¼Œæœ€å¥½é€šè¿‡æ˜¾å¼è½¬æ¢æ¥è§„é¿ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> CAST</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;1&#39;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> AS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> SIGNED </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">INTEGER</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) + </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- ç»“æœä¸º 2</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>å®é™…éªŒè¯ç»“æœï¼š</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240425111246.png" alt="äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šéšå¼è½¬æ¢" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šéšå¼è½¬æ¢</figcaption></figure><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å°å…¬å¸é¢ç»åˆé›†åŒå­¦ 1 Java åç«¯é¢è¯•åŸé¢˜ï¼šè¯´è¯´ SQL çš„éšå¼æ•°æ®ç±»å‹è½¬æ¢ï¼Ÿ</li></ol></blockquote><p>memoï¼š2025 å¹´ 3 æœˆ 6 æ—¥ä¿®æ”¹è‡³æ­¤ã€‚</p><h3 id="_19-è¯´è¯´-sql-çš„è¯­æ³•æ ‘è§£æ-è¡¥å……" tabindex="-1"><a class="header-anchor" href="#_19-è¯´è¯´-sql-çš„è¯­æ³•æ ‘è§£æ-è¡¥å……"><span>19. è¯´è¯´ SQL çš„è¯­æ³•æ ‘è§£æï¼Ÿï¼ˆè¡¥å……ï¼‰</span></a></h3><blockquote><p>2024 å¹´ 09 æœˆ 19 æ—¥å¢è¡¥</p></blockquote><p>SQL è¯­æ³•æ ‘è§£ææ˜¯å°† SQL æŸ¥è¯¢è¯­å¥è½¬æ¢æˆæŠ½è±¡è¯­æ³•æ ‘ â€”â€” AST çš„è¿‡ç¨‹ï¼Œæ˜¯æ•°æ®åº“å¼•æ“å¤„ç†æŸ¥è¯¢çš„ç¬¬ä¸€æ­¥ï¼Œä¹Ÿæ˜¯é˜²æ­¢ SQL æ³¨å…¥çš„é‡è¦æ‰‹æ®µã€‚</p><p>é€šå¸¸åˆ†ä¸º 3 ä¸ªé˜¶æ®µã€‚</p><p>ç¬¬ä¸€ä¸ªé˜¶æ®µï¼Œè¯æ³•åˆ†æï¼šæ‹†è§£ SQL è¯­å¥ï¼Œè¯†åˆ«å…³é”®å­—ã€è¡¨åã€åˆ—åç­‰ã€‚</p><p>---è¿™éƒ¨åˆ†æ˜¯å¸®åŠ©å¤§å®¶ç†è§£ startï¼Œé¢è¯•ä¸­å¯ä¸èƒŒ---</p><p>æ¯”å¦‚è¯´ï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> id, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">name</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> users </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> age </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 18</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>å°†ä¼šè¢«æ‹†è§£ä¸ºï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[SELECT] [id] [,] [name] [FROM] [users] [WHERE] [age] [&gt;] [18] [;]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>---è¿™éƒ¨åˆ†æ˜¯å¸®åŠ©å¤§å®¶ç†è§£ endï¼Œé¢è¯•ä¸­å¯ä¸èƒŒ---</p><p>ç¬¬äºŒä¸ªé˜¶æ®µï¼Œè¯­æ³•åˆ†æï¼šæ£€æŸ¥ SQL æ˜¯å¦ç¬¦åˆè¯­æ³•è§„åˆ™ï¼Œå¹¶æ„å»ºæŠ½è±¡è¯­æ³•æ ‘ã€‚</p><p>---è¿™éƒ¨åˆ†æ˜¯å¸®åŠ©å¤§å®¶ç†è§£ startï¼Œé¢è¯•ä¸­å¯ä¸èƒŒ---</p><p>æ¯”å¦‚è¯´ä¸Šé¢çš„è¯­å¥ä¼šè¢«æ„å»ºæˆå¦‚ä¸‹çš„è¯­æ³•æ ‘ï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>          SELECT</span></span>
<span class="line"><span>         /      \</span></span>
<span class="line"><span>     Columns     FROM</span></span>
<span class="line"><span>    /      \      |</span></span>
<span class="line"><span>  id      name  users</span></span>
<span class="line"><span>               |</span></span>
<span class="line"><span>             WHERE</span></span>
<span class="line"><span>               |</span></span>
<span class="line"><span>            age &gt; 18</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ–è€…è¿™æ ·è¡¨ç¤ºï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>SELECT</span></span>
<span class="line"><span> â”œâ”€â”€ COLUMNS: id, name</span></span>
<span class="line"><span> â”œâ”€â”€ FROM: users</span></span>
<span class="line"><span> â”œâ”€â”€ WHERE</span></span>
<span class="line"><span> â”‚    â”œâ”€â”€ CONDITION: age &gt; 18</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>---è¿™éƒ¨åˆ†æ˜¯å¸®åŠ©å¤§å®¶ç†è§£ endï¼Œé¢è¯•ä¸­å¯ä¸èƒŒ---</p><p>ç¬¬ä¸‰ä¸ªé˜¶æ®µï¼Œè¯­ä¹‰åˆ†æï¼šæ£€æŸ¥è¡¨ã€åˆ—æ˜¯å¦å­˜åœ¨ï¼Œè¿›è¡Œæƒé™éªŒè¯ç­‰ã€‚</p><p>---è¿™éƒ¨åˆ†æ˜¯å¸®åŠ©å¤§å®¶ç†è§£ startï¼Œé¢è¯•ä¸­å¯ä¸èƒŒ---</p><p>æ¯”å¦‚è¯´æ‰§è¡Œï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> id, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">name</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> users </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> age </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;eighteen&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>ä¼šæŠ¥é”™ï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>ERROR: Column &#39;age&#39; is INT, but &#39;eighteen&#39; is STRING.</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>---è¿™éƒ¨åˆ†æ˜¯å¸®åŠ©å¤§å®¶ç†è§£ endï¼Œé¢è¯•ä¸­å¯ä¸èƒŒ---</p><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å­—èŠ‚è·³åŠ¨é¢ç»åŒå­¦ 21 æŠ–éŸ³å•†åŸä¸€é¢é¢è¯•åŸé¢˜ï¼šsqlçš„è¯­æ³•æ ‘è§£æ</li></ol></blockquote><p>memoï¼š2025 å¹´ 3 æœˆ 7 æ—¥ ä¿®æ”¹è‡³æ­¤ã€‚å†æ™’ä¸€ä¸ª offerï¼Œä¸€ä½çƒå‹æ‹¿åˆ°äº†ç»çº¬æ’æ¶¦çš„å®ä¹  offerï¼Œå¹¶ä¸”ç›´è¨€é¢è¯•äº†å¾ˆå¤šåœºï¼Œæˆ‘è¯´è¶…è¿‡ 5 æ¬¡çš„é¢˜ç›®åŸºæœ¬ä¸Šéƒ½ç¢°åˆ°äº†ï¼Œå•¥éƒ½åˆ«è¯´äº†ï¼Œé¢æ¸£é€†è¢­ YYDSã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20250308085803.png" alt="çƒå‹æ‹¿åˆ°äº†ç»çº¬æ’æ¶¦çš„å®ä¹  offer" tabindex="0" loading="lazy"><figcaption>çƒå‹æ‹¿åˆ°äº†ç»çº¬æ’æ¶¦çš„å®ä¹  offer</figcaption></figure><h2 id="æ•°æ®åº“æ¶æ„" tabindex="-1"><a class="header-anchor" href="#æ•°æ®åº“æ¶æ„"><span>æ•°æ®åº“æ¶æ„</span></a></h2><h3 id="_20-è¯´è¯´-mysql-çš„åŸºç¡€æ¶æ„" tabindex="-1"><a class="header-anchor" href="#_20-è¯´è¯´-mysql-çš„åŸºç¡€æ¶æ„"><span>20.è¯´è¯´ MySQL çš„åŸºç¡€æ¶æ„ï¼Ÿ</span></a></h3><p>MySQL é‡‡ç”¨åˆ†å±‚æ¶æ„ï¼Œä¸»è¦åŒ…æ‹¬è¿æ¥å±‚ã€æœåŠ¡å±‚ã€å’Œå­˜å‚¨å¼•æ“å±‚ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-77626fdb-d2b0-4256-a483-d1c60e68d8ec.jpg" alt="ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šRedis çš„åŸºç¡€æ¶æ„" tabindex="0" loading="lazy"><figcaption>ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šRedis çš„åŸºç¡€æ¶æ„</figcaption></figure><p>â‘ ã€è¿æ¥å±‚ä¸»è¦è´Ÿè´£å®¢æˆ·ç«¯è¿æ¥çš„ç®¡ç†ï¼ŒåŒ…æ‹¬éªŒè¯ç”¨æˆ·èº«ä»½ã€æƒé™æ ¡éªŒã€è¿æ¥ç®¡ç†ç­‰ã€‚å¯ä»¥é€šè¿‡æ•°æ®åº“è¿æ¥æ± æ¥æå‡è¿æ¥çš„å¤„ç†æ•ˆç‡ã€‚</p><p>â‘¡ã€æœåŠ¡å±‚æ˜¯ MySQL çš„æ ¸å¿ƒï¼Œä¸»è¦è´Ÿè´£æŸ¥è¯¢è§£æã€ä¼˜åŒ–ã€æ‰§è¡Œç­‰æ“ä½œã€‚åœ¨è¿™ä¸€å±‚ï¼ŒSQL è¯­å¥ä¼šç»è¿‡è§£æã€ä¼˜åŒ–å™¨ä¼˜åŒ–ï¼Œç„¶åè½¬å‘åˆ°å­˜å‚¨å¼•æ“æ‰§è¡Œï¼Œå¹¶è¿”å›ç»“æœã€‚è¿™ä¸€å±‚åŒ…å«æŸ¥è¯¢è§£æå™¨ã€ä¼˜åŒ–å™¨ã€æ‰§è¡Œè®¡åˆ’ç”Ÿæˆå™¨ã€æ—¥å¿—æ¨¡å—ç­‰ã€‚</p><p>â‘¢ã€å­˜å‚¨å¼•æ“å±‚è´Ÿè´£æ•°æ®çš„å®é™…å­˜å‚¨å’Œæå–ã€‚MySQL æ”¯æŒå¤šç§å­˜å‚¨å¼•æ“ï¼Œå¦‚ InnoDBã€MyISAMã€Memory ç­‰ã€‚</p><h4 id="binlogå†™å…¥åœ¨å“ªä¸€å±‚" tabindex="-1"><a class="header-anchor" href="#binlogå†™å…¥åœ¨å“ªä¸€å±‚"><span>binlogå†™å…¥åœ¨å“ªä¸€å±‚ï¼Ÿ</span></a></h4><p>binlog åœ¨æœåŠ¡å±‚ï¼Œè´Ÿè´£è®°å½• SQL è¯­å¥çš„å˜åŒ–ã€‚å®ƒè®°å½•äº†æ‰€æœ‰å¯¹æ•°æ®åº“è¿›è¡Œæ›´æ”¹çš„æ“ä½œï¼Œç”¨äºæ•°æ®æ¢å¤ã€ä¸»ä»å¤åˆ¶ç­‰ã€‚</p><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å­—èŠ‚è·³åŠ¨é¢ç»åŒå­¦ 21 æŠ–éŸ³å•†åŸä¸€é¢é¢è¯•åŸé¢˜ï¼šmysqlåˆ†ä¸ºå‡ å±‚ï¼Ÿbinlogå†™å…¥åœ¨å“ªä¸€å±‚</li></ol></blockquote><h3 id="_21-ä¸€æ¡æŸ¥è¯¢è¯­å¥æ˜¯å¦‚ä½•æ‰§è¡Œçš„" tabindex="-1"><a class="header-anchor" href="#_21-ä¸€æ¡æŸ¥è¯¢è¯­å¥æ˜¯å¦‚ä½•æ‰§è¡Œçš„"><span>21.ä¸€æ¡æŸ¥è¯¢è¯­å¥æ˜¯å¦‚ä½•æ‰§è¡Œçš„ï¼Ÿ</span></a></h3><p>å½“æˆ‘ä»¬æ‰§è¡Œä¸€æ¡ SELECT è¯­å¥æ—¶ï¼ŒMySQL å¹¶ä¸ä¼šç›´æ¥å»ç£ç›˜è¯»å–æ•°æ®ï¼Œè€Œæ˜¯ç»è¿‡ 6 ä¸ªæ­¥éª¤æ¥è§£æã€ä¼˜åŒ–ã€æ‰§è¡Œï¼Œç„¶åå†è¿”å›ç»“æœã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240415102041.png" alt="äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šSQL æ‰§è¡Œ" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šSQL æ‰§è¡Œ</figcaption></figure><p>ç¬¬ä¸€æ­¥ï¼Œå®¢æˆ·ç«¯å‘é€ SQL æŸ¥è¯¢è¯­å¥åˆ° MySQL æœåŠ¡å™¨ã€‚</p><p>ç¬¬äºŒæ­¥ï¼ŒMySQL æœåŠ¡å™¨çš„è¿æ¥å™¨å¼€å§‹å¤„ç†è¿™ä¸ªè¯·æ±‚ï¼Œè·Ÿå®¢æˆ·ç«¯å»ºç«‹è¿æ¥ã€è·å–æƒé™ã€ç®¡ç†è¿æ¥ã€‚</p><p>ç¬¬ä¸‰æ­¥ï¼Œè§£æå™¨å¯¹ SQL è¯­å¥è¿›è¡Œè§£æï¼Œæ£€æŸ¥è¯­å¥æ˜¯å¦ç¬¦åˆ SQL è¯­æ³•è§„åˆ™ï¼Œç¡®ä¿æ•°æ®åº“ã€è¡¨å’Œåˆ—éƒ½æ˜¯å­˜åœ¨çš„ï¼Œå¹¶å¤„ç† SQL è¯­å¥ä¸­çš„åç§°è§£æå’Œæƒé™éªŒè¯ã€‚</p><p>ç¬¬å››æ­¥ï¼Œä¼˜åŒ–å™¨è´Ÿè´£ç¡®å®š SQL è¯­å¥çš„æ‰§è¡Œè®¡åˆ’ï¼Œè¿™åŒ…æ‹¬é€‰æ‹©ä½¿ç”¨å“ªäº›ç´¢å¼•ï¼Œä»¥åŠå†³å®šè¡¨ä¹‹é—´çš„è¿æ¥é¡ºåºç­‰ã€‚</p><p>ç¬¬äº”æ­¥ï¼Œæ‰§è¡Œå™¨ä¼šè°ƒç”¨å­˜å‚¨å¼•æ“çš„ API æ¥è¿›è¡Œæ•°æ®çš„è¯»å†™ã€‚</p><p>ç¬¬å…­æ­¥ï¼Œå­˜å‚¨å¼•æ“è´Ÿè´£æŸ¥è¯¢æ•°æ®ï¼Œå¹¶å°†æ‰§è¡Œç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ã€‚å®¢æˆ·ç«¯æ¥æ”¶åˆ°æŸ¥è¯¢ç»“æœï¼Œå®Œæˆè¿™æ¬¡æŸ¥è¯¢è¯·æ±‚ã€‚</p><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„ç¾å›¢é¢ç»åŒå­¦ 2 Java åç«¯æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šMySQL æ‰§è¡Œè¯­å¥çš„æ•´ä¸ªè¿‡ç¨‹äº†è§£å—ï¼Ÿ</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„ç¾å›¢é¢ç»åŒå­¦ 18 æˆéƒ½åˆ°å®¶é¢è¯•åŸé¢˜ï¼šmysqlä¸€æ¡æ•°æ®çš„æŸ¥è¯¢è¿‡ç¨‹</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å­—èŠ‚è·³åŠ¨é¢ç»åŒå­¦19ç•ªèŒ„å°è¯´ä¸€é¢é¢è¯•åŸé¢˜ï¼šMySQLä¸­ä¸€æ¡SQLçš„æ‰§è¡Œæµç¨‹</li></ol></blockquote><p>memoï¼š2025 å¹´ 3 æœˆ 8 æ—¥ä¿®æ”¹è‡³æ­¤ã€‚</p><h3 id="_22-ä¸€æ¡æ›´æ–°è¯­å¥æ˜¯å¦‚ä½•æ‰§è¡Œçš„" tabindex="-1"><a class="header-anchor" href="#_22-ä¸€æ¡æ›´æ–°è¯­å¥æ˜¯å¦‚ä½•æ‰§è¡Œçš„"><span>22.ä¸€æ¡æ›´æ–°è¯­å¥æ˜¯å¦‚ä½•æ‰§è¡Œçš„ï¼Ÿ</span></a></h3><p>æ€»çš„æ¥è¯´ï¼Œä¸€æ¡ UPDATE è¯­å¥çš„æ‰§è¡Œè¿‡ç¨‹åŒ…æ‹¬è¯»å–æ•°æ®é¡µã€åŠ é”è§£é”ã€äº‹åŠ¡æäº¤ã€æ—¥å¿—è®°å½•ç­‰å¤šä¸ªæ­¥éª¤ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-812fb038-39de-4204-ac9f-93d8b7448a18.jpg" alt="ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šupdate æ‰§è¡Œ" tabindex="0" loading="lazy"><figcaption>ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šupdate æ‰§è¡Œ</figcaption></figure><p>æ‹¿ <code>update test set a=1 where id=2</code> ä¸¾ä¾‹æ¥è¯´ï¼š</p><p>åœ¨äº‹åŠ¡å¼€å§‹å‰ï¼ŒMySQL éœ€è¦è®°å½•undo logï¼Œç”¨äºäº‹åŠ¡å›æ»šã€‚</p><table><thead><tr><th>æ“ä½œ</th><th>id</th><th>æ—§å€¼</th><th>æ–°å€¼</th></tr></thead><tbody><tr><td>update</td><td>2</td><td>N</td><td>1</td></tr></tbody></table><p>é™¤äº†è®°å½• undo logï¼Œå­˜å‚¨å¼•æ“è¿˜ä¼šå°†æ›´æ–°æ“ä½œå†™å…¥ redo logï¼ŒçŠ¶æ€æ ‡è®°ä¸º prepareï¼Œå¹¶ç¡®ä¿ redo log æŒä¹…åŒ–åˆ°ç£ç›˜ã€‚è¿™ä¸€æ­¥å¯ä»¥ä¿è¯å³ä½¿ç³»ç»Ÿå´©æºƒï¼Œæ•°æ®ä¹Ÿèƒ½é€šè¿‡ redo log æ¢å¤åˆ°ä¸€è‡´çŠ¶æ€ã€‚</p><p>å†™å®Œ redo log åï¼ŒMySQL ä¼šè·å–è¡Œé”ï¼Œå°† a çš„å€¼ä¿®æ”¹ä¸º 1ï¼Œæ ‡è®°ä¸ºè„é¡µï¼Œæ­¤æ—¶æ•°æ®ä»ç„¶åœ¨å†…å­˜çš„ buffer pool ä¸­ï¼Œä¸ä¼šç«‹å³å†™å…¥ç£ç›˜ã€‚åå°çº¿ç¨‹ä¼šåœ¨é€‚å½“çš„æ—¶å€™å°†è„é¡µåˆ·ç›˜ï¼Œä»¥æé«˜æ€§èƒ½ã€‚</p><p>æœ€åæäº¤äº‹åŠ¡ï¼Œredo log ä¸­çš„è®°å½•è¢«æ ‡è®°ä¸º committedï¼Œè¡Œé”é‡Šæ”¾ã€‚</p><p>å¦‚æœ MySQL å¼€å¯äº† binlogï¼Œè¿˜ä¼šå°†æ›´æ–°æ“ä½œè®°å½•åˆ° binlog ä¸­ï¼Œä¸»è¦ç”¨äºä¸»ä»å¤åˆ¶ã€‚</p><p>ä»¥åŠæ•°æ®æ¢å¤ï¼Œå¯ä»¥ç»“åˆ redo log è¿›è¡Œç‚¹å¯¹ç‚¹çš„æ¢å¤ã€‚binlog çš„å†™å…¥é€šå¸¸å‘ç”Ÿåœ¨äº‹åŠ¡æäº¤æ—¶ï¼Œä¸ redo log å…±åŒæ„æˆâ€œä¸¤é˜¶æ®µæäº¤â€ï¼Œç¡®ä¿ä¸¤è€…çš„ä¸€è‡´æ€§ã€‚</p><p>æ³¨æ„ï¼Œredo log çš„å†™å…¥æœ‰ä¸¤ä¸ªé˜¶æ®µçš„æäº¤ï¼Œä¸€æ˜¯ binlog å†™å…¥ä¹‹å‰<code>prepare</code> çŠ¶æ€çš„å†™å…¥ï¼ŒäºŒæ˜¯ binlog å†™å…¥ä¹‹å <code>commit</code> çŠ¶æ€çš„å†™å…¥ã€‚</p><p>memoï¼š2025 å¹´ 3 æœˆ 9 æ—¥ä¿®æ”¹è‡³æ­¤ã€‚</p><h3 id="_23-è¯´è¯´-mysql-çš„æ®µåŒºé¡µè¡Œ-è¡¥å……" tabindex="-1"><a class="header-anchor" href="#_23-è¯´è¯´-mysql-çš„æ®µåŒºé¡µè¡Œ-è¡¥å……"><span>23.è¯´è¯´ MySQL çš„æ®µåŒºé¡µè¡Œï¼ˆè¡¥å……ï¼‰</span></a></h3><blockquote><p>2024 å¹´ 04 æœˆ 26 æ—¥å¢è¡¥</p></blockquote><p>æ¨èé˜…è¯»ï¼š<a href="https://www.cnblogs.com/ZhuChangwu/p/14035330.html" target="_blank" rel="noopener noreferrer">äº†è§£ MySQLçš„æ•°æ®è¡Œã€è¡Œæº¢å‡ºæœºåˆ¶å—ï¼Ÿ</a></p><p>MySQL æ˜¯ä»¥è¡¨çš„å½¢å¼å­˜å‚¨æ•°æ®çš„ï¼Œè€Œè¡¨ç©ºé—´çš„ç»“æ„åˆ™ç”±æ®µã€åŒºã€é¡µã€è¡Œç»„æˆã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240515110034.png" alt="ä¸è¦è¿·æ‹å‘å“¥ï¼šæ®µã€åŒºã€é¡µã€è¡Œ" tabindex="0" loading="lazy"><figcaption>ä¸è¦è¿·æ‹å‘å“¥ï¼šæ®µã€åŒºã€é¡µã€è¡Œ</figcaption></figure><p>â‘ ã€æ®µï¼šè¡¨ç©ºé—´ç”±å¤šä¸ªæ®µç»„æˆï¼Œå¸¸è§çš„æ®µæœ‰æ•°æ®æ®µã€ç´¢å¼•æ®µã€å›æ»šæ®µç­‰ã€‚</p><p>åˆ›å»ºç´¢å¼•æ—¶ä¼šåˆ›å»ºä¸¤ä¸ªæ®µï¼Œæ•°æ®æ®µå’Œç´¢å¼•æ®µï¼Œæ•°æ®æ®µç”¨æ¥å­˜å‚¨å¶å­èŠ‚ç‚¹ä¸­çš„æ•°æ®ï¼›ç´¢å¼•æ®µç”¨æ¥å­˜å‚¨éå¶å­èŠ‚ç‚¹çš„æ•°æ®ã€‚</p><p>å›æ»šæ®µåŒ…å«äº†äº‹åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­ç”¨äºæ•°æ®å›æ»šçš„æ—§æ•°æ®ã€‚</p><p>â‘¡ã€åŒºï¼šæ®µç”±ä¸€ä¸ªæˆ–å¤šä¸ªåŒºç»„æˆï¼ŒåŒºæ˜¯ä¸€ç»„è¿ç»­çš„é¡µï¼Œé€šå¸¸åŒ…å« 64 ä¸ªè¿ç»­çš„é¡µï¼Œä¹Ÿå°±æ˜¯ 1M çš„æ•°æ®ã€‚</p><p>ä½¿ç”¨åŒºè€Œéå•ç‹¬çš„é¡µè¿›è¡Œæ•°æ®åˆ†é…å¯ä»¥ä¼˜åŒ–ç£ç›˜æ“ä½œï¼Œå‡å°‘ç£ç›˜å¯»é“æ—¶é—´ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤§é‡æ•°æ®è¿›è¡Œè¯»å†™æ—¶ã€‚</p><p>â‘¢ã€é¡µï¼šé¡µæ˜¯ InnoDB å­˜å‚¨æ•°æ®çš„åŸºæœ¬å•å…ƒï¼Œæ ‡å‡†å¤§å°ä¸º 16 KBï¼Œç´¢å¼•æ ‘ä¸Šçš„ä¸€ä¸ªèŠ‚ç‚¹å°±æ˜¯ä¸€ä¸ªé¡µã€‚</p><p>ä¹Ÿå°±æ„å‘³ç€æ•°æ®åº“æ¯æ¬¡è¯»å†™éƒ½æ˜¯ä»¥ 16 KB ä¸ºå•ä½çš„ï¼Œä¸€æ¬¡æœ€å°‘ä»ç£ç›˜ä¸­è¯»å– 16KB çš„æ•°æ®åˆ°å†…å­˜ï¼Œä¸€æ¬¡æœ€å°‘å†™å…¥ 16KB çš„æ•°æ®åˆ°ç£ç›˜ã€‚</p><p>â‘£ã€è¡Œï¼šInnoDB é‡‡ç”¨è¡Œå­˜å‚¨æ–¹å¼ï¼Œæ„å‘³ç€æ•°æ®æŒ‰ç…§è¡Œè¿›è¡Œç»„ç»‡å’Œç®¡ç†ï¼Œè¡Œæ•°æ®å¯èƒ½æœ‰å¤šä¸ªæ ¼å¼ï¼Œæ¯”å¦‚è¯´ COMPACTã€REDUNDANTã€DYNAMIC ç­‰ã€‚</p><p>MySQL 8.0 é»˜è®¤çš„è¡Œæ ¼å¼æ˜¯ DYNAMICï¼Œç”±COMPACT æ¼”å˜è€Œæ¥ï¼Œæ„å‘³ç€è¿™äº›æ•°æ®å¦‚æœè¶…è¿‡äº†é¡µå†…è”å­˜å‚¨çš„é™åˆ¶ï¼Œåˆ™ä¼šè¢«å­˜å‚¨åœ¨æº¢å‡ºé¡µä¸­ã€‚</p><p>å¯ä»¥é€šè¿‡ <code>show table status like &#39;%article%&#39;</code> æŸ¥çœ‹è¡Œæ ¼å¼ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240515123301.png" alt="äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šè¡Œæ ¼å¼" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šè¡Œæ ¼å¼</figcaption></figure><!----> <h2 id="å­˜å‚¨å¼•æ“" tabindex="-1"><a class="header-anchor" href="#å­˜å‚¨å¼•æ“"><span>å­˜å‚¨å¼•æ“</span></a></h2><h3 id="_24-mysql-æœ‰å“ªäº›å¸¸è§å­˜å‚¨å¼•æ“" tabindex="-1"><a class="header-anchor" href="#_24-mysql-æœ‰å“ªäº›å¸¸è§å­˜å‚¨å¼•æ“"><span>24.MySQL æœ‰å“ªäº›å¸¸è§å­˜å‚¨å¼•æ“ï¼Ÿ</span></a></h3><p>MySQL æ”¯æŒå¤šç§å­˜å‚¨å¼•æ“ï¼Œå¸¸è§çš„æœ‰ MyISAMã€InnoDBã€MEMORY ç­‰ã€‚</p><p>---è¿™éƒ¨åˆ†æ˜¯å¸®åŠ©å¤§å®¶ç†è§£ startï¼Œé¢è¯•ä¸­å¯ä¸èƒŒ---</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240408073338.png" alt="äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šå­˜å‚¨å¼•æ“" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šå­˜å‚¨å¼•æ“</figcaption></figure><p>æˆ‘æ¥åšä¸€ä¸ªè¡¨æ ¼å¯¹æ¯”ï¼š</p><table><thead><tr><th>åŠŸèƒ½</th><th>InnoDB</th><th>MyISAM</th><th>MEMORY</th></tr></thead><tbody><tr><td>æ”¯æŒäº‹åŠ¡</td><td>Yes</td><td>No</td><td>No</td></tr><tr><td>æ”¯æŒå…¨æ–‡ç´¢å¼•</td><td>Yes</td><td>Yes</td><td>No</td></tr><tr><td>æ”¯æŒ B+æ ‘ç´¢å¼•</td><td>Yes</td><td>Yes</td><td>Yes</td></tr><tr><td>æ”¯æŒå“ˆå¸Œç´¢å¼•</td><td>Yes</td><td>No</td><td>Yes</td></tr><tr><td>æ”¯æŒå¤–é”®</td><td>Yes</td><td>No</td><td>No</td></tr></tbody></table><p>---è¿™éƒ¨åˆ†æ˜¯å¸®åŠ©å¤§å®¶ç†è§£ endï¼Œé¢è¯•ä¸­å¯ä¸èƒŒ---</p><p>é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘è¿˜äº†è§£åˆ°ï¼š</p><p>â‘ ã€MySQL 5.5 ä¹‹å‰ï¼Œé»˜è®¤å­˜å‚¨å¼•æ“æ˜¯ MyISAMï¼Œ5.5 ä¹‹åæ˜¯ InnoDBã€‚</p><p>â‘¡ã€InnoDB æ”¯æŒçš„å“ˆå¸Œç´¢å¼•æ˜¯è‡ªé€‚åº”çš„ï¼Œä¸èƒ½äººä¸ºå¹²é¢„ã€‚</p><p>â‘¢ã€InnoDB ä» MySQL 5.6 å¼€å§‹ï¼Œæ”¯æŒå…¨æ–‡ç´¢å¼•ã€‚</p><p>â‘£ã€InnoDB çš„æœ€å°è¡¨ç©ºé—´ç•¥å°äº 10Mï¼Œæœ€å¤§è¡¨ç©ºé—´å–å†³äºé¡µé¢å¤§å°ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240408074630.png" alt="MySQL å®˜ç½‘ï¼šinnodb-limits.html" tabindex="0" loading="lazy"><figcaption>MySQL å®˜ç½‘ï¼šinnodb-limits.html</figcaption></figure><h4 id="å¦‚ä½•åˆ‡æ¢-mysql-çš„æ•°æ®å¼•æ“" tabindex="-1"><a class="header-anchor" href="#å¦‚ä½•åˆ‡æ¢-mysql-çš„æ•°æ®å¼•æ“"><span>å¦‚ä½•åˆ‡æ¢ MySQL çš„æ•°æ®å¼•æ“ï¼Ÿ</span></a></h4><p>å¯ä»¥é€šè¿‡ alter table è¯­å¥æ¥åˆ‡æ¢ MySQL çš„æ•°æ®å¼•æ“ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">ALTER</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> TABLE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> your_table_name ENGINE</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">InnoDB;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>ä¸è¿‡ä¸å»ºè®®ï¼Œåº”è¯¥æå‰è®¾è®¡å¥½åˆ°åº•ç”¨å“ªä¸€ç§å­˜å‚¨å¼•æ“ã€‚</p><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å­—èŠ‚è·³åŠ¨é¢ç»åŒå­¦ 1 Java åç«¯æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šMySQL æ”¯æŒå“ªäº›å­˜å‚¨å¼•æ“?</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„ç”¨å‹é¢è¯•åŸé¢˜ï¼šinnodb å¼•æ“å’Œ hash å¼•æ“æœ‰ä»€ä¹ˆåŒºåˆ«</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å›½ä¼é›¶ç¢é¢ç»åŒå­¦ 9 é¢è¯•åŸé¢˜ï¼šMySQL çš„å­˜å‚¨å¼•æ“</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„äº¬ä¸œåŒå­¦ 4 äº‘å®ä¹ é¢è¯•åŸé¢˜ï¼šmysqlçš„æ•°æ®å¼•æ“æœ‰å“ªäº›, åŒºåˆ«(innodb,MyISAM,Memory)</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„é˜¿é‡Œç³»é¢ç»åŒå­¦ 19 é¥¿äº†ä¹ˆé¢è¯•åŸé¢˜ï¼šå­˜å‚¨å¼•æ“ä»‹ç»</li></ol></blockquote><p>memoï¼š2025 å¹´ 3 æœˆ 10 æ—¥ä¿®æ”¹è‡³æ­¤ã€‚</p><h3 id="_25-å­˜å‚¨å¼•æ“åº”è¯¥æ€ä¹ˆé€‰æ‹©" tabindex="-1"><a class="header-anchor" href="#_25-å­˜å‚¨å¼•æ“åº”è¯¥æ€ä¹ˆé€‰æ‹©"><span>25.å­˜å‚¨å¼•æ“åº”è¯¥æ€ä¹ˆé€‰æ‹©ï¼Ÿ</span></a></h3><p>å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä½¿ç”¨é»˜è®¤çš„ InnoDB å°±å¯ä»¥äº†ï¼ŒInnoDB å¯ä»¥æä¾›äº‹åŠ¡ã€è¡Œçº§é”ã€å¤–é”®ã€B+ æ ‘ç´¢å¼•ç­‰èƒ½åŠ›ã€‚</p><p>MyISAM é€‚åˆè¯»å¤šå†™å°‘çš„åœºæ™¯ã€‚</p><p>MEMORY é€‚åˆä¸´æ—¶è¡¨ï¼Œæ•°æ®é‡ä¸å¤§çš„æƒ…å†µã€‚å› ä¸ºæ•°æ®éƒ½å­˜æ”¾åœ¨å†…å­˜ï¼Œæ‰€ä»¥é€Ÿåº¦éå¸¸å¿«ã€‚</p><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å¿«æ‰‹åŒå­¦ 2 ä¸€é¢é¢è¯•åŸé¢˜ï¼šMySQLçš„InnoDBç‰¹ç‚¹ï¼Ÿä¸ºä»€ä¹ˆç”¨B+æ ‘ï¼Ÿè€Œä¸æ˜¯Bæ ‘ï¼ŒåŒºåˆ«ï¼Ÿ</li></ol></blockquote><h3 id="_26-innodb-å’Œ-myisam-ä¸»è¦æœ‰ä»€ä¹ˆåŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#_26-innodb-å’Œ-myisam-ä¸»è¦æœ‰ä»€ä¹ˆåŒºåˆ«"><span>26.InnoDB å’Œ MyISAM ä¸»è¦æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</span></a></h3><p>InnoDB å’Œ MyISAM çš„æœ€å¤§åŒºåˆ«åœ¨äºäº‹åŠ¡æ”¯æŒå’Œé”æœºåˆ¶ã€‚InnoDB æ”¯æŒäº‹åŠ¡ã€è¡Œçº§é”ï¼Œé€‚åˆå¤§å¤šæ•°ä¸šåŠ¡ç³»ç»Ÿï¼›è€Œ MyISAM ä¸æ”¯æŒäº‹åŠ¡ï¼Œç”¨çš„æ˜¯è¡¨é”ï¼ŒæŸ¥è¯¢å¿«ä½†å†™å…¥æ€§èƒ½å·®ï¼Œé€‚åˆè¯»å¤šå†™å°‘çš„åœºæ™¯ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-b7aa040e-a3a7-4133-8c43-baccc3c8d012.jpg" alt="ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šInnoDB å’Œ MyISAM ä¸»è¦æœ‰ä»€ä¹ˆåŒºåˆ«" tabindex="0" loading="lazy"><figcaption>ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šInnoDB å’Œ MyISAM ä¸»è¦æœ‰ä»€ä¹ˆåŒºåˆ«</figcaption></figure><p>å¦å¤–ï¼Œä»å­˜å‚¨ç»“æ„ä¸Šæ¥è¯´ï¼ŒMyISAM ç”¨ä¸‰ç§æ ¼å¼çš„æ–‡ä»¶æ¥å­˜å‚¨ï¼Œ.frm æ–‡ä»¶å­˜å‚¨è¡¨çš„å®šä¹‰ï¼›.MYD å­˜å‚¨æ•°æ®ï¼›.MYI å­˜å‚¨ç´¢å¼•ï¼›è€Œ InnoDB ç”¨ä¸¤ç§æ ¼å¼çš„æ–‡ä»¶æ¥å­˜å‚¨ï¼Œ.frm æ–‡ä»¶å­˜å‚¨è¡¨çš„å®šä¹‰ï¼›.ibd å­˜å‚¨æ•°æ®å’Œç´¢å¼•ã€‚</p><p>ä»ç´¢å¼•ç±»å‹ä¸Šæ¥è¯´ï¼ŒMyISAM ä¸ºéèšç°‡ç´¢å¼•ï¼Œç´¢å¼•å’Œæ•°æ®åˆ†å¼€å­˜å‚¨ï¼Œç´¢å¼•ä¿å­˜çš„æ˜¯æ•°æ®æ–‡ä»¶çš„æŒ‡é’ˆã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240403130104.png" alt="æœªè§åˆå¢¨ï¼šMyIsam" tabindex="0" loading="lazy"><figcaption>æœªè§åˆå¢¨ï¼šMyIsam</figcaption></figure><p>InnoDB ä¸ºèšç°‡ç´¢å¼•ï¼Œç´¢å¼•å’Œæ•°æ®ä¸åˆ†å¼€ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240403130508.png" alt="yangh124ï¼šInnoDB" tabindex="0" loading="lazy"><figcaption>yangh124ï¼šInnoDB</figcaption></figure><p>æ›´ç»†å¾®çš„å±‚é¢ä¸Šæ¥è®²ï¼ŒMyISAM ä¸æ”¯æŒå¤–é”®ï¼Œå¯ä»¥æ²¡æœ‰ä¸»é”®ï¼Œè¡¨çš„å…·ä½“è¡Œæ•°å­˜å‚¨åœ¨è¡¨çš„å±æ€§ä¸­ï¼ŒæŸ¥è¯¢æ—¶å¯ä»¥ç›´æ¥è¿”å›ï¼›InnoDB æ”¯æŒå¤–é”®ï¼Œå¿…é¡»æœ‰ä¸»é”®ï¼Œå…·ä½“è¡Œæ•°éœ€è¦æ‰«ææ•´ä¸ªè¡¨æ‰èƒ½è¿”å›ï¼Œæœ‰ç´¢å¼•çš„æƒ…å†µä¸‹ä¼šæ‰«æç´¢å¼•ã€‚</p><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å­—èŠ‚è·³åŠ¨é¢ç»åŒå­¦ 1 Java åç«¯æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šMyISAM å’Œ InnoDB çš„åŒºåˆ«æœ‰å“ªäº›ï¼Ÿ</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„ç¾å›¢åŒå­¦ 9 ä¸€é¢é¢è¯•åŸé¢˜ï¼šmysqlå­˜å‚¨çš„æ•°æ®éƒ½æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿ</li></ol></blockquote><p>memoï¼š2025 å¹´ 3 æœˆ 11 æ—¥ä¿®æ”¹è‡³æ­¤ã€‚</p><h3 id="_27-innodb-çš„-buffer-pooläº†è§£å—-è¡¥å……" tabindex="-1"><a class="header-anchor" href="#_27-innodb-çš„-buffer-pooläº†è§£å—-è¡¥å……"><span>27. InnoDB çš„ Buffer Pooläº†è§£å—ï¼Ÿï¼ˆè¡¥å……ï¼‰</span></a></h3><blockquote><p>2024 å¹´ 11 æœˆ 04 æ—¥å¢è¡¥</p></blockquote><p>Buffer Pool æ˜¯ InnoDB å­˜å‚¨å¼•æ“ä¸­çš„ä¸€ä¸ªå†…å­˜ç¼“å†²åŒºï¼Œå®ƒä¼šå°†ç»å¸¸ä½¿ç”¨çš„æ•°æ®é¡µã€ç´¢å¼•é¡µåŠ è½½è¿›å†…å­˜ï¼Œè¯»çš„æ—¶å€™å…ˆæŸ¥è¯¢ Buffer Poolï¼Œå¦‚æœå‘½ä¸­å°±ä¸ç”¨è®¿é—®ç£ç›˜äº†ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20250312083102.png" alt="Nuwan Weerasinhgeï¼šMySQL InnoDB Buffer Pool" tabindex="0" loading="lazy"><figcaption>Nuwan Weerasinhgeï¼šMySQL InnoDB Buffer Pool</figcaption></figure><p>å¦‚æœæ²¡æœ‰å‘½ä¸­ï¼Œå°±ä»ç£ç›˜è¯»å–ï¼Œå¹¶åŠ è½½åˆ° Buffer Poolï¼Œæ­¤æ—¶å¯èƒ½ä¼šè§¦å‘é¡µæ·˜æ±°ï¼Œå°†ä¸å¸¸ç”¨çš„é¡µç§»å‡º Buffer Poolã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20241104202752.png" alt="æå®¢æ—¶é—´ï¼šæ”¹è‰¯çš„ LRU ç®—æ³•" tabindex="0" loading="lazy"><figcaption>æå®¢æ—¶é—´ï¼šæ”¹è‰¯çš„ LRU ç®—æ³•</figcaption></figure><p>å†™æ“ä½œæ—¶ä¸ä¼šç›´æ¥å†™å…¥ç£ç›˜ï¼Œè€Œæ˜¯å…ˆä¿®æ”¹å†…å­˜ä¸­çš„é¡µï¼Œæ­¤æ—¶é¡µè¢«æ ‡è®°ä¸ºè„é¡µï¼Œåå°çº¿ç¨‹ä¼šå®šæœŸå°†è„é¡µåˆ·æ–°åˆ°ç£ç›˜ã€‚</p><p>Buffer Pool å¯ä»¥æ˜¾è‘—å‡å°‘ç£ç›˜çš„è¯»å†™æ¬¡æ•°ï¼Œä»è€Œæå‡ MySQL çš„è¯»å†™æ€§èƒ½ã€‚</p><h4 id="buffer-pool-çš„é»˜è®¤å¤§å°æ˜¯å¤šå°‘" tabindex="-1"><a class="header-anchor" href="#buffer-pool-çš„é»˜è®¤å¤§å°æ˜¯å¤šå°‘"><span>Buffer Pool çš„é»˜è®¤å¤§å°æ˜¯å¤šå°‘ï¼Ÿ</span></a></h4><p>æˆ‘æœ¬æœºä¸Š InnoDB çš„ Buffer Pool é»˜è®¤å¤§å°æ˜¯ 128MBã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">SHOW VARIABLES </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">LIKE</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;innodb_buffer_pool_size&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>å¦å¤–ï¼Œåœ¨å…·æœ‰ 1GB-4GB RAM çš„ç³»ç»Ÿä¸Šï¼Œé»˜è®¤å€¼ä¸ºç³»ç»Ÿ RAM çš„ 25%ï¼›åœ¨å…·æœ‰è¶…è¿‡ 4GB RAM çš„ç³»ç»Ÿä¸Šï¼Œé»˜è®¤å€¼ä¸ºç³»ç»Ÿ RAM çš„ 50%ï¼Œä½†ä¸è¶…è¿‡ 4GBã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20250312084307.png" alt="äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šbuffer_pool çš„é»˜è®¤å¤§å°" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šbuffer_pool çš„é»˜è®¤å¤§å°</figcaption></figure><h4 id="innodb-å¯¹-lru-ç®—æ³•çš„ä¼˜åŒ–äº†è§£å—" tabindex="-1"><a class="header-anchor" href="#innodb-å¯¹-lru-ç®—æ³•çš„ä¼˜åŒ–äº†è§£å—"><span>InnoDB å¯¹ LRU ç®—æ³•çš„ä¼˜åŒ–äº†è§£å—ï¼Ÿ</span></a></h4><p>äº†è§£ï¼ŒInnoDB å¯¹ LRU ç®—æ³•è¿›è¡Œäº†æ”¹è‰¯ï¼Œæœ€è¿‘è®¿é—®çš„æ•°æ®å¹¶ä¸ç›´æ¥æ”¾åˆ° LRU é“¾è¡¨çš„å¤´éƒ¨ï¼Œè€Œæ˜¯æ”¾åœ¨ä¸€ä¸ªå« midpoiont çš„ä½ç½®ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œmidpoint ä½äº LRU åˆ—è¡¨çš„ 5/8 å¤„ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20250312085209.png" alt="smartkeyerrorï¼šInnoDB çš„ LRU" tabindex="0" loading="lazy"><figcaption>smartkeyerrorï¼šInnoDB çš„ LRU</figcaption></figure><p>æ¯”å¦‚ Buffer Pool æœ‰ 100 é¡µï¼Œæ–°é¡µæ’å…¥çš„ä½ç½®å¤§æ¦‚æ˜¯åœ¨ç¬¬ 80 é¡µï¼›å½“é¡µæ•°æ®è¢«é¢‘ç¹è®¿é—®åï¼Œå†å°†å…¶ç§»åŠ¨åˆ° young åŒºï¼Œè¿™æ ·åšçš„å¥½å¤„æ˜¯çƒ­ç‚¹é¡µèƒ½é•¿æ—¶é—´ä¿ç•™åœ¨å†…å­˜ä¸­ï¼Œä¸å®¹æ˜“è¢«æŒ¤å‡ºå»ã€‚</p><p>----è¿™éƒ¨åˆ†æ˜¯å¸®åŠ©å¤§å®¶ç†è§£ startï¼Œé¢è¯•ä¸­å¯ä¸èƒŒ----</p><p>å¯ä»¥é€šè¿‡ <code>innodb_old_blocks_pct</code> å‚æ•°æ¥è°ƒæ•´ Buffer Pool ä¸­ old å’Œ young åŒºçš„æ¯”ä¾‹ï¼›é€šè¿‡ <code>innodb_old_blocks_time</code> å‚æ•°æ¥è°ƒæ•´é¡µåœ¨ young åŒºçš„åœç•™æ—¶é—´ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20250312093325.png" alt="äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šå¯¹ buffer pool è¿›è¡Œè°ƒæ•´" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šå¯¹ buffer pool è¿›è¡Œè°ƒæ•´</figcaption></figure><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒLRU é“¾è¡¨ä¸­ old åŒºå  37%ï¼›åŒä¸€é¡µå†æ¬¡è®¿é—®æå‡çš„æœ€å°æ—¶é—´é—´éš”æ˜¯ 1000 æ¯«ç§’ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæŸé¡µåœ¨ 1 ç§’å†…è¢«å¤šæ¬¡è®¿é—®ï¼Œåªä¼šè®¡ç®—ä¸€æ¬¡ï¼Œä¸ä¼šç«‹åˆ»å‡çº§ä¸ºçƒ­ç‚¹é¡µï¼Œé˜²æ­¢çŸ­æ—¶é—´æ‰¹é‡è®¿é—®å¯¼è‡´ç¼“å­˜æ±¡æŸ“ã€‚</p><p>----è¿™éƒ¨åˆ†æ˜¯å¸®åŠ©å¤§å®¶ç†è§£ endï¼Œé¢è¯•ä¸­å¯ä¸èƒŒ----</p><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„ç¾å›¢é¢ç»åŒå­¦ 15 ç‚¹è¯„åç«¯æŠ€æœ¯é¢è¯•åŸé¢˜ï¼šè¯´è¯´ bufferpool</li></ol></blockquote><!----><p>memoï¼š2025 å¹´ 3 æœˆ 12 æ—¥ä¿®æ”¹è‡³æ­¤ã€‚ç»§ç»­ç»™å¤§å®¶ä¸€ä¸ªå–œæŠ¥ï¼Œä»Šå¤©<a href="https://javabetter.cn/zhishixingqiu/" target="_blank" rel="noopener noreferrer">æœ‰çƒå‹æŠ¥å–œ</a>è¯´ç¤¾æ‹›æ‹¿åˆ°äº†äº¬ä¸œå’Œç¾å›¢çš„ offerï¼Œåç»­è¡¥å……è¯´æ»´æ»´ä¹Ÿè¿‡äº†ï¼Œæˆ‘åªèƒ½è¯´å¤ªå¼ºäº†å‘€ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20250312172018.png" alt="ä»Šå¤©æœ‰çƒå‹æ‹¿åˆ°äº¬ä¸œå’Œç¾å›¢çš„ offer" tabindex="0" loading="lazy"><figcaption>ä»Šå¤©æœ‰çƒå‹æ‹¿åˆ°äº¬ä¸œå’Œç¾å›¢çš„ offer</figcaption></figure><h2 id="æ—¥å¿—" tabindex="-1"><a class="header-anchor" href="#æ—¥å¿—"><span>æ—¥å¿—</span></a></h2><h3 id="_28-mysql-æ—¥å¿—æ–‡ä»¶æœ‰å“ªäº›" tabindex="-1"><a class="header-anchor" href="#_28-mysql-æ—¥å¿—æ–‡ä»¶æœ‰å“ªäº›"><span>28.MySQL æ—¥å¿—æ–‡ä»¶æœ‰å“ªäº›ï¼Ÿ</span></a></h3><p>æœ‰ 6 å¤§ç±»ï¼Œå…¶ä¸­é”™è¯¯æ—¥å¿—ç”¨äºé—®é¢˜è¯Šæ–­ï¼Œæ…¢æŸ¥è¯¢æ—¥å¿—ç”¨äº SQL æ€§èƒ½åˆ†æï¼Œgeneral log ç”¨äºè®°å½•æ‰€æœ‰çš„ SQL è¯­å¥ï¼Œbinlog ç”¨äºä¸»ä»å¤åˆ¶å’Œæ•°æ®æ¢å¤ï¼Œredo log ç”¨äºä¿è¯äº‹åŠ¡æŒä¹…æ€§ï¼Œundo log ç”¨äºäº‹åŠ¡å›æ»šå’Œ MVCCã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-c0ef6e68-bb33-48fc-b3a2-b9cdadd8e403.jpg" alt="ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šMySQLçš„ä¸»è¦æ—¥å¿—" tabindex="0" loading="lazy"><figcaption>ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šMySQLçš„ä¸»è¦æ—¥å¿—</figcaption></figure><p>----è¿™éƒ¨åˆ†æ˜¯å¸®åŠ©å¤§å®¶ç†è§£ startï¼Œé¢è¯•ä¸­å¯ä¸èƒŒ----</p><p>â‘ ã€<strong>é”™è¯¯æ—¥å¿—</strong>ï¼ˆError Logï¼‰ï¼šè®°å½• MySQL æœåŠ¡å™¨å¯åŠ¨ã€è¿è¡Œæˆ–åœæ­¢æ—¶å‡ºç°çš„é—®é¢˜ã€‚</p><p>â‘¡ã€<strong>æ…¢æŸ¥è¯¢æ—¥å¿—</strong>ï¼ˆSlow Query Logï¼‰ï¼šè®°å½•æ‰§è¡Œæ—¶é—´è¶…è¿‡ long_query_time å€¼çš„æ‰€æœ‰ SQL è¯­å¥ã€‚è¿™ä¸ªæ—¶é—´å€¼æ˜¯å¯é…ç½®çš„ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œæ…¢æŸ¥è¯¢æ—¥å¿—åŠŸèƒ½æ˜¯å…³é—­çš„ã€‚</p><p>â‘¢ã€<strong>ä¸€èˆ¬æŸ¥è¯¢æ—¥å¿—</strong>ï¼ˆGeneral Query Logï¼‰ï¼šè®°å½• MySQL æœåŠ¡å™¨çš„å¯åŠ¨å…³é—­ä¿¡æ¯ï¼Œå®¢æˆ·ç«¯çš„è¿æ¥ä¿¡æ¯ï¼Œä»¥åŠæ›´æ–°ã€æŸ¥è¯¢çš„ SQL è¯­å¥ç­‰ã€‚</p><p>â‘£ã€<strong>äºŒè¿›åˆ¶æ—¥å¿—</strong>ï¼ˆBinary Logï¼‰ï¼šè®°å½•æ‰€æœ‰ä¿®æ”¹æ•°æ®åº“çŠ¶æ€çš„ SQL è¯­å¥ï¼Œä»¥åŠæ¯ä¸ªè¯­å¥çš„æ‰§è¡Œæ—¶é—´ï¼Œå¦‚ INSERTã€UPDATEã€DELETE ç­‰ï¼Œä½†ä¸åŒ…æ‹¬ SELECT å’Œ SHOW è¿™ç±»çš„æ“ä½œã€‚</p><p>â‘¤ã€<strong>é‡åšæ—¥å¿—</strong>ï¼ˆRedo Logï¼‰ï¼šè®°å½•å¯¹äº InnoDB è¡¨çš„æ¯ä¸ªå†™æ“ä½œï¼Œä¸æ˜¯ SQL çº§åˆ«çš„ï¼Œè€Œæ˜¯ç‰©ç†çº§åˆ«çš„ï¼Œä¸»è¦ç”¨äºå´©æºƒæ¢å¤ã€‚</p><p>â‘¥ã€<strong>å›æ»šæ—¥å¿—</strong>ï¼ˆUndo Logï¼Œæˆ–è€…å«äº‹åŠ¡æ—¥å¿—ï¼‰ï¼šè®°å½•æ•°æ®è¢«ä¿®æ”¹å‰çš„å€¼ï¼Œç”¨äºäº‹åŠ¡çš„å›æ»šã€‚</p><p>----è¿™éƒ¨åˆ†æ˜¯å¸®åŠ©å¤§å®¶ç†è§£ endï¼Œé¢è¯•ä¸­å¯ä¸èƒŒ----</p><h4 id="è¯·é‡ç‚¹è¯´è¯´-binlog" tabindex="-1"><a class="header-anchor" href="#è¯·é‡ç‚¹è¯´è¯´-binlog"><span>è¯·é‡ç‚¹è¯´è¯´ binlogï¼Ÿ</span></a></h4><p>æ¨èé˜…è¯»ï¼š<a href="https://www.cnblogs.com/rickiyang/p/13841811.html" target="_blank" rel="noopener noreferrer">å¸¦ä½ äº†è§£ MySQL Binlog ä¸ä¸ºäººçŸ¥çš„ç§˜å¯†</a></p><p>binlog æ˜¯ä¸€ç§ç‰©ç†æ—¥å¿—ï¼Œä¼šåœ¨ç£ç›˜ä¸Šè®°å½•æ•°æ®åº“çš„æ‰€æœ‰ä¿®æ”¹æ“ä½œã€‚</p><p>å¦‚æœè¯¯åˆ äº†æ•°æ®ï¼Œå°±å¯ä»¥ä½¿ç”¨ binlog è¿›è¡Œå›é€€åˆ°è¯¯åˆ ä¹‹å‰çš„çŠ¶æ€ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"># æ­¥éª¤1ï¼šæ¢å¤å…¨é‡å¤‡ä»½</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">mysql -u </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">root</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> -p </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> full_backup</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">sql</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"># æ­¥éª¤2ï¼šåº”ç”¨Binlogåˆ°æŒ‡å®šæ—¶é—´ç‚¹</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">mysqlbinlog </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">--start-datetime=&quot;2025-03-13 14:00:00&quot; --stop-datetime=&quot;2025-03-13 15:00:00&quot; binlog.000001 | mysql -u root -p</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœè¦æ­å»ºä¸»ä»å¤åˆ¶ï¼Œå°±å¯ä»¥è®©ä»åº“å®šæ—¶è¯»å–ä¸»åº“çš„ binlogã€‚</p><p>MySQL æä¾›äº†ä¸‰ç§æ ¼å¼çš„ binlogï¼šStatementã€Row å’Œ Mixedï¼Œåˆ†åˆ«å¯¹åº” SQL è¯­å¥çº§åˆ«ã€è¡Œçº§åˆ«å’Œæ··åˆçº§åˆ«ï¼Œé»˜è®¤ä¸ºè¡Œçº§åˆ«ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20250313151551.png" alt="äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šMySQL é»˜è®¤çš„ binlogæ ¼å¼" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šMySQL é»˜è®¤çš„ binlogæ ¼å¼</figcaption></figure><p>ä»åç¼€åä¸Šæ¥çœ‹ï¼Œbinlog æ–‡ä»¶åˆ†ä¸ºä¸¤ç±»ï¼šä»¥ .index ç»“å°¾çš„ç´¢å¼•æ–‡ä»¶ï¼Œä»¥ .00000* ç»“å°¾çš„äºŒè¿›åˆ¶æ—¥å¿—æ–‡ä»¶ã€‚</p><p>binlog é»˜è®¤æ˜¯æ²¡æœ‰å¯ç”¨çš„ã€‚</p><p>ç”Ÿäº§ç¯å¢ƒä¸­æ˜¯ä¸€å®šè¦å¯ç”¨çš„ï¼Œå¯ä»¥é€šè¿‡åœ¨ my.cnf æ–‡ä»¶ä¸­é…ç½® log_bin å‚æ•°ï¼Œä»¥å¯ç”¨ binlogã€‚</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>log_bin = mysql-bin #å¼€å¯binlog</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#mysql-bin.*æ—¥å¿—æ–‡ä»¶æœ€å¤§å­—èŠ‚ï¼ˆå•ä½ï¼šå­—èŠ‚ï¼‰</span></span>
<span class="line"><span>#è®¾ç½®æœ€å¤§100MB</span></span>
<span class="line"><span>max_binlog_size=104857600</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#è®¾ç½®äº†åªä¿ç•™7å¤©BINLOGï¼ˆå•ä½ï¼šå¤©ï¼‰</span></span>
<span class="line"><span>expire_logs_days = 7</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#binlogæ—¥å¿—åªè®°å½•æŒ‡å®šåº“çš„æ›´æ–°</span></span>
<span class="line"><span>#binlog-do-db=db_name</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#binlogæ—¥å¿—ä¸è®°å½•æŒ‡å®šåº“çš„æ›´æ–°</span></span>
<span class="line"><span>#binlog-ignore-db=db_name</span></span>
<span class="line"><span></span></span>
<span class="line"><span>#å†™ç¼“å†²å¤šå°‘æ¬¡ï¼Œåˆ·ä¸€æ¬¡ç£ç›˜ï¼Œé»˜è®¤0</span></span>
<span class="line"><span>sync_binlog=0</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="binlog-çš„é…ç½®å‚æ•°éƒ½äº†è§£å“ªäº›" tabindex="-1"><a class="header-anchor" href="#binlog-çš„é…ç½®å‚æ•°éƒ½äº†è§£å“ªäº›"><span>binlog çš„é…ç½®å‚æ•°éƒ½äº†è§£å“ªäº›ï¼Ÿ</span></a></h4><p><code>log_bin = mysql-bin</code> ç”¨äºå¯ç”¨ binlogï¼Œè¿™æ ·å°±å¯ä»¥åœ¨ MySQL çš„æ•°æ®ç›®å½•ä¸­æ‰¾åˆ° db-bin.000001ã€db-bin.000002 ç­‰æ—¥å¿—æ–‡ä»¶ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240417074049.png" alt="äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šbinlog æ–‡ä»¶" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šbinlog æ–‡ä»¶</figcaption></figure><p><code>max_binlog_size=104857600</code> ç”¨äºè®¾ç½®æ¯ä¸ª binlog æ–‡ä»¶çš„å¤§å°ï¼Œä¸å»ºè®®è®¾ç½®å¤ªå¤§ï¼Œç½‘ç»œä¼ é€èµ·æ¥æ¯”è¾ƒéº»çƒ¦ã€‚</p><p>å½“ binlog æ–‡ä»¶è¾¾åˆ° max_binlog_size æ—¶ï¼ŒMySQL ä¼šå…³é—­å½“å‰æ–‡ä»¶å¹¶åˆ›å»ºä¸€ä¸ªæ–°çš„ binlog æ–‡ä»¶ã€‚</p><p><code>expire_logs_days = 7</code> ç”¨äºè®¾ç½® binlog æ–‡ä»¶çš„è‡ªåŠ¨è¿‡æœŸæ—¶é—´ä¸º 7 å¤©ã€‚è¿‡æœŸçš„ binlog æ–‡ä»¶ä¼šè¢«è‡ªåŠ¨åˆ é™¤ã€‚é˜²æ­¢é•¿æ—¶é—´ç´¯ç§¯çš„ binlog æ–‡ä»¶å ç”¨è¿‡å¤šå­˜å‚¨ç©ºé—´ï¼Œ<a href="https://javabetter.cn/zhishixingqiu/paicoding.html" target="_blank" rel="noopener noreferrer">æŠ€æœ¯æ´¾å®æˆ˜é¡¹ç›®</a>æ‰€åœ¨çš„é¡¹ç›®æ˜¯ä¸ç‰ˆæœåŠ¡å™¨ï¼Œæ‰€ä»¥è¿™ä¸ªé…ç½®å¾ˆé‡è¦ã€‚</p><p><code>binlog-do-db=db_name</code>ï¼ŒæŒ‡å®šå“ªäº›æ•°æ®åº“è¡¨çš„æ›´æ–°åº”è¯¥è¢«è®°å½•ã€‚</p><p><code>binlog-ignore-db=db_name</code>ï¼ŒæŒ‡å®šå¿½ç•¥å“ªäº›æ•°æ®åº“è¡¨çš„æ›´æ–°ã€‚</p><p><code>sync_binlog=0</code>ï¼Œè®¾ç½®æ¯å¤šå°‘æ¬¡ binlog å†™æ“ä½œä¼šè§¦å‘ä¸€æ¬¡ç£ç›˜åŒæ­¥æ“ä½œã€‚é»˜è®¤å€¼ä¸º 0ï¼Œè¡¨ç¤º MySQL ä¸ä¼šä¸»åŠ¨è§¦å‘åŒæ­¥æ“ä½œï¼Œè€Œæ˜¯ä¾èµ–æ“ä½œç³»ç»Ÿçš„ç£ç›˜ç¼“å­˜ç­–ç•¥ã€‚</p><p>å³å½“æ‰§è¡Œå†™æ“ä½œæ—¶ï¼Œæ•°æ®ä¼šå…ˆå†™å…¥ç¼“å­˜ï¼Œå½“ç¼“å­˜åŒºæ»¡äº†å†ç”±æ“ä½œç³»ç»Ÿå°†æ•°æ®ä¸€æ¬¡æ€§åˆ·å…¥ç£ç›˜ã€‚</p><p>å¦‚æœè®¾ç½®ä¸º 1ï¼Œè¡¨ç¤ºæ¯æ¬¡ binlog å†™æ“ä½œåéƒ½ä¼šåŒæ­¥åˆ°ç£ç›˜ï¼Œè™½ç„¶å¯ä»¥ä¿è¯æ•°æ®èƒ½å¤ŸåŠæ—¶å†™å…¥ç£ç›˜ï¼Œä½†ä¼šé™ä½æ€§èƒ½ã€‚</p><p>å¯ä»¥é€šè¿‡ <code>show variables like &#39;%log_bin%&#39;;</code> æŸ¥çœ‹ binlog æ˜¯å¦å¼€å¯ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240326102701.png" alt="äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šå¼€å¯ binlog" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šå¼€å¯ binlog</figcaption></figure><h4 id="æœ‰äº†binlogä¸ºä»€ä¹ˆè¿˜è¦undolog-redolog" tabindex="-1"><a class="header-anchor" href="#æœ‰äº†binlogä¸ºä»€ä¹ˆè¿˜è¦undolog-redolog"><span>æœ‰äº†binlogä¸ºä»€ä¹ˆè¿˜è¦undolog redologï¼Ÿ</span></a></h4><p>binlog å±äº Server å±‚ï¼Œä¸å­˜å‚¨å¼•æ“æ— å…³ï¼Œæ— æ³•ç›´æ¥æ“ä½œç‰©ç†æ•°æ®é¡µã€‚è€Œ redo log å’Œ undo log æ˜¯ InnoDB å­˜å‚¨å¼•æ“å®ç° ACID çš„åŸºçŸ³ã€‚</p><p>binlog å…³æ³¨çš„æ˜¯é€»è¾‘å˜æ›´çš„å…¨å±€è®°å½•ï¼›redo log ç”¨äºç¡®ä¿ç‰©ç†å˜æ›´çš„æŒä¹…æ€§ï¼Œç¡®ä¿äº‹åŠ¡æœ€ç»ˆèƒ½å¤Ÿåˆ·ç›˜æˆåŠŸï¼›undo log æ˜¯é€»è¾‘é€†å‘æ“ä½œæ—¥å¿—ï¼Œè®°å½•çš„æ˜¯æ—§å€¼ï¼Œæ–¹ä¾¿æ¢å¤åˆ°äº‹åŠ¡å¼€å§‹å‰çš„çŠ¶æ€ã€‚</p><blockquote><p>å¦å¤–ä¸€ç§å›ç­”æ–¹å¼ã€‚</p></blockquote><p>binlog ä¼šè®°å½•æ•´ä¸ª SQL æˆ–è¡Œå˜åŒ–ï¼›redo log æ˜¯ä¸ºäº†æ¢å¤â€œå·²æäº¤ä½†æœªåˆ·ç›˜â€çš„æ•°æ®ï¼Œundo log æ˜¯ä¸ºäº†æ’¤é”€æœªæäº¤çš„äº‹åŠ¡ã€‚</p><p>ä»¥ä¸€æ¬¡äº‹åŠ¡æ›´æ–°ä¸ºä¾‹ï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"># å¼€å¯äº‹åŠ¡</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">BEGIN</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"># æ›´æ–°æ•°æ®</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">UPDATE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> users </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SET</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> age </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> age + </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> id </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"># æäº¤äº‹åŠ¡</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">COMMIT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>äº‹åŠ¡å¼€å§‹çš„æ—¶å€™ä¼šç”Ÿæˆ undo logï¼Œè®°å½•æ›´æ–°å‰çš„æ•°æ®ï¼Œæ¯”å¦‚åŸå€¼æ˜¯ 18ï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>undo log: id=1, age=18</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>ä¿®æ”¹æ•°æ®çš„æ—¶å€™ï¼Œä¼šå°†æ•°æ®å†™å…¥åˆ° redo logã€‚</p><p>æ¯”å¦‚æ•°æ®é¡µ page_id=123 ä¸Šï¼Œid=1 çš„ç”¨æˆ·è¢«æ›´æ–°ä¸º age=26ï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>redo log (prepare):</span></span>
<span class="line"><span>page_id=123, offset=0x40, before=18, after=26</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>ç­‰äº‹åŠ¡æäº¤çš„æ—¶å€™ï¼Œredo log åˆ·ç›˜ï¼Œbinlog åˆ·ç›˜ã€‚</p><p>binlog å†™å®Œä¹‹åï¼Œredo log çš„çŠ¶æ€ä¼šå˜ä¸º commitï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>redo log (commit):</span></span>
<span class="line"><span>page_id=123, offset=0x40, before=18, after=26</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>binlog å¦‚æœæ˜¯ Statement æ ¼å¼ï¼Œä¼šè®°å½•ä¸€æ¡ SQL è¯­å¥ï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">UPDATE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> users </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SET</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> age </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> age + </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> id </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>binlog å¦‚æœæ˜¯ Row æ ¼å¼ï¼Œä¼šè®°å½•ï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>è¡¨ï¼šusers</span></span>
<span class="line"><span>before: id=1, age=18</span></span>
<span class="line"><span>after:  id=1, age=26</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>éšåï¼Œåå°çº¿ç¨‹ä¼šå°† redo log ä¸­çš„å˜æ›´å¼‚æ­¥åˆ·æ–°åˆ°ç£ç›˜ã€‚</p><p>memoï¼š2025 å¹´ 3 æœˆ 13 æ—¥ä¿®æ”¹è‡³æ­¤ã€‚æœ‰<a href="httpshttps://javabetter.cn/zhishixingqiu/" target="_blank" rel="noopener noreferrer">çƒå‹æŠ¥å–œ</a>ï¼Œå­—èŠ‚äºŒé¢è¿‡äº†ï¼Œæ‰¾æš‘æœŸé¡ºåˆ©çš„ä¸å¯æ€è®®ï¼Œå…«è‚¡ç›´æ¥åŸå”±é¢æ¸£ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20250313170334.png" alt="çƒå‹æŠ¥å–œå­—èŠ‚äºŒé¢è¿‡äº†" tabindex="0" loading="lazy"><figcaption>çƒå‹æŠ¥å–œå­—èŠ‚äºŒé¢è¿‡äº†</figcaption></figure><h4 id="è¯´è¯´-redo-log-çš„å·¥ä½œæœºåˆ¶" tabindex="-1"><a class="header-anchor" href="#è¯´è¯´-redo-log-çš„å·¥ä½œæœºåˆ¶"><span>è¯´è¯´ redo log çš„å·¥ä½œæœºåˆ¶ï¼Ÿ</span></a></h4><p>å½“äº‹åŠ¡å¯åŠ¨æ—¶ï¼ŒMySQL ä¼šä¸ºè¯¥äº‹åŠ¡åˆ†é…ä¸€ä¸ªå”¯ä¸€æ ‡è¯†ç¬¦ã€‚</p><p>åœ¨äº‹åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œæ¯æ¬¡å¯¹æ•°æ®è¿›è¡Œä¿®æ”¹ï¼ŒMySQL éƒ½ä¼šç”Ÿæˆä¸€æ¡ Redo Logï¼Œè®°å½•ä¿®æ”¹å‰åçš„æ•°æ®çŠ¶æ€ã€‚</p><p>è¿™äº› Redo Log é¦–å…ˆä¼šè¢«å†™å…¥å†…å­˜ä¸­çš„ Redo Log Bufferã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20250314155647.png" alt="äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼š æˆ‘æœ¬æœº MySQL çš„ redolog buffer size ä¸º 16M" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼š æˆ‘æœ¬æœº MySQL çš„ redolog buffer size ä¸º 16M</figcaption></figure><p>å½“äº‹åŠ¡æäº¤æ—¶ï¼ŒMySQL å†å°† Redo Log Buffer ä¸­çš„è®°å½•åˆ·æ–°åˆ°ç£ç›˜ä¸Šçš„ Redo Log æ–‡ä»¶ä¸­ã€‚</p><p>åªæœ‰å½“ Redo Log æˆåŠŸå†™å…¥ç£ç›˜ï¼Œäº‹åŠ¡æ‰ç®—çœŸæ­£æäº¤æˆåŠŸã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20250314160523.png" alt="greatsql ç¤¾åŒºï¼šRedo Logçš„åˆ·ç›˜ç­–ç•¥" tabindex="0" loading="lazy"><figcaption>greatsql ç¤¾åŒºï¼šRedo Logçš„åˆ·ç›˜ç­–ç•¥</figcaption></figure><p>å½“ MySQL å´©æºƒé‡å¯æ—¶ï¼Œä¼šå…ˆæ£€æŸ¥ Redo Logã€‚å¯¹äºå·²æäº¤çš„äº‹åŠ¡ï¼ŒMySQL ä¼šé‡æ”¾ Redo Log ä¸­çš„è®°å½•ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20250314160157.png" alt="greatsql ç¤¾åŒºï¼šredo log æ¢å¤" tabindex="0" loading="lazy"><figcaption>greatsql ç¤¾åŒºï¼šredo log æ¢å¤</figcaption></figure><p>å¯¹äºæœªæäº¤çš„äº‹åŠ¡ï¼ŒMySQL ä¼šé€šè¿‡ Undo Log å›æ»šè¿™äº›ä¿®æ”¹ï¼Œç¡®ä¿æ•°æ®æ¢å¤åˆ°å´©æºƒå‰çš„ä¸€è‡´æ€§çŠ¶æ€ã€‚</p><p>Redo Log æ˜¯å¾ªç¯ä½¿ç”¨çš„ï¼Œå½“æ–‡ä»¶å†™æ»¡åä¼šè¦†ç›–æœ€æ—©çš„è®°å½•ã€‚</p><p>ä¸ºé¿å…è¦†ç›–æœªæŒä¹…åŒ–çš„è®°å½•ï¼ŒMySQL ä¼šå®šæœŸæ‰§è¡Œ CheckPoint æ“ä½œï¼Œå°†å†…å­˜ä¸­çš„æ•°æ®é¡µåˆ·æ–°åˆ°ç£ç›˜ï¼Œå¹¶è®°å½• CheckPoint ç‚¹ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20250314161732.png" alt="åšå®¢å›­å¤ªç™½é‡‘æ˜Ÿæœ‰ç‚¹çƒ¦ï¼šcheckpoint" tabindex="0" loading="lazy"><figcaption>åšå®¢å›­å¤ªç™½é‡‘æ˜Ÿæœ‰ç‚¹çƒ¦ï¼šcheckpoint</figcaption></figure><p>é‡å¯æ—¶ï¼ŒMySQL åªä¼šé‡æ”¾ CheckPoint ä¹‹åçš„ Redo Logï¼Œä»è€Œæé«˜æ¢å¤æ•ˆç‡ã€‚</p><h4 id="redo-log-æ–‡ä»¶çš„å¤§å°æ˜¯å›ºå®šçš„å—" tabindex="-1"><a class="header-anchor" href="#redo-log-æ–‡ä»¶çš„å¤§å°æ˜¯å›ºå®šçš„å—"><span>redo log æ–‡ä»¶çš„å¤§å°æ˜¯å›ºå®šçš„å—ï¼Ÿ</span></a></h4><p>redo log æ–‡ä»¶æ˜¯å›ºå®šå¤§å°çš„ï¼Œé€šå¸¸é…ç½®ä¸ºä¸€ç»„æ–‡ä»¶ï¼Œä½¿ç”¨ç¯å½¢æ–¹å¼å†™å…¥ï¼Œæ—§çš„æ—¥å¿—ä¼šåœ¨ç©ºé—´éœ€è¦æ—¶è¢«è¦†ç›–ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20250314161331.png" alt="greatsqlç¤¾åŒºï¼šredo log æ–‡ä»¶ç»„" tabindex="0" loading="lazy"><figcaption>greatsqlç¤¾åŒºï¼šredo log æ–‡ä»¶ç»„</figcaption></figure><p>å‘½åæ–¹å¼ä¸º <code>ib_logfile0ã€iblogfile1ã€ã€ã€iblogfilen</code>ã€‚é»˜è®¤ 2 ä¸ªæ–‡ä»¶ï¼Œæ¯ä¸ªæ–‡ä»¶å¤§å°ä¸º 48MBã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20250314160340.png" alt="greatsqlç¤¾åŒºï¼šib_logfile0å’Œib_logfile1" tabindex="0" loading="lazy"><figcaption>greatsqlç¤¾åŒºï¼šib_logfile0å’Œib_logfile1</figcaption></figure><p>å¯ä»¥é€šè¿‡ <code>show variables like &#39;innodb_log_file_size&#39;;</code> æŸ¥çœ‹ redo log æ–‡ä»¶çš„å¤§å°ï¼›é€šè¿‡ <code>show variables like &#39;innodb_log_files_in_group&#39;;</code> æŸ¥çœ‹ redo log æ–‡ä»¶çš„æ•°é‡ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20250314155806.png" alt="äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šredo log æ–‡ä»¶å¤§å°" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šredo log æ–‡ä»¶å¤§å°</figcaption></figure><h4 id="è¯´è¯´-wal" tabindex="-1"><a class="header-anchor" href="#è¯´è¯´-wal"><span>è¯´è¯´ WALï¼Ÿ</span></a></h4><blockquote><p>WALâ€”â€”Write-Ahead Loggingã€‚</p></blockquote><p>é¢„å†™æ—¥å¿—æ˜¯ InnoDB å®ç°äº‹åŠ¡æŒä¹…åŒ–çš„æ ¸å¿ƒæœºåˆ¶ï¼Œå®ƒçš„æ€æƒ³æ˜¯ï¼šå…ˆå†™æ—¥å¿—å†åˆ·ç£ç›˜ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20250314163343.png" alt="å°è®¸ codeï¼šWAL" tabindex="0" loading="lazy"><figcaption>å°è®¸ codeï¼šWAL</figcaption></figure><p>å³åœ¨ä¿®æ”¹æ•°æ®é¡µä¹‹å‰ï¼Œå…ˆå°†ä¿®æ”¹è®°å½•å†™å…¥ Redo Logã€‚</p><p>è¿™æ ·çš„è¯ï¼Œå³ä½¿æ•°æ®é¡µå°šæœªå†™å…¥ç£ç›˜ï¼Œç³»ç»Ÿå´©æºƒæ—¶ä¹Ÿèƒ½é€šè¿‡ Redo Log æ¢å¤æ•°æ®ã€‚</p><p>----è¿™éƒ¨åˆ†æ˜¯å¸®åŠ©å¤§å®¶ç†è§£ startï¼Œé¢è¯•ä¸­å¯ä¸èƒŒ----</p><p>è§£é‡Šä¸€ä¸‹ä¸ºä»€ä¹ˆéœ€è¦ WALï¼š</p><ul><li>æ•°æ®æœ€ç»ˆæ˜¯è¦å†™å…¥ç£ç›˜çš„ï¼Œä½†ç£ç›˜ IO å¾ˆæ…¢ï¼›</li><li>å¦‚æœæ¯æ¬¡æ›´æ–°éƒ½ç«‹åˆ»æŠŠæ•°æ®é¡µåˆ·ç›˜ï¼Œæ€§èƒ½å¾ˆå·®ï¼›</li><li>å¦‚æœè¿˜æ²¡å†™å…¥ç£ç›˜å°±å®•æœºï¼Œäº‹åŠ¡ä¼šä¸¢å¤±ã€‚</li></ul><p>WAL çš„å¥½å¤„æ˜¯æ›´æ–°æ—¶ä¸ç›´æ¥å†™æ•°æ®é¡µï¼Œè€Œæ˜¯å…ˆå†™ä¸€ä»½å˜æ›´è®°å½•åˆ° redo logï¼Œåå°å†æ…¢æ…¢æŠŠçœŸæ­£çš„æ•°æ®é¡µåˆ·ç›˜ï¼Œä¸€ä¸¾å¤šå¾—ã€‚</p><p>----è¿™éƒ¨åˆ†æ˜¯å¸®åŠ©å¤§å®¶ç†è§£ endï¼Œé¢è¯•ä¸­å¯ä¸èƒŒ----</p><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„åä¸ºé¢ç»åŒå­¦ 8 æŠ€æœ¯äºŒé¢é¢è¯•åŸé¢˜ï¼šMySQL ä¸­çš„ bin log çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„ç¾å›¢é¢ç»åŒå­¦ 2 Java åç«¯æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šè¯´è¯´ MySQL çš„ä¸‰å¤§æ—¥å¿—ï¼Ÿ</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å­—èŠ‚è·³åŠ¨é¢ç»åŒå­¦ 21 æŠ–éŸ³å•†åŸä¸€é¢é¢è¯•åŸé¢˜ï¼šredolog undolog binlogï¼Œæœ‰äº†binlogä¸ºä»€ä¹ˆè¿˜è¦undolog redologï¼Œredologçš„å·¥ä½œæœºåˆ¶ï¼Œè¯´è¯´ WAL</li></ol></blockquote><p>memoï¼š2025 å¹´ 3 æœˆ 14 æ—¥ä¿®æ”¹è‡³æ­¤ã€‚ä»Šå¤©ä¿®æ”¹ç®€å†çš„æ—¶å€™ï¼Œç¢°åˆ°ä¸€ä½æ¯”èµ›ç»å†<a href="https://javabetter.cn/zhishixingqiu/" target="_blank" rel="noopener noreferrer">éå¸¸ä¸°å¯Œçš„çƒå‹</a>ï¼Œå¤§å®¶åœ¨æ ¡æœŸé—´å¦‚æœæœ‰æ—¶é—´ï¼Œä¹Ÿå¯ä»¥å†²ä¸€ä¸‹ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20250314163859.png" alt="çƒå‹çš„ç«èµ›ç»å†" tabindex="0" loading="lazy"><figcaption>çƒå‹çš„ç«èµ›ç»å†</figcaption></figure><h3 id="_29-binlog-å’Œ-redo-log-æœ‰ä»€ä¹ˆåŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#_29-binlog-å’Œ-redo-log-æœ‰ä»€ä¹ˆåŒºåˆ«"><span>29.binlog å’Œ redo log æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</span></a></h3><p>binlog ç”± MySQL çš„ Server å±‚å®ç°ï¼Œä¸å­˜å‚¨å¼•æ“æ— å…³ï¼›redo log ç”± InnoDB å­˜å‚¨å¼•æ“å®ç°ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20250315151137.png" alt="è¿è¾¹ï¼šbinlog å’Œ redo log" tabindex="0" loading="lazy"><figcaption>è¿è¾¹ï¼šbinlog å’Œ redo log</figcaption></figure><p>binlog è®°å½•çš„æ˜¯é€»è¾‘æ—¥å¿—ï¼ŒåŒ…æ‹¬åŸå§‹çš„ SQL è¯­å¥æˆ–è€…è¡Œæ•°æ®å˜åŒ–ï¼Œä¾‹å¦‚â€œå°† id=2 è¿™è¡Œæ•°æ®çš„ age å­—æ®µ+1â€ã€‚</p><p>redo log è®°å½•ç‰©ç†æ—¥å¿—ï¼Œå³æ•°æ®é¡µçš„å…·ä½“ä¿®æ”¹ï¼Œä¾‹å¦‚â€œå°† page_id=123 ä¸Š offset=0x40 çš„æ•°æ®ä» 18 ä¿®æ”¹ä¸º 26â€ã€‚</p><p>binlog æ˜¯è¿½åŠ å†™å…¥çš„ï¼Œæ–‡ä»¶å†™æ»¡åä¼šæ–°å»ºæ–‡ä»¶ç»§ç»­å†™å…¥ï¼Œä¸ä¼šè¦†ç›–å†å²æ—¥å¿—ï¼Œä¿å­˜çš„æ˜¯å…¨é‡æ“ä½œè®°å½•ï¼›redo log æ˜¯å¾ªç¯å†™å…¥çš„ï¼Œç©ºé—´æ˜¯å›ºå®šçš„ï¼Œå†™æ»¡åä¼šè¦†ç›–æ—§çš„æ—¥å¿—ï¼Œä»…ä¿å­˜æœªåˆ·ç›˜çš„è„é¡µæ—¥å¿—ï¼Œå·²æŒä¹…åŒ–çš„æ•°æ®ä¼šè¢«æ¸…é™¤ã€‚</p><p>å¦å¤–ï¼Œä¸ºä¿è¯ä¸¤ç§æ—¥å¿—çš„ä¸€è‡´æ€§ï¼Œinnodb é‡‡ç”¨äº†ä¸¤é˜¶æ®µæäº¤ç­–ç•¥ï¼Œredo log åœ¨äº‹åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­æŒç»­å†™å…¥ï¼Œå¹¶åœ¨äº‹åŠ¡æäº¤å‰è¿›å…¥ prepare çŠ¶æ€ï¼›binlog åœ¨äº‹åŠ¡æäº¤çš„æœ€åé˜¶æ®µå†™å…¥ï¼Œä¹‹å redo log ä¼šè¢«æ ‡è®°ä¸º commit çŠ¶æ€ã€‚</p><p>å¯ä»¥é€šè¿‡å›æ”¾ binlog å®ç°æ•°æ®åŒæ­¥æˆ–è€…æ¢å¤åˆ°æŒ‡å®šæ—¶é—´ç‚¹ï¼›redo log ç”¨æ¥ç¡®ä¿äº‹åŠ¡æäº¤åå³ä½¿ç³»ç»Ÿå®•æœºï¼Œæ•°æ®ä»ç„¶å¯ä»¥é€šè¿‡é‡æ”¾ redo log æ¢å¤ã€‚</p><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„ç¾å›¢åŒå­¦ 2 ä¼˜é€‰ç‰©æµè°ƒåº¦æŠ€æœ¯ 2 é¢é¢è¯•åŸé¢˜ï¼šredo logã€bin log</li></ol></blockquote><h3 id="_30-ä¸ºä»€ä¹ˆè¦ä¸¤é˜¶æ®µæäº¤å‘¢" tabindex="-1"><a class="header-anchor" href="#_30-ä¸ºä»€ä¹ˆè¦ä¸¤é˜¶æ®µæäº¤å‘¢"><span>30.ä¸ºä»€ä¹ˆè¦ä¸¤é˜¶æ®µæäº¤å‘¢ï¼Ÿ</span></a></h3><p>ä¸ºäº†ä¿è¯ redo log å’Œ binlog ä¸­çš„æ•°æ®ä¸€è‡´æ€§ï¼Œé˜²æ­¢ä¸»ä»å¤åˆ¶å’Œäº‹åŠ¡çŠ¶æ€ä¸ä¸€è‡´ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20250316104456.png" alt="é˜¿é‡Œï¼šMySQL ä¸¤é˜¶æ®µæäº¤" tabindex="0" loading="lazy"><figcaption>é˜¿é‡Œï¼šMySQL ä¸¤é˜¶æ®µæäº¤</figcaption></figure><h4 id="ä¸ºä»€ä¹ˆ-2pc-èƒ½ä¿è¯-redo-log-å’Œ-binlog-çš„å¼ºä¸€è‡´æ€§" tabindex="-1"><a class="header-anchor" href="#ä¸ºä»€ä¹ˆ-2pc-èƒ½ä¿è¯-redo-log-å’Œ-binlog-çš„å¼ºä¸€è‡´æ€§"><span>ä¸ºä»€ä¹ˆ 2PC èƒ½ä¿è¯ redo log å’Œ binlog çš„å¼ºâ¼€è‡´æ€§ï¼Ÿ</span></a></h4><p>å‡å¦‚ MySQL åœ¨é¢„å†™ redo log ä¹‹åã€å†™å…¥ binlog ä¹‹å‰å´©æºƒã€‚é‚£ä¹ˆ MySQL é‡å¯å InnoDB ä¼šå›æ»šè¯¥äº‹åŠ¡ï¼Œå› ä¸º redo log ä¸æ˜¯æäº¤çŠ¶æ€ã€‚å¹¶ä¸”ç”±äº binlog ä¸­æ²¡æœ‰å†™å…¥æ•°æ®ï¼Œæ‰€ä»¥ä»åº“ä¹Ÿä¸ä¼šæœ‰è¯¥äº‹åŠ¡çš„æ•°æ®ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20250316105500.png" alt="é˜¿é‡Œï¼š2PC å¯ä»¥ä¿è¯redo log å’Œ binlog çš„æ•°æ®ä¸€è‡´æ€§" tabindex="0" loading="lazy"><figcaption>é˜¿é‡Œï¼š2PC å¯ä»¥ä¿è¯redo log å’Œ binlog çš„æ•°æ®ä¸€è‡´æ€§</figcaption></figure><p>å‡å¦‚ MySQL åœ¨å†™å…¥ binlog ä¹‹åã€redo log æäº¤ä¹‹å‰å´©æºƒã€‚é‚£ä¹ˆ MySQL é‡å¯å InnoDB ä¼šæäº¤è¯¥äº‹åŠ¡ï¼Œå› ä¸º redo log æ˜¯æäº¤çŠ¶æ€ã€‚å¹¶ä¸”ç”±äº binlog ä¸­æœ‰å†™å…¥æ•°æ®ï¼Œæ‰€ä»¥ä»åº“ä¹Ÿä¼šåŒæ­¥åˆ°è¯¥äº‹åŠ¡çš„æ•°æ®ã€‚</p><p>ä¼ªä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// äº‹åŠ¡å¼€å§‹</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">begin</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// try</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">{</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // æ‰§è¡Œ SQL</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    execute SQL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // å†™å…¥ redo log å¹¶æ ‡è®°ä¸º prepare</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    write redo log prepare xid</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // å†™å…¥ binlog</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    write binlog xid sql</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // æäº¤ redo log</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    commit redo log xid</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// catch</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">{</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // å›æ»š redo log</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    innodb rollback redo log xid</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// äº‹åŠ¡ç»“æŸ</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">end</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="xid-äº†è§£å—" tabindex="-1"><a class="header-anchor" href="#xid-äº†è§£å—"><span>XID äº†è§£å—ï¼Ÿ</span></a></h4><p>XID æ˜¯ binlog ä¸­ç”¨æ¥æ ‡è¯†äº‹åŠ¡æäº¤çš„å”¯ä¸€æ ‡è¯†ç¬¦ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20250316113030.png" alt="mysqlï¼šxid" tabindex="0" loading="lazy"><figcaption>mysqlï¼šxid</figcaption></figure><p>åœ¨äº‹åŠ¡æäº¤æ—¶ï¼Œä¼šå†™å…¥ä¸€ä¸ª XID_EVENT åˆ° binlogï¼Œè¡¨ç¤ºè¿™ä¸ªäº‹åŠ¡çœŸæ­£å®Œæˆäº†ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  Log_name         | Pos  | Event_type     | Server_id | End_log_pos | Info      </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">| mysql-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">bin</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">000003</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2005</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | Gtid           |   </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1013307</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> |        </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2070</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SET</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> @@</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">SESSION</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">GTID_NEXT</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;f971d5f1-d450-11ec-9e7b-5254000a56df:11&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">                 |</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">| mysql-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">bin</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">000003</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2070</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | Query          |   </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1013307</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> |        </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2142</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">BEGIN</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">                                                                              |</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">| mysql-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">bin</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">000003</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2142</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | Table_map      |   </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1013307</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> |        </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2187</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | table_id: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">109</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">test</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">t1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)                                                            |</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">| mysql-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">bin</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">000003</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2187</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | Write_rows     |   </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1013307</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> |        </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2227</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | table_id: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">109</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> flags: STMT_END_F                                                    |</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">| mysql-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">bin</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">000003</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2227</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | Xid            |   </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1013307</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> |        </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2258</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">COMMIT</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> /* xid=121 */</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å®ƒä¸ä»…ç”¨äºä¸»ä»å¤åˆ¶ä¸­äº‹åŠ¡å®Œæ•´æ€§çš„åˆ¤æ–­ï¼Œä¹Ÿåœ¨å´©æºƒæ¢å¤ä¸­å¯¹ redo log å’Œ binlog çš„ä¸€è‡´æ€§æ ¡éªŒèµ·åˆ°å…³é”®ä½œç”¨ã€‚</p><p>XID å¯ä»¥å¸®åŠ© MySQL åˆ¤æ–­å“ªäº› redo log æ˜¯å·²æäº¤çš„ï¼Œå“ªäº›æ˜¯æœªæäº¤éœ€è¦å›æ»šçš„ï¼Œæ˜¯ä¸¤é˜¶æ®µæäº¤æœºåˆ¶ä¸­éå¸¸å…³é”®çš„ä¸€ç¯ã€‚</p><p>memoï¼š2025 å¹´ 3 æœˆ 16 æ—¥ä¿®æ”¹è‡³æ­¤ã€‚</p><h3 id="_31-redo-log-çš„å†™å…¥è¿‡ç¨‹äº†è§£å—" tabindex="-1"><a class="header-anchor" href="#_31-redo-log-çš„å†™å…¥è¿‡ç¨‹äº†è§£å—"><span>31.redo log çš„å†™å…¥è¿‡ç¨‹äº†è§£å—ï¼Ÿ</span></a></h3><p>InnoDB ä¼šå…ˆå°† Redo Log å†™å…¥å†…å­˜ä¸­çš„ Redo Log Bufferï¼Œä¹‹åå†ä»¥ä¸€å®šçš„é¢‘ç‡åˆ·å…¥åˆ°ç£ç›˜çš„ Redo Log File ä¸­ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-e1f59341-0695-45db-b759-30db73314e39.jpg" alt="ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šredo log ç¼“å†²" tabindex="0" loading="lazy"><figcaption>ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šredo log ç¼“å†²</figcaption></figure><h4 id="å“ªäº›åœºæ™¯ä¼šè§¦å‘-redo-log-çš„åˆ·ç›˜åŠ¨ä½œ" tabindex="-1"><a class="header-anchor" href="#å“ªäº›åœºæ™¯ä¼šè§¦å‘-redo-log-çš„åˆ·ç›˜åŠ¨ä½œ"><span>å“ªäº›åœºæ™¯ä¼šè§¦å‘ redo log çš„åˆ·ç›˜åŠ¨ä½œï¼Ÿ</span></a></h4><p>æ¯”å¦‚è¯´ Redo Log Buffer çš„ç©ºé—´ä¸è¶³æ—¶ï¼Œäº‹åŠ¡æäº¤æ—¶ï¼Œè§¦å‘ Checkpoint æ—¶ï¼Œåå°çº¿ç¨‹å®šæœŸåˆ·ç›˜æ—¶ã€‚</p><p>ä¸è¿‡ï¼ŒRedo Log Buffer åˆ·ç›˜åˆ° Redo Log File è¿˜ä¼šæ¶‰åŠåˆ°æ“ä½œç³»ç»Ÿçš„ç£ç›˜ç¼“å­˜ç­–ç•¥ï¼Œå¯èƒ½ä¸ä¼šç«‹å³åˆ·ç›˜ï¼Œè€Œæ˜¯ç­‰å¾…ä¸€å®šæ—¶é—´åæ‰åˆ·ç›˜ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20250317160220.png" alt="é…·é…·åšå®¢å›­ï¼šPage Cache" tabindex="0" loading="lazy"><figcaption>é…·é…·åšå®¢å›­ï¼šPage Cache</figcaption></figure><h4 id="innodb-flush-log-at-trx-commit-å‚æ•°ä½ äº†è§£å¤šå°‘" tabindex="-1"><a class="header-anchor" href="#innodb-flush-log-at-trx-commit-å‚æ•°ä½ äº†è§£å¤šå°‘"><span>innodb_flush_log_at_trx_commit å‚æ•°ä½ äº†è§£å¤šå°‘ï¼Ÿ</span></a></h4><p>innodb_flush_log_at_trx_commit å‚æ•°æ˜¯ç”¨æ¥æ§åˆ¶äº‹åŠ¡æäº¤æ—¶ï¼ŒRedo Log çš„åˆ·ç›˜ç­–ç•¥ï¼Œä¸€å…±æœ‰ä¸‰ç§ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20250317155312.png" alt="greatsqlï¼šinnodb_flush_log_at_trx_commit" tabindex="0" loading="lazy"><figcaption>greatsqlï¼šinnodb_flush_log_at_trx_commit</figcaption></figure><p>0 è¡¨ç¤ºäº‹åŠ¡æäº¤æ—¶ä¸åˆ·ç›˜ï¼Œè€Œæ˜¯äº¤ç»™åå°çº¿ç¨‹æ¯éš” 1 ç§’æ‰§è¡Œä¸€æ¬¡ã€‚è¿™ç§æ–¹å¼æ€§èƒ½æœ€å¥½ï¼Œä½†æ˜¯åœ¨ MySQL å®•æœºæ—¶å¯èƒ½ä¼šä¸¢å¤±ä¸€ç§’å†…çš„äº‹åŠ¡ã€‚</p><p>1 è¡¨ç¤ºäº‹åŠ¡æäº¤æ—¶ä¼šç«‹å³åˆ·ç›˜ï¼Œç¡®ä¿äº‹åŠ¡æäº¤åæ•°æ®å°±æŒä¹…åŒ–åˆ°ç£ç›˜ã€‚è¿™ç§æ–¹å¼æ˜¯æœ€å®‰å…¨çš„ï¼Œä¹Ÿæ˜¯ InnoDB çš„é»˜è®¤å€¼ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20250317160701.png" alt="äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šinnodb_flush_log_at_trx_commitçš„é»˜è®¤å€¼" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šinnodb_flush_log_at_trx_commitçš„é»˜è®¤å€¼</figcaption></figure><p>2 è¡¨ç¤ºäº‹åŠ¡æäº¤æ—¶åªæŠŠ Redo Log Buffer å†™å…¥åˆ° Page Cacheï¼Œç”±æ“ä½œç³»ç»Ÿå†³å®šä»€ä¹ˆæ—¶å€™åˆ·ç›˜ã€‚æ“ä½œç³»ç»Ÿå®•æœºæ—¶ï¼Œå¯èƒ½ä¼šä¸¢å¤±ä¸€éƒ¨åˆ†æ•°æ®ã€‚</p><h4 id="ä¸€ä¸ªæ²¡æœ‰æäº¤äº‹åŠ¡çš„-redo-log-ä¼šä¸ä¼šåˆ·ç›˜" tabindex="-1"><a class="header-anchor" href="#ä¸€ä¸ªæ²¡æœ‰æäº¤äº‹åŠ¡çš„-redo-log-ä¼šä¸ä¼šåˆ·ç›˜"><span>ä¸€ä¸ªæ²¡æœ‰æäº¤äº‹åŠ¡çš„ redo logï¼Œä¼šä¸ä¼šåˆ·ç›˜ï¼Ÿ</span></a></h4><p>InnoDB æœ‰ä¸€ä¸ªåå°çº¿ç¨‹ï¼Œæ¯éš” 1 ç§’ä¼šæŠŠ Redo Log Buffer ä¸­çš„æ—¥å¿—å†™å…¥åˆ°æ–‡ä»¶ç³»ç»Ÿçš„ç¼“å­˜ä¸­ï¼Œç„¶åè°ƒç”¨åˆ·ç›˜æ“ä½œã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20250317161008.png" alt="greatsqlï¼šInnoDB çš„åå°çº¿ç¨‹" tabindex="0" loading="lazy"><figcaption>greatsqlï¼šInnoDB çš„åå°çº¿ç¨‹</figcaption></figure><p>å› æ­¤ï¼Œä¸€ä¸ªæ²¡æœ‰æäº¤äº‹åŠ¡çš„ Redo Log ä¹Ÿå¯èƒ½ä¼šè¢«åˆ·æ–°åˆ°ç£ç›˜ä¸­ã€‚</p><p>å¦å¤–ï¼Œå¦‚æœå½“ Redo Log Buffer å ç”¨çš„ç©ºé—´å³å°†è¾¾åˆ° innodb_log_buffer_size çš„ä¸€åŠæ—¶ï¼Œä¹Ÿä¼šè§¦å‘åˆ·ç›˜æ“ä½œã€‚</p><p>memoï¼š2025 å¹´ 3 æœˆ 17 æ—¥ä¿®æ”¹è‡³æ­¤ã€‚å·²ç»æœ‰<a href="https://javabetter.cn/zhishixingqiu/" target="_blank" rel="noopener noreferrer">çƒå‹å‘æ¥å–œæŠ¥</a>ï¼Œæš‘æœŸå®ä¹ æ‹¿åˆ°æ’ç”Ÿç”µå­çš„æš‘æœŸå®ä¹ äº†ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20250317163123.png" alt="çƒå‹æ‹¿åˆ°æ’ç”Ÿç”µå­çš„æš‘æœŸå®ä¹ äº†" tabindex="0" loading="lazy"><figcaption>çƒå‹æ‹¿åˆ°æ’ç”Ÿç”µå­çš„æš‘æœŸå®ä¹ äº†</figcaption></figure><h4 id="redo-log-buffer-æ˜¯é¡ºåºå†™è¿˜æ˜¯éšæœºå†™" tabindex="-1"><a class="header-anchor" href="#redo-log-buffer-æ˜¯é¡ºåºå†™è¿˜æ˜¯éšæœºå†™"><span>Redo Log Buffer æ˜¯é¡ºåºå†™è¿˜æ˜¯éšæœºå†™ï¼Ÿ</span></a></h4><p>MySQL åœ¨å¯åŠ¨åä¼šå‘æ“ä½œç³»ç»Ÿç”³è¯·ä¸€å—è¿ç»­çš„å†…å­˜ç©ºé—´ä½œä¸º Redo Log Bufferï¼Œå¹¶å°†å…¶åˆ†ä¸ºè‹¥å¹²ä¸ªè¿ç»­çš„ Redo Log Blockã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20250318160752.png" alt="xyZGHioï¼šRedo Log Block" tabindex="0" loading="lazy"><figcaption>xyZGHioï¼šRedo Log Block</figcaption></figure><p>é‚£ä¸ºäº†æé«˜å†™å…¥æ•ˆç‡ï¼ŒRedo Log Buffer é‡‡ç”¨äº†é¡ºåºå†™å…¥çš„æ–¹å¼ï¼Œä¼šå…ˆå¾€å‰é¢çš„ Redo Log Block ä¸­å†™å…¥ï¼Œå½“å†™æ»¡åå†å¾€åé¢çš„ Block ä¸­å†™å…¥ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20250318152808.png" alt="greatsqlï¼šredo log bufferçš„å†™å…¥" tabindex="0" loading="lazy"><figcaption>greatsqlï¼šredo log bufferçš„å†™å…¥</figcaption></figure><p>äºæ­¤åŒæ—¶ï¼ŒInnoDB è¿˜æä¾›äº†ä¸€ä¸ªå…¨å±€å˜é‡ buf_freeï¼Œæ¥æ§åˆ¶åç»­çš„ redo log è®°å½•åº”è¯¥å†™å…¥åˆ° block ä¸­çš„å“ªä¸ªä½ç½®ã€‚</p><h4 id="buf-next-to-write-äº†è§£å—" tabindex="-1"><a class="header-anchor" href="#buf-next-to-write-äº†è§£å—"><span>buf_next_to_write äº†è§£å—ï¼Ÿ</span></a></h4><p>buf_next_to_write æŒ‡å‘ Redo Log Buffer ä¸­ä¸‹ä¸€æ¬¡éœ€è¦å†™å…¥ç¡¬ç›˜çš„èµ·å§‹ä½ç½®ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20250318180850.png" alt="xyZGHioï¼šbuf_next_to_write" tabindex="0" loading="lazy"><figcaption>xyZGHioï¼šbuf_next_to_write</figcaption></figure><p>è€Œ buf_free æŒ‡å‘çš„æ˜¯ Redo Log Buffer ä¸­ç©ºé—²åŒºåŸŸçš„èµ·å§‹ä½ç½®ã€‚</p><h4 id="äº†è§£-mtr-å—" tabindex="-1"><a class="header-anchor" href="#äº†è§£-mtr-å—"><span>äº†è§£ MTR å—ï¼Ÿ</span></a></h4><p>Mini Transaction æ˜¯ InnoDB å†…éƒ¨ç”¨äºæ“ä½œæ•°æ®é¡µçš„åŸå­æ“ä½œå•å…ƒã€‚</p><div class="language-c line-numbers-mode" data-highlighter="shiki" data-ext="c" data-title="c" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">mtr_t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> mtr;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mtr_start</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&amp;</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">mtr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 1. åŠ é”</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// å¯¹å¾…è®¿é—®çš„indexåŠ é”</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mtr_s_lock</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">rw_lock_t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> mtr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mtr_x_lock</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">rw_lock_t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> mtr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// å¯¹å¾…è¯»å†™çš„pageåŠ é”</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mtr_memo_push</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">mtr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> buf_block_t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> MTR_MEMO_PAGE_S_FIX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mtr_memo_push</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">mtr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> buf_block_t</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> MTR_MEMO_PAGE_X_FIX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 2. è®¿é—®æˆ–ä¿®æ”¹page</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">btr_cur_search_to_nth_level</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">btr_cur_optimistic_insert</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 3. ä¸ºä¿®æ”¹æ“ä½œç”Ÿæˆredo</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">mlog_open</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">mlog_write_initial_log_record_fast</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">mlog_close</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 4. æŒä¹…åŒ–redoï¼Œè§£é”</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mtr_commit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">&amp;</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">mtr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¤šä¸ªäº‹åŠ¡çš„ Redo Log ä¼šä»¥ MTR ä¸ºå•ä½äº¤æ›¿å†™å…¥åˆ° Redo Log Buffer ä¸­ï¼Œå‡å¦‚äº‹åŠ¡ 1 å’Œäº‹åŠ¡ 2 å‡æœ‰ä¸¤ä¸ª MTRï¼Œä¸€æ—¦æŸä¸ª MTR ç»“æŸï¼Œå°±ä¼šå°†å…¶ç”Ÿæˆçš„è‹¥å¹²æ¡ Redo Log è®°å½•é¡ºåºå†™å…¥åˆ° Redo Log Buffer ä¸­ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20250318163110.png" alt="xyZGHioï¼šMTR ä¸ Redo Log Buffer" tabindex="0" loading="lazy"><figcaption>xyZGHioï¼šMTR ä¸ Redo Log Buffer</figcaption></figure><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€ä¸ª MTR ä¼šåŒ…å«ä¸€ç»„ Redo Log è®°å½•ï¼Œæ˜¯ MySQL å´©æºƒåæ¢å¤äº‹åŠ¡çš„æœ€å°æ‰§è¡Œå•å…ƒã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20250318163310.png" alt="xyZGHioï¼šMTR" tabindex="0" loading="lazy"><figcaption>xyZGHioï¼šMTR</figcaption></figure><h4 id="redo-log-block-çš„ç»“æ„äº†è§£å—" tabindex="-1"><a class="header-anchor" href="#redo-log-block-çš„ç»“æ„äº†è§£å—"><span>Redo Log Block çš„ç»“æ„äº†è§£å—ï¼Ÿ</span></a></h4><p>Redo Log Block ç”±æ—¥å¿—å¤´ã€æ—¥å¿—ä½“å’Œæ—¥å¿—å°¾ç»„æˆï¼Œä¸€å…±å ç”¨ 512 ä¸ªå­—èŠ‚ï¼Œå…¶ä¸­æ—¥å¿—å¤´å ç”¨ 12 ä¸ªå­—èŠ‚ï¼Œæ—¥å¿—å°¾å ç”¨ 4 ä¸ªå­—èŠ‚ï¼Œå‰©ä½™çš„ 496 ä¸ªå­—èŠ‚ç”¨äºå­˜å‚¨æ—¥å¿—ä½“ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20250318154904.png" alt="greatsqlï¼šRedo Log Block" tabindex="0" loading="lazy"><figcaption>greatsqlï¼šRedo Log Block</figcaption></figure><p>æ—¥å¿—å¤´åŒ…å«äº†å½“å‰ Block çš„åºåˆ—å·ã€ç¬¬ä¸€æ¡æ—¥å¿—çš„åºåˆ—å·ã€ç±»å‹ç­‰ä¿¡æ¯ã€‚</p><table><thead><tr><th>å­—æ®µ</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>LOG_BLOCK_HDR_NO</td><td>å½“å‰ Block çš„åºå·ï¼Œå‡å¦‚æŠŠ Redo Log Buffer çœ‹æˆä¸€ä¸ªæ•°ç»„ï¼Œé‚£ä¹ˆ LOG_BLOCK_HDR_NO å°±ç›¸å½“äº Block åœ¨ Buffer ä¸­çš„ä¸‹æ ‡ã€‚</td></tr><tr><td>LOG_BLOCK_HDR_DATA_LEN</td><td>Block å·²ä½¿ç”¨çš„å­—èŠ‚æ•°ï¼Œåˆå§‹å€¼ä¸º 12ï¼Œä¹Ÿå°±æ˜¯æ—¥å¿—å¤´çš„é•¿åº¦ï¼›å¦‚æœæ—¥å¿—ä½“è¢«å†™æ»¡ï¼Œå€¼å¢é•¿ä¸º 512ã€‚</td></tr><tr><td>LOG_BLOCK_FIRST_REC_GROUP</td><td>è¯¥ Block ä¸­ç¬¬ä¸€ä¸ª MTR èµ·å§‹å¤„çš„åç§»é‡</td></tr><tr><td>LOG_BLOCK_CHECKPOINT_NO</td><td>Block æœ€åè¢«å†™å…¥æ—¶çš„checkpoint</td></tr></tbody></table><p>æ—¥å¿—å°¾ä¸»è¦å­˜å‚¨çš„æ˜¯ LOG_BLOCK_CHECKSUMï¼Œä¹Ÿå°±æ˜¯ Block çš„æ ¡éªŒå’Œï¼Œä¸»è¦ç”¨äºåˆ¤æ–­ Block æ˜¯å¦å®Œæ•´ã€‚</p><h4 id="redo-log-block-ä¸ºä»€ä¹ˆè®¾è®¡æˆ-512-å­—èŠ‚" tabindex="-1"><a class="header-anchor" href="#redo-log-block-ä¸ºä»€ä¹ˆè®¾è®¡æˆ-512-å­—èŠ‚"><span>Redo Log Block ä¸ºä»€ä¹ˆè®¾è®¡æˆ 512 å­—èŠ‚ï¼Ÿ</span></a></h4><p>å› ä¸ºæœºæ¢°ç¡¬ç›˜çš„ç‰©ç†æ‰‡åŒºå¤§å°é€šå¸¸ä¸º 512 å­—èŠ‚ï¼ŒRedo Log Block ä¹Ÿè®¾è®¡ä¸ºåŒæ ·çš„å¤§å°ï¼Œå°±å¯ä»¥ç¡®ä¿æ¯æ¬¡å†™å…¥éƒ½æ˜¯æ•´æ•°ä¸ªæ‰‡åŒºï¼Œå‡å°‘å¯¹é½å¼€é”€ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20250318155855.png" alt="è¥¿ç»´èœ€é»ï¼šRedo Log å·¥ä½œåŸç†" tabindex="0" loading="lazy"><figcaption>è¥¿ç»´èœ€é»ï¼šRedo Log å·¥ä½œåŸç†</figcaption></figure><p>æ¯”å¦‚è¯´æ“ä½œç³»ç»Ÿçš„é¡µç¼“å­˜é»˜è®¤ä¸º 4KBï¼Œ8 ä¸ª Redo Log Block å°±å¯ä»¥ç»„åˆæˆä¸€ä¸ªé¡µç¼“å­˜å•å…ƒï¼Œä»è€Œæå‡ Redo Log Buffer çš„å†™å…¥æ•ˆç‡ã€‚</p><p>memoï¼š2025 å¹´ 3 æœˆ 18 æ—¥ä¿®æ”¹è‡³æ­¤ã€‚</p><h4 id="lsn-äº†è§£å—" tabindex="-1"><a class="header-anchor" href="#lsn-äº†è§£å—"><span>LSN äº†è§£å—ï¼Ÿ</span></a></h4><p>Log Sequence Number æ˜¯ä¸€ä¸ª 8 å­—èŠ‚çš„å•è°ƒé€’å¢æ•´æ•°ï¼Œç”¨æ¥æ ‡è¯†äº‹åŠ¡å†™å…¥ redo log çš„å­—èŠ‚æ€»é‡ï¼Œå­˜åœ¨äº redo logã€æ•°æ®é¡µå¤´éƒ¨å’Œ checkpoint ä¸­ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20250318181133.png" alt="xyZGHioï¼šLSN" tabindex="0" loading="lazy"><figcaption>xyZGHioï¼šLSN</figcaption></figure><p>----è¿™éƒ¨åˆ†æ˜¯å¸®åŠ©å¤§å®¶ç†è§£ startï¼Œé¢è¯•ä¸­å¯ä¸èƒŒ----</p><p>MySQL åœ¨ç¬¬ä¸€æ¬¡å¯åŠ¨æ—¶ï¼ŒLSN çš„åˆå§‹å€¼å¹¶ä¸ä¸º 0ï¼Œè€Œæ˜¯ 8704ï¼›å½“ MySQL å†æ¬¡å¯åŠ¨æ—¶ï¼Œä¼šç»§ç»­ä½¿ç”¨ä¸Šä¸€æ¬¡æœåŠ¡åœæ­¢æ—¶çš„ LSNã€‚</p><p>åœ¨è®¡ç®— LSN çš„å¢é‡æ—¶ï¼Œä¸ä»…éœ€è¦è€ƒè™‘ log block body çš„å¤§å°ï¼Œè¿˜éœ€è¦è€ƒè™‘ log block header å’Œ log block tail ä¸­éƒ¨åˆ†å­—èŠ‚æ•°ã€‚</p><p>æ¯”å¦‚è¯´åœ¨ä¸Šå›¾ä¸­ï¼Œäº‹åŠ¡ 3 çš„ MTR æ€»é‡ä¸º 300 å­—èŠ‚ï¼Œé‚£ä¹ˆå†™å…¥åˆ° Redo Log Buffer ä¸­çš„ LSN ä¼šå¢é•¿ä¸º 8704 + 300 + 12 = 9016ã€‚</p><p>å‡å¦‚äº‹åŠ¡ 4 çš„ MTR æ€»é‡ä¸º 900 å­—èŠ‚ï¼Œé‚£ä¹ˆå†æ¬¡å†™å…¥åˆ° Redo Log Buffer ä¸­çš„ LSN ä¼šå¢é•¿ä¸º 9016 + 900 + 12*2 + 4*2 = 9948ã€‚</p><p>2 ä¸ª 12 å­—èŠ‚çš„ log block header + 2 ä¸ª 4 å­—èŠ‚çš„ log block tailã€‚</p><p>----è¿™éƒ¨åˆ†æ˜¯å¸®åŠ©å¤§å®¶ç†è§£ endï¼Œé¢è¯•ä¸­å¯ä¸èƒŒ----</p><p>æ ¸å¿ƒä½œç”¨æœ‰ä¸‰ä¸ªï¼š</p><p>ç¬¬ä¸€ï¼Œredo log æŒ‰ç…§ LSN é€’å¢é¡ºåºè®°å½•æ‰€æœ‰æ•°æ®çš„ä¿®æ”¹æ“ä½œã€‚LSN çš„é€’å¢é‡ç­‰äºæ¯æ¬¡å†™å…¥æ—¥å¿—çš„å­—èŠ‚æ•°ã€‚</p><p>ç¬¬äºŒï¼ŒInnoDB çš„æ¯ä¸ªæ•°æ®é¡µå¤´éƒ¨ä¸­ï¼Œéƒ½ä¼šè®°å½•è¯¥é¡µæœ€åä¸€æ¬¡åˆ·æ–°åˆ°ç£ç›˜æ—¶çš„ LSNã€‚å¦‚æœæ•°æ®é¡µçš„ LSN å°äº redo log çš„ LSNï¼Œè¯´æ˜è¯¥é¡µéœ€è¦ä»æ—¥å¿—ä¸­æ¢å¤ï¼›å¦åˆ™è¯´æ˜è¯¥é¡µå·²æ›´æ–°ã€‚</p><p>ç¬¬ä¸‰ï¼Œcheckpoint é€šè¿‡ LSN è®°å½•å·²åˆ·æ–°åˆ°ç£ç›˜çš„æ•°æ®é¡µä½ç½®ï¼Œå‡å°‘æ¢å¤æ—¶éœ€è¦å¤„ç†çš„æ—¥å¿—ã€‚</p><p>----è¿™éƒ¨åˆ†æ˜¯å¸®åŠ©å¤§å®¶ç†è§£ startï¼Œé¢è¯•ä¸­å¯ä¸èƒŒ----</p><table><thead><tr><th>åœºæ™¯</th><th>LSN çš„ä½œç”¨</th></tr></thead><tbody><tr><td>ğŸ” redo log è®°å½•</td><td>æ¯æ¡ redo log å¯¹åº”ä¸€ä¸ªå”¯ä¸€çš„ LSN</td></tr><tr><td>ğŸ“„ æ•°æ®é¡µåˆ·ç›˜</td><td>æ¯ä¸ªæ•°æ®é¡µä¼šè®°å½•å½“å‰åˆ·ç›˜æ—¶çš„ LSNï¼ˆFIL_PAGE_LSNï¼‰</td></tr><tr><td>â›³ Checkpoint</td><td>è¡¨ç¤ºâ€œè„é¡µå·²ç»åˆ·ç›˜ï¼Œå¯ä»¥é‡Šæ”¾ redoâ€çš„å®‰å…¨ç‚¹</td></tr><tr><td>ğŸ’¥ å´©æºƒæ¢å¤</td><td>é‡å¯æ—¶ä» checkpoint LSN å¼€å§‹é‡æ”¾ redo log</td></tr></tbody></table><p>å¯ä»¥é€šè¿‡ <code>show engine innodb status;</code> æŸ¥çœ‹å½“å‰çš„ LSN ä¿¡æ¯ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20250319161213.png" alt="äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šLSN" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šLSN</figcaption></figure><ul><li>Log sequence numberï¼šå½“å‰ç³»ç»Ÿæœ€å¤§ LSNï¼ˆå·²ç”Ÿæˆçš„æ—¥å¿—æ€»é‡ï¼‰ã€‚</li><li>Log flushed up toï¼šå·²å†™å…¥ç£ç›˜çš„ redo log LSNã€‚</li><li>Pages flushed up toï¼šå·²åˆ·æ–°åˆ°æ•°æ®é¡µçš„ LSNã€‚</li><li>Last checkpoint atï¼šæœ€åä¸€æ¬¡æ£€æŸ¥ç‚¹çš„ LSNï¼Œè¡¨ç¤ºå·²æŒä¹…åŒ–çš„æ•°æ®çŠ¶æ€ã€‚</li></ul><p>----è¿™éƒ¨åˆ†æ˜¯å¸®åŠ©å¤§å®¶ç†è§£ endï¼Œé¢è¯•ä¸­å¯ä¸èƒŒ----</p><p>memoï¼š2025 å¹´ 3 æœˆ 19 æ—¥ä¿®æ”¹è‡³æ­¤ã€‚ä»Šå¤©æœ‰è¯»è€…é—®æ€ä¹ˆä»˜è´¹è´­ä¹°çº¸è´¨ç‰ˆ<a href="https://javabetter.cn/sidebar/sanfene/nixi.html" target="_blank" rel="noopener noreferrer">é¢æ¸£é€†è¢­</a>ï¼Œè¯´çœ‹åˆ°ç½‘å‹æœ‰è¿™ä¸ªï¼Œå¥½ç¾¡æ…•å•Šã€‚è¯´å®è¯ï¼Œç¬¬ä¸€çœ¼çœ‹åˆ°è¿™ä¸ªå°é¢ï¼ŒçœŸçš„è§‰å¾—æŒºæƒŠè‰³ï¼ˆè™½ç„¶æ˜¯æˆ‘è®¾è®¡çš„ï¼‰ã€‚ğŸ˜„</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20250319163123.png" alt="è¯»è€…å·²ç»æŠŠé¢æ¸£é€†è¢­å½©å°äº†ï¼Œå¥½æ¼‚äº®å•Š" tabindex="0" loading="lazy"><figcaption>è¯»è€…å·²ç»æŠŠé¢æ¸£é€†è¢­å½©å°äº†ï¼Œå¥½æ¼‚äº®å•Š</figcaption></figure><h4 id="checkpoint-äº†è§£å¤šå°‘" tabindex="-1"><a class="header-anchor" href="#checkpoint-äº†è§£å¤šå°‘"><span>Checkpoint äº†è§£å¤šå°‘ï¼Ÿ</span></a></h4><p>Checkpoint æ˜¯ InnoDB ä¸ºäº†ä¿è¯äº‹åŠ¡æŒä¹…æ€§å’Œå›æ”¶ redo log ç©ºé—´çš„ä¸€ç§æœºåˆ¶ã€‚</p><p>å®ƒçš„ä½œç”¨æ˜¯åœ¨åˆé€‚çš„æ—¶æœºå°†éƒ¨åˆ†è„é¡µåˆ·å…¥ç£ç›˜ï¼Œæ¯”å¦‚è¯´ buffer pool çš„å®¹é‡ä¸è¶³æ—¶ã€‚å¹¶è®°å½•å½“å‰ LSN ä¸º Checkpoint LSNï¼Œè¡¨ç¤ºè¿™ä¸ªä½ç½®ä¹‹å‰çš„ redo log file å·²ç»å®‰å…¨ï¼Œå¯ä»¥è¢«è¦†ç›–äº†ã€‚</p><p>MySQL å´©æºƒæ¢å¤æ—¶åªéœ€è¦ä» Checkpoint ä¹‹åå¼€å§‹æ¢å¤ redo log å°±å¯ä»¥äº†ï¼Œè¿™æ ·å¯ä»¥æœ€å¤§ç¨‹åº¦å‡å°‘æ¢å¤æ‰€èŠ±è´¹çš„æ—¶é—´ã€‚</p><p>redo log file çš„å†™å…¥æ˜¯å¾ªç¯çš„ï¼Œå…¶ä¸­æœ‰ä¸¤ä¸ªæ ‡è®°ä½ç½®éå¸¸é‡è¦ï¼Œä¹Ÿå°±æ˜¯ Checkpoint å’Œ write posã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-8d944e76-89ba-4fa6-9066-64ff4f55b532.jpg" alt="ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šcheckpoint å’Œ write pos" tabindex="0" loading="lazy"><figcaption>ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šcheckpoint å’Œ write pos</figcaption></figure><p>write pos æ˜¯ redo log å½“å‰å†™å…¥çš„ä½ç½®ï¼ŒCheckpoint æ˜¯å¯ä»¥è¢«è¦†ç›–çš„ä½ç½®ã€‚</p><p>å½“ write pos è¿½ä¸Š Checkpoint æ—¶ï¼Œè¡¨ç¤º redo log æ—¥å¿—å·²ç»å†™æ»¡ã€‚è¿™æ—¶å€™å°±è¦æš‚åœå†™å…¥å¹¶å¼ºåˆ¶åˆ·ç›˜ï¼Œé‡Šæ”¾å¯è¦†å†™çš„æ—¥å¿—ç©ºé—´ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-31a14149-b261-45d9-bd3b-6afaec16e136.jpg" alt="ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šwrite pos å’Œ checkpoint" tabindex="0" loading="lazy"><figcaption>ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šwrite pos å’Œ checkpoint</figcaption></figure><h4 id="å…³äºredo-log-çš„è°ƒä¼˜å‚æ•°äº†è§£å¤šå°‘" tabindex="-1"><a class="header-anchor" href="#å…³äºredo-log-çš„è°ƒä¼˜å‚æ•°äº†è§£å¤šå°‘"><span>å…³äºredo log çš„è°ƒä¼˜å‚æ•°äº†è§£å¤šå°‘ï¼Ÿ</span></a></h4><p>å¦‚æœæ˜¯é«˜å¹¶å‘å†™å…¥çš„ç”µå•†ç³»ç»Ÿï¼Œå¯ä»¥æœ€å¤§åŒ–å†™å…¥ååé‡ï¼Œå®¹å¿ç§’çº§æ•°æ®ä¸¢å¤±çš„é£é™©ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">innodb_flush_log_at_trx_commit </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">sync_binlog </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1000</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">innodb_redo_log_capacity </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 64G</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">innodb_io_capacity </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 5000</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">innodb_lru_scan_depth </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 512</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">innodb_log_buffer_size </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 256M</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœæ˜¯é‡‘èäº¤æ˜“ç³»ç»Ÿï¼Œéœ€è¦ä¿è¯æ•°æ®é›¶ä¸¢å¤±ï¼Œæ¥å—è¾ƒä½çš„ååé‡ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">innodb_flush_log_at_trx_commit </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">sync_binlog </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">innodb_redo_log_capacity </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 32G</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">innodb_io_capacity </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2000</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">innodb_lru_scan_depth </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1024</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ ¸å¿ƒå‚æ•°ä¸€è§ˆè¡¨ï¼š</p><table><thead><tr><th>å‚æ•°å</th><th>æ§åˆ¶å†…å®¹</th><th>å½±å“ç‚¹</th></tr></thead><tbody><tr><td>innodb_log_file_size</td><td>æ¯ä¸ª redo log æ–‡ä»¶å¤§å°</td><td>æ€» redo ç©ºé—´ã€æ¢å¤æ—¶é—´</td></tr><tr><td>innodb_log_files_in_group</td><td>redo log æ–‡ä»¶ä¸ªæ•°</td><td>é…åˆæ–‡ä»¶å¤§å°å†³å®šæ€»å®¹é‡</td></tr><tr><td>innodb_log_buffer_size</td><td>redo log buffer ç¼“å†²åŒºå¤§å°</td><td>æ˜¯å¦é¢‘ç¹åˆ·ç›˜ã€å†™å…¥æ€§èƒ½</td></tr><tr><td>innodb_flush_log_at_trx_commit</td><td>redo åˆ·ç›˜ç­–ç•¥</td><td>å®‰å…¨æ€§ vs TPS</td></tr><tr><td>innodb_max_dirty_pages_pct</td><td>è„é¡µæ¯”ä¾‹é˜ˆå€¼</td><td>ä½•æ—¶è§¦å‘åˆ·ç›˜ / Checkpoint</td></tr><tr><td>innodb_io_capacity</td><td>åå°åˆ·ç›˜é€Ÿåº¦</td><td>é™åˆ¶ checkpoint åˆ·ç›˜å‹åŠ›</td></tr></tbody></table><p>æ€»ç»“ï¼š</p><ul><li>å¯¹æ•°æ®ä¸€è‡´æ€§è¦æ±‚é«˜çš„åœºæ™¯ï¼Œå¦‚é‡‘èäº¤æ˜“ä½¿ç”¨<code>innodb_flush_log_at_trx_commit=1</code>ï¼Œå¯¹å†™å…¥ååé‡æ•æ„Ÿçš„åœºæ™¯ï¼Œå¦‚æ—¥å¿—é‡‡é›†å¯ä»¥ä½¿ç”¨ =2 æˆ– =0ï¼Œéœ€è¦ç»“åˆ sync_binlog å‚æ•°</li><li>sync_binlog å‚æ•°æ§åˆ¶ binlog çš„åˆ·ç›˜ç­–ç•¥ï¼Œå¯ä»¥è®¾ç½®ä¸º 0ã€1ã€Nï¼Œ0 è¡¨ç¤ºä¾èµ–ç³»ç»Ÿåˆ·ç›˜ï¼Œ1 è¡¨ç¤ºæ¯æ¬¡äº‹åŠ¡æäº¤éƒ½åˆ·ç›˜ï¼ˆæ¨èä¸ <code>innodb_flush_log_at_trx_commit=1</code> æ­é…ï¼‰ï¼ŒN=1000 è¡¨ç¤ºç´¯è®¡ 1000 æ¬¡äº‹åŠ¡ååˆ·ç›˜</li><li>innodb_redo_log_capacity åŠ¨æ€è°ƒæ•´ Redo Log æ€»å®¹é‡ï¼Œå¯ä»¥æ ¹æ®ä¸šåŠ¡è´Ÿè½½æƒ…å†µè°ƒæ•´ï¼Œå»ºè®®è®¾ç½®ä¸º 1 å°æ—¶å†™å…¥é‡çš„å³°å€¼ï¼ˆå¦‚æ¯ç§’ 10MB å†™å…¥åˆ™è®¾ä¸º 36GBï¼‰</li><li>innodb_io_capacity å®šä¹‰ InnoDB åå°çº¿ç¨‹çš„æ¯ç§’ I/O æ“ä½œä¸Šé™ï¼Œç›´æ¥å½±å“è„é¡µåˆ·æ–°é€Ÿç‡ï¼›æœºæ¢°ç¡¬ç›˜å»ºè®® 200-500ï¼ŒSSD å»ºè®® 1000-2000ï¼ŒNVMe SSD å¯è®¾ä¸º 5000+</li><li>innodb_lru_scan_depth æ§åˆ¶æ¯ä¸ªç¼“å†²æ± å®ä¾‹ä¸­ LRU åˆ—è¡¨çš„æ‰«ææ·±åº¦ï¼Œå†³å®šæ¯ç§’å¯åˆ·æ–°çš„è„é¡µæ•°é‡ï¼Œé»˜è®¤å€¼ 1024 é€‚ç”¨äºå¤šæ•°åœºæ™¯ï¼ŒI/O å¯†é›†å‹è´Ÿè½½å¯é€‚å½“é™ä½ï¼ˆå¦‚ 512ï¼‰ï¼Œå‡å°‘ CPU å¼€é”€ã€‚</li></ul><!----><p>memoï¼š2025 å¹´ 3 æœˆ 20 æ—¥ä¿®æ”¹è‡³æ­¤ã€‚<a href="https://javabetter.cn/zhishixingqiu/" target="_blank" rel="noopener noreferrer">æœ‰çƒå‹</a>æŠ¥å–œè¯´æ‹¿åˆ°äº†æ»´æ»´çš„æµ‹å¼€å®ä¹  offerï¼Œæ­å–œæ­å–œï¼</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20250320163641.png" alt="çƒå‹æ‹¿åˆ°äº†æ»´æ»´çš„æµ‹å¼€å®ä¹  offer" tabindex="0" loading="lazy"><figcaption>çƒå‹æ‹¿åˆ°äº†æ»´æ»´çš„æµ‹å¼€å®ä¹  offer</figcaption></figure><h2 id="sql-ä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#sql-ä¼˜åŒ–"><span>SQL ä¼˜åŒ–</span></a></h2><h3 id="ğŸŒŸ32-ä»€ä¹ˆæ˜¯æ…¢-sql" tabindex="-1"><a class="header-anchor" href="#ğŸŒŸ32-ä»€ä¹ˆæ˜¯æ…¢-sql"><span>ğŸŒŸ32.ä»€ä¹ˆæ˜¯æ…¢ SQLï¼Ÿ</span></a></h3><p>æ¨èé˜…è¯»ï¼š<a href="https://juejin.cn/post/7048974570228809741" target="_blank" rel="noopener noreferrer">æ…¢ SQL ä¼˜åŒ–ä¸€ç‚¹å°æ€è·¯</a></p><p>MySQL ä¸­æœ‰ä¸€ä¸ªå« long_query_time çš„å‚æ•°ï¼ŒåŸåˆ™ä¸Šæ‰§è¡Œæ—¶é—´è¶…è¿‡è¯¥å‚æ•°å€¼çš„ SQL å°±æ˜¯æ…¢ SQLï¼Œä¼šè¢«è®°å½•åˆ°æ…¢æŸ¥è¯¢æ—¥å¿—ä¸­ã€‚</p><p>----è¿™éƒ¨åˆ†æ˜¯å¸®åŠ©å¤§å®¶ç†è§£ startï¼Œé¢è¯•ä¸­å¯ä¸èƒŒ----</p><p>å¯é€šè¿‡ <code>show variables like &#39;long_query_time&#39;;</code> æŸ¥çœ‹å½“å‰çš„ long_query_time çš„å‚æ•°å€¼ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240327083506.png" alt="äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šlong_query_time" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šlong_query_time</figcaption></figure><p>----è¿™éƒ¨åˆ†æ˜¯å¸®åŠ©å¤§å®¶ç†è§£ endï¼Œé¢è¯•ä¸­å¯ä¸èƒŒ----</p><h4 id="sql-çš„æ‰§è¡Œè¿‡ç¨‹äº†è§£å—" tabindex="-1"><a class="header-anchor" href="#sql-çš„æ‰§è¡Œè¿‡ç¨‹äº†è§£å—"><span>SQL çš„æ‰§è¡Œè¿‡ç¨‹äº†è§£å—ï¼Ÿ</span></a></h4><p>äº†è§£ã€‚</p><p>SQL çš„æ‰§è¡Œè¿‡ç¨‹å¤§è‡´å¯ä»¥åˆ†ä¸ºå…­ä¸ªé˜¶æ®µï¼šè¿æ¥ç®¡ç†ã€è¯­æ³•è§£æã€è¯­ä¹‰åˆ†æã€æŸ¥è¯¢ä¼˜åŒ–ã€æ‰§è¡Œå™¨è°ƒåº¦ã€å­˜å‚¨å¼•æ“è¯»å†™ç­‰ã€‚Server å±‚è´Ÿè´£ç†è§£å’Œè§„åˆ’ SQL æ€ä¹ˆæ‰§è¡Œï¼Œå­˜å‚¨å¼•æ“å±‚è´Ÿè´£æ•°æ®çš„çœŸæ­£è¯»å†™ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240327083838.png" alt="ä¸‰ä¸ªçŒªçš®åŒ ï¼šSQL æ‰§è¡Œè¿‡ç¨‹" tabindex="0" loading="lazy"><figcaption>ä¸‰ä¸ªçŒªçš®åŒ ï¼šSQL æ‰§è¡Œè¿‡ç¨‹</figcaption></figure><p>----è¿™éƒ¨åˆ†æ˜¯å¸®åŠ©å¤§å®¶ç†è§£ startï¼Œé¢è¯•ä¸­å¯ä¸èƒŒ----</p><p>æ¥è¯¦ç»†æ‹†è§£ä¸€ä¸‹ï¼š</p><ol><li>å®¢æˆ·ç«¯å‘é€ SQL è¯­å¥ç»™ MySQL æœåŠ¡å™¨ã€‚</li><li>å¦‚æœæŸ¥è¯¢ç¼“å­˜æ‰“å¼€åˆ™ä¼šä¼˜å…ˆæŸ¥è¯¢ç¼“å­˜ï¼Œç¼“å­˜ä¸­æœ‰å¯¹åº”çš„ç»“æœå°±ç›´æ¥è¿”å›ã€‚ä¸è¿‡ï¼ŒMySQL 8.0 å·²ç»ç§»é™¤äº†æŸ¥è¯¢ç¼“å­˜ã€‚è¿™éƒ¨åˆ†çš„åŠŸèƒ½æ­£åœ¨è¢« Redis ç­‰ç¼“å­˜ä¸­é—´ä»¶å–ä»£ã€‚</li><li>åˆ†æå™¨å¯¹ SQL è¯­å¥è¿›è¡Œè¯­æ³•åˆ†æï¼Œåˆ¤æ–­æ˜¯å¦æœ‰è¯­æ³•é”™è¯¯ã€‚</li><li>ææ¸…æ¥š SQL è¯­å¥è¦å¹²å˜›åï¼ŒMySQL ä¼šé€šè¿‡ä¼˜åŒ–å™¨ç”Ÿæˆæ‰§è¡Œè®¡åˆ’ã€‚</li><li>æ‰§è¡Œå™¨è°ƒç”¨å­˜å‚¨å¼•æ“çš„æ¥å£ï¼Œæ‰§è¡Œ SQL è¯­å¥ã€‚</li></ol><p>SQL æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œä¼˜åŒ–å™¨é€šè¿‡æˆæœ¬è®¡ç®—é¢„ä¼°å‡ºæ‰§è¡Œæ•ˆç‡æœ€é«˜çš„æ–¹å¼ï¼ŒåŸºæœ¬çš„é¢„ä¼°ç»´åº¦ä¸ºï¼š</p><ul><li>IO æˆæœ¬ï¼šä»ç£ç›˜è¯»å–æ•°æ®åˆ°å†…å­˜çš„å¼€é”€ã€‚</li><li>CPU æˆæœ¬ï¼šCPU å¤„ç†å†…å­˜ä¸­æ•°æ®çš„å¼€é”€ã€‚</li></ul><p>åŸºäºè¿™ä¸¤ä¸ªç»´åº¦ï¼Œå¯ä»¥å¾—å‡ºå½±å“ SQL æ‰§è¡Œæ•ˆç‡çš„å› ç´ æœ‰ï¼š</p><p><strong>â‘ ã€IO æˆæœ¬</strong>ï¼Œæ•°æ®é‡è¶Šå¤§ï¼ŒIO æˆæœ¬è¶Šé«˜ã€‚æ‰€ä»¥è¦å°½é‡æŸ¥è¯¢å¿…è¦çš„å­—æ®µï¼›å°½é‡åˆ†é¡µæŸ¥è¯¢ï¼›å°½é‡é€šè¿‡ç´¢å¼•åŠ å¿«æŸ¥è¯¢ã€‚</p><p><strong>â‘¡ã€CPU æˆæœ¬</strong>ï¼Œå°½é‡é¿å…å¤æ‚çš„æŸ¥è¯¢æ¡ä»¶ï¼Œå¦‚æœ‰å¿…è¦ï¼Œè€ƒè™‘å¯¹å­æŸ¥è¯¢ç»“æœè¿›è¡Œè¿‡æ»¤ã€‚</p><p>----è¿™éƒ¨åˆ†æ˜¯å¸®åŠ©å¤§å®¶ç†è§£ endï¼Œé¢è¯•ä¸­å¯ä¸èƒŒ----</p><h4 id="å¦‚ä½•ä¼˜åŒ–æ…¢-sql-å‘¢" tabindex="-1"><a class="header-anchor" href="#å¦‚ä½•ä¼˜åŒ–æ…¢-sql-å‘¢"><span>å¦‚ä½•ä¼˜åŒ–æ…¢ SQL å‘¢ï¼Ÿ</span></a></h4><p>é¦–å…ˆï¼Œéœ€è¦æ‰¾åˆ°é‚£äº›æ¯”è¾ƒæ…¢çš„ SQLï¼Œå¯ä»¥é€šè¿‡å¯ç”¨æ…¢æŸ¥è¯¢æ—¥å¿—ï¼Œè®°å½•é‚£äº›è¶…è¿‡æŒ‡å®šæ‰§è¡Œæ—¶é—´çš„ SQL æŸ¥è¯¢ã€‚</p><p>ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>show processlist;</code> å‘½ä»¤æŸ¥çœ‹å½“å‰æ­£åœ¨æ‰§è¡Œçš„ SQL è¯­å¥ï¼Œæ‰¾å‡ºæ‰§è¡Œæ—¶é—´è¾ƒé•¿çš„ SQLã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20241115145204.png" alt="äºŒå“¥çš„java è¿›é˜¶ä¹‹è·¯ï¼šæŠ€æœ¯æ´¾å½“å‰æ­£åœ¨æ‰§è¡Œçš„ sql" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„java è¿›é˜¶ä¹‹è·¯ï¼šæŠ€æœ¯æ´¾å½“å‰æ­£åœ¨æ‰§è¡Œçš„ sql</figcaption></figure><p>æˆ–è€…åœ¨ä¸šåŠ¡åŸºå»ºä¸­åŠ å…¥å¯¹æ…¢ SQL çš„ç›‘æ§ï¼Œå¸¸è§çš„æ–¹æ¡ˆæœ‰å­—èŠ‚ç æ’æ¡©ã€è¿æ¥æ± æ‰©å±•ã€ORM æ¡†æ¶æ‰©å±•ç­‰ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20241115145401.png" alt="äºŒå“¥çš„Java è¿›é˜¶ä¹‹è·¯ï¼šæŠ€æœ¯æ´¾ä¼šåœ¨æ—¥å¿—ä¸­è®°å½•è¯·æ±‚çš„æ‰§è¡Œæ—¶é—´" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„Java è¿›é˜¶ä¹‹è·¯ï¼šæŠ€æœ¯æ´¾ä¼šåœ¨æ—¥å¿—ä¸­è®°å½•è¯·æ±‚çš„æ‰§è¡Œæ—¶é—´</figcaption></figure><p>ç„¶åï¼Œä½¿ç”¨ EXPLAIN æŸ¥çœ‹æ…¢ SQL çš„æ‰§è¡Œè®¡åˆ’ï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰ç”¨ç´¢å¼•ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œæ…¢ SQL çš„åŸå› éƒ½æ˜¯å› ä¸ºæ²¡æœ‰ç”¨åˆ°ç´¢å¼•ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">EXPLAIN </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> your_table </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> conditions;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>æœ€åï¼Œæ ¹æ®åˆ†æç»“æœï¼Œé€šè¿‡æ·»åŠ ç´¢å¼•ã€ä¼˜åŒ–æŸ¥è¯¢æ¡ä»¶ã€å‡å°‘è¿”å›å­—æ®µç­‰æ–¹å¼è¿›è¡Œä¼˜åŒ–ã€‚</p><h4 id="æ…¢sqlæ—¥å¿—æ€ä¹ˆå¼€å¯" tabindex="-1"><a class="header-anchor" href="#æ…¢sqlæ—¥å¿—æ€ä¹ˆå¼€å¯"><span>æ…¢sqlæ—¥å¿—æ€ä¹ˆå¼€å¯ï¼Ÿ</span></a></h4><p>ç¼–è¾‘ MySQL çš„é…ç½®æ–‡ä»¶ my.cnfï¼Œè®¾ç½® slow_query_log å‚æ•°ä¸º 1ã€‚</p><div class="language-ini line-numbers-mode" data-highlighter="shiki" data-ext="ini" data-title="ini" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">[mysqld]</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">slow_query_log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;"> 1</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">slow_query_log_file</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;"> /var/log/mysql/slow.log</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">long_query_time</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;"> 2  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># è®°å½•æ‰§è¡Œæ—¶é—´è¶…è¿‡2ç§’çš„æŸ¥è¯¢</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åé‡å¯ MySQL å°±å¥½äº†ã€‚</p><p>ä¹Ÿå¯ä»¥é€šè¿‡ set global å‘½ä»¤åŠ¨æ€è®¾ç½®ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SET</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> GLOBAL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> slow_query_log </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;ON&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SET</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> GLOBAL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> slow_query_log_file </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;/var/log/mysql/slow.log&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SET</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> GLOBAL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> long_query_time </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„è…¾è®¯äº‘æ™ºé¢ç»åŒå­¦ 16 ä¸€é¢é¢è¯•åŸé¢˜ï¼šåœºæ™¯é¢˜ï¼šsql æŸ¥è¯¢å¾ˆæ…¢æ€ä¹ˆæ’æŸ¥</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å¿«æ‰‹é¢ç»åŒå­¦ 5 é¢è¯•åŸé¢˜ï¼šæ…¢sqlæ—¥å¿—æ€ä¹ˆå¼€å¯ï¼Ÿ</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„ç¾å›¢é¢ç»åŒå­¦ 3 Java åç«¯æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šå¦‚ä½•åˆ¤æ–­sqlçš„æ•ˆç‡ï¼Œæ€æ ·æ’æŸ¥æ•ˆç‡æ¯”è¾ƒä½çš„sql</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„ä½œä¸šå¸®é¢ç»åŒå­¦ 1 Java åç«¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šmysqlä¸­å¦‚ä½•å®šä½æ…¢æŸ¥è¯¢</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„åŒå­¦ 1 è´å£³æ‰¾æˆ¿åç«¯æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šæ…¢æŸ¥è¯¢æ€ä¹ˆåˆ†æ</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„è…¾è®¯é¢ç»åŒå­¦ 27 äº‘åå°æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šå¦‚ä½•ä¼˜åŒ–æ…¢æŸ¥è¯¢è¯­å¥ï¼Ÿ</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„è™¾çš®é¢ç»åŒå­¦ 13 ä¸€é¢é¢è¯•åŸé¢˜ï¼šmysqlæ…¢æŸ¥è¯¢</li></ol></blockquote><p>memoï¼š2025 å¹´ 3 æœˆ 21 æ—¥ä¿®æ”¹è‡³æ­¤ã€‚ä»Šå¤©<a href="https://javabetter.cn/zhishixingqiu/" target="_blank" rel="noopener noreferrer">æœ‰çƒå‹æŠ¥å–œ</a>è¯´æ‹¿åˆ°äº† wxg çš„å®ä¹  offerï¼Œé˜¿é‡Œäº‘å’Œç¾å›¢ä¹Ÿåœ¨è¿›è¡Œå½“ä¸­ï¼ŒçœŸçš„ tqlã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20250321155611.png" alt="çƒå‹æŠ¥å–œè¯´æ‹¿åˆ°äº† wxg çš„å®ä¹  offer" tabindex="0" loading="lazy"><figcaption>çƒå‹æŠ¥å–œè¯´æ‹¿åˆ°äº† wxg çš„å®ä¹  offer</figcaption></figure><h3 id="ğŸŒŸ33-ä½ çŸ¥é“å“ªäº›æ–¹æ³•æ¥ä¼˜åŒ–-sql" tabindex="-1"><a class="header-anchor" href="#ğŸŒŸ33-ä½ çŸ¥é“å“ªäº›æ–¹æ³•æ¥ä¼˜åŒ–-sql"><span>ğŸŒŸ33.ä½ çŸ¥é“å“ªäº›æ–¹æ³•æ¥ä¼˜åŒ– SQLï¼Ÿ</span></a></h3><p>SQL ä¼˜åŒ–çš„æ–¹æ³•éå¸¸å¤šï¼Œä½†æœ¬è´¨ä¸Šå°±ä¸€å¥è¯ï¼šå°½å¯èƒ½å°‘åœ°æ‰«æã€å°½å¿«åœ°è¿”å›ç»“æœã€‚</p><p>æœ€å¸¸è§çš„åšæ³•å°±æ˜¯åŠ ç´¢å¼•ã€æ”¹å†™ SQL è®©å®ƒç”¨ä¸Šç´¢å¼•ï¼Œæ¯”å¦‚è¯´ä½¿ç”¨ç´¢å¼•è¦†ç›–ã€è®©è”åˆç´¢å¼•éµå®ˆæœ€å·¦å‰ç¼€åŸåˆ™ç­‰ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240327104050.png" alt="æ²‰é»˜ç‹äºŒï¼šSQL ä¼˜åŒ–" tabindex="0" loading="lazy"><figcaption>æ²‰é»˜ç‹äºŒï¼šSQL ä¼˜åŒ–</figcaption></figure><h4 id="å¦‚ä½•åˆ©ç”¨ç´¢å¼•è¦†ç›–" tabindex="-1"><a class="header-anchor" href="#å¦‚ä½•åˆ©ç”¨ç´¢å¼•è¦†ç›–"><span>å¦‚ä½•åˆ©ç”¨ç´¢å¼•è¦†ç›–ï¼Ÿ</span></a></h4><p>ç´¢å¼•è¦†ç›–çš„æ ¸å¿ƒæ˜¯â€œæŸ¥è¯¢æ‰€éœ€çš„å­—æ®µéƒ½åœ¨åŒä¸€ä¸ªç´¢å¼•é‡Œâ€ï¼Œè¿™æ · MySQL å°±ä¸éœ€è¦å›è¡¨ï¼Œç›´æ¥ä»ç´¢å¼•ä¸­è¿”å›ç»“æœã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20250322095940.png" alt="æ¢¦é‡ŒèŠ±ã€‚ï¼šå›è¡¨" tabindex="0" loading="lazy"><figcaption>æ¢¦é‡ŒèŠ±ã€‚ï¼šå›è¡¨</figcaption></figure><p>å®é™…ä½¿ç”¨ä¸­ï¼Œæˆ‘ä¼šä¼˜å…ˆè€ƒè™‘æŠŠ WHERE å’Œ SELECT æ¶‰åŠçš„å­—æ®µä¸€èµ·å»ºè”åˆç´¢å¼•ï¼Œå¹¶é€šè¿‡ EXPLAIN è§‚å¯Ÿç»“æœæ˜¯å¦æœ‰ Using indexï¼Œç¡®è®¤å‘½ä¸­ç´¢å¼•ã€‚</p><p>----è¿™éƒ¨åˆ†æ˜¯å¸®åŠ©å¤§å®¶ç†è§£ startï¼Œé¢è¯•ä¸­å¯ä¸èƒŒ----</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œç°åœ¨è¦ä» test è¡¨ä¸­æŸ¥è¯¢ city ä¸ºä¸Šæµ·çš„ name å­—æ®µã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">Â name</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">Â from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Â testÂ </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Â city</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;ä¸Šæµ·&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>å¦‚æœä»…åœ¨ city å­—æ®µä¸Šæ·»åŠ ç´¢å¼•ï¼Œé‚£ä¹ˆè¿™æ¡æŸ¥è¯¢è¯­å¥ä¼šå…ˆé€šè¿‡ç´¢å¼•æ‰¾åˆ° city ä¸ºä¸Šæµ·çš„è¡Œï¼Œç„¶åå†å›è¡¨æŸ¥è¯¢ name å­—æ®µã€‚</p><p>ä¸ºäº†é¿å…å›è¡¨æŸ¥è¯¢ï¼Œå¯ä»¥åœ¨ city å’Œ name å­—æ®µä¸Šå»ºç«‹è”åˆç´¢å¼•ï¼Œè¿™æ ·æŸ¥è¯¢ç»“æœå°±å¯ä»¥ç›´æ¥ä»ç´¢å¼•ä¸­è·å–ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">alter</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">Â table</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Â testÂ </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">add</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">Â index</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Â index1(city,</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>----è¿™éƒ¨åˆ†æ˜¯å¸®åŠ©å¤§å®¶ç†è§£ endï¼Œé¢è¯•ä¸­å¯ä¸èƒŒ----</p><h4 id="å¦‚ä½•æ­£ç¡®ä½¿ç”¨è”åˆç´¢å¼•" tabindex="-1"><a class="header-anchor" href="#å¦‚ä½•æ­£ç¡®ä½¿ç”¨è”åˆç´¢å¼•"><span>å¦‚ä½•æ­£ç¡®ä½¿ç”¨è”åˆç´¢å¼•ï¼Ÿ</span></a></h4><p>ä½¿ç”¨è”åˆç´¢å¼•æœ€é‡è¦çš„ä¸€æ¡æ˜¯éµå®ˆæœ€å·¦å‰ç¼€åŸåˆ™ï¼Œä¹Ÿå°±æ˜¯æŸ¥è¯¢æ¡ä»¶éœ€è¦ä»ç´¢å¼•çš„å·¦ä¾§å­—æ®µå¼€å§‹ã€‚</p><p>----è¿™éƒ¨åˆ†æ˜¯å¸®åŠ©å¤§å®¶ç†è§£ startï¼Œé¢è¯•ä¸­å¯ä¸èƒŒ----</p><p>æ¯”å¦‚è¯´æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªä¸‰åˆ—çš„è”åˆç´¢å¼•ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> INDEX</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> idx_name_age_sex</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> ON</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> user(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, age, sex);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ä»€ä¹ˆæ ·çš„æŸ¥è¯¢æ¡ä»¶å¯ä»¥ç”¨åˆ°è¿™ä¸ªç´¢å¼•ï¼š</p><table><thead><tr><th>æŸ¥è¯¢æ¡ä»¶</th><th>èƒ½å¦ç”¨ä¸Š idx_name_age_sexï¼Ÿ</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>WHERE name = &#39;itwanger&#39;</td><td>âœ… å¯ä»¥</td><td>åŒ¹é…ç¬¬ä¸€åˆ—ï¼Œå‘½ä¸­ç´¢å¼•</td></tr><tr><td>WHERE name = &#39;itwanger&#39; AND age=20</td><td>âœ… å¯ä»¥</td><td>åŒ¹é…å‰ä¸¤åˆ—ï¼Œå‘½ä¸­ç´¢å¼•</td></tr><tr><td>WHERE age = 20</td><td>âŒ ä¸è¡Œ</td><td>ç¬¬ä¸€åˆ—æ²¡ç”¨ä¸Šï¼Œç´¢å¼•å¤±æ•ˆ</td></tr><tr><td>WHERE name=&#39;itwanger&#39; AND sex=&#39;å¥³&#39;</td><td>âœ… éƒ¨åˆ†å¯ç”¨ï¼ˆåªç”¨å‰ä¸€åˆ—ï¼‰</td><td>age è¢«è·³è¿‡ï¼Œåé¢çš„åˆ—æ— æ³•ä½¿ç”¨</td></tr><tr><td>WHERE name LIKE &#39;it%&#39;</td><td>âœ… å¯ä»¥ï¼ˆå‰ç¼€åŒ¹é…ï¼‰</td><td>name æ˜¯å‰ç¼€åŒ¹é…ï¼Œä¸å½±å“ä½¿ç”¨</td></tr><tr><td>WHERE name LIKE &#39;%wanger%&#39;</td><td>âŒ ä¸è¡Œ</td><td>é€šé…ç¬¦åœ¨å‰ï¼Œä¸èƒ½ç”¨ç´¢å¼•</td></tr></tbody></table><p>----è¿™éƒ¨åˆ†æ˜¯å¸®åŠ©å¤§å®¶ç†è§£ endï¼Œé¢è¯•ä¸­å¯ä¸èƒŒ----</p><h4 id="å¦‚ä½•è¿›è¡Œåˆ†é¡µä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#å¦‚ä½•è¿›è¡Œåˆ†é¡µä¼˜åŒ–"><span>å¦‚ä½•è¿›è¡Œåˆ†é¡µä¼˜åŒ–ï¼Ÿ</span></a></h4><p>åˆ†é¡µä¼˜åŒ–çš„æ ¸å¿ƒæ˜¯é¿å…æ·±åº¦åç§»å¸¦æ¥çš„å…¨è¡¨æ‰«æï¼Œå¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼æ¥ä¼˜åŒ–ï¼šå»¶è¿Ÿå…³è”å’Œæ·»åŠ ä¹¦ç­¾ã€‚</p><p>å»¶è¿Ÿå…³è”é€‚ç”¨äºéœ€è¦ä»å¤šä¸ªè¡¨ä¸­è·å–æ•°æ®ä¸”ä¸»è¡¨è¡Œæ•°è¾ƒå¤šçš„æƒ…å†µã€‚å®ƒé¦–å…ˆä»ç´¢å¼•è¡¨ä¸­æ£€ç´¢å‡ºéœ€è¦çš„è¡Œ IDï¼Œç„¶åå†æ ¹æ®è¿™äº› ID å»å…³è”å…¶ä»–çš„è¡¨è·å–è¯¦ç»†ä¿¡æ¯ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">details</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employees e</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">JOIN</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> department d </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">ON</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">department_id</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> d</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">id</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">ORDER BY</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">id</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">LIMIT</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1000</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">20</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å»¶è¿Ÿå…³è”åï¼Œç¬¬ä¸€æ­¥åªæŸ¥ä¸»é”®ï¼Œé€Ÿåº¦å¿«ï¼Œç¬¬äºŒæ­¥åªå¤„ç† 20 æ¡æ•°æ®ï¼Œæ•ˆç‡é«˜ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">d</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">details</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> id</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employees</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    ORDER BY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> id</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    LIMIT</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1000</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">20</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">AS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> sub</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">JOIN</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employees e </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">ON</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> sub</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">id</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">id</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">JOIN</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> department d </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">ON</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">department_id</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> d</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ·»åŠ ä¹¦ç­¾çš„æ–¹å¼æ˜¯é€šè¿‡è®°ä½ä¸Šä¸€æ¬¡æŸ¥è¯¢è¿”å›çš„æœ€åä¸€è¡Œä¸»é”®å€¼ï¼Œç„¶ååœ¨ä¸‹ä¸€æ¬¡æŸ¥è¯¢çš„æ—¶å€™ä»è¿™ä¸ªå€¼å¼€å§‹ï¼Œä»è€Œè·³è¿‡åç§»é‡è®¡ç®—ï¼Œä»…æ‰«æç›®æ ‡æ•°æ®ï¼Œé€‚åˆç¿»é¡µã€èµ„è®¯æµç­‰åœºæ™¯ã€‚</p><p>å‡è®¾éœ€è¦å¯¹ç”¨æˆ·è¡¨è¿›è¡Œåˆ†é¡µã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> id, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">name</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> users</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">ORDER BY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> id</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">LIMIT</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1000</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">20</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é€šè¿‡æ·»åŠ ä¹¦ç­¾æ¥ä¼˜åŒ–åï¼ŒæŸ¥è¯¢ä¸å†ä½¿ç”¨<code>OFFSET</code>ï¼Œè€Œæ˜¯ä»ä¸Šä¸€é¡µæœ€åä¸€ä¸ªç”¨æˆ·çš„ ID å¼€å§‹æŸ¥è¯¢ã€‚è¿™ç§æ–¹æ³•å¯ä»¥æœ‰æ•ˆé¿å…ä¸å¿…è¦çš„æ•°æ®æ‰«æï¼Œæé«˜äº†åˆ†é¡µæŸ¥è¯¢çš„æ•ˆç‡ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> id, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">name</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> users</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> id </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> last_max_id  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- å‡è®¾last_max_idæ˜¯ä¸Šä¸€é¡µæœ€åä¸€è¡Œçš„ID</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">ORDER BY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> id</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">LIMIT</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 20</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="ä¸ºä»€ä¹ˆåˆ†é¡µä¼šå˜æ…¢" tabindex="-1"><a class="header-anchor" href="#ä¸ºä»€ä¹ˆåˆ†é¡µä¼šå˜æ…¢"><span>ä¸ºä»€ä¹ˆåˆ†é¡µä¼šå˜æ…¢ï¼Ÿ</span></a></h4><p>åˆ†é¡µæŸ¥è¯¢çš„æ•ˆç‡é—®é¢˜ä¸»è¦æ˜¯ç”±äº OFFSET çš„å­˜åœ¨ï¼ŒOFFSET ä¼šå¯¼è‡´ MySQL å¿…é¡»æ‰«æå’Œè·³è¿‡ offset + limit æ¡æ•°æ®ï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯éå¸¸è€—æ—¶çš„ã€‚</p><p>æ¯”å¦‚è¯´ï¼Œæˆ‘ä»¬è¦æŸ¥è¯¢ç¬¬ 100000 æ¡æ•°æ®ï¼Œé‚£ä¹ˆ MySQL å°±å¿…é¡»æ‰«æ 100000 æ¡æ•°æ®ï¼Œç„¶åå†è¿”å› 10 æ¡æ•°æ®ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> user </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">ORDER BY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> id </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">LIMIT</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 100000</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>æ•°æ®è¶Šå¤šã€åç§»è¶Šå¤§ï¼Œå°±è¶Šæ…¢ï¼</p><p>memoï¼š2025 å¹´ 3 æœˆ 22 æ—¥ä¿®æ”¹è‡³æ­¤ã€‚ä»Šå¤©<a href="https://javabetter.cn/zhishixingqiu/" target="_blank" rel="noopener noreferrer">æœ‰çƒå‹è¯´</a>ç­‰è…¾è®¯äº‘çš„ HR é¢ï¼Œå¾ˆç€æ€¥ï¼Œä½†æˆ‘èµŒä»–ä¸€å®šèƒ½æ‹¿åˆ° offerï¼Œç­‰ä¸€ä¸ªåç»­å“ˆã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20250322103527.png" alt="çƒå‹è¿›å…¥è…¾è®¯äº‘çš„ HR é¢äº†" tabindex="0" loading="lazy"><figcaption>çƒå‹è¿›å…¥è…¾è®¯äº‘çš„ HR é¢äº†</figcaption></figure><h4 id="join-ä»£æ›¿å­æŸ¥è¯¢æœ‰ä»€ä¹ˆå¥½å¤„" tabindex="-1"><a class="header-anchor" href="#join-ä»£æ›¿å­æŸ¥è¯¢æœ‰ä»€ä¹ˆå¥½å¤„"><span>JOIN ä»£æ›¿å­æŸ¥è¯¢æœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿ</span></a></h4><p>ç¬¬ä¸€ï¼ŒJOIN çš„ ON æ¡ä»¶èƒ½æ›´ç›´æ¥åœ°è§¦å‘ç´¢å¼•ï¼Œè€Œå­æŸ¥è¯¢å¯èƒ½å› åµŒå¥—å¯¼è‡´ç´¢å¼•å¤±æ•ˆã€‚</p><p>ç¬¬äºŒï¼ŒJOIN çš„ä¸€æ¬¡è¿æ¥æ“ä½œæ›¿ä»£äº†å­æŸ¥è¯¢çš„å¤šæ¬¡é‡å¤æ‰§è¡Œï¼Œå°¤å…¶åœ¨å¤§æ•°æ®é‡çš„æƒ…å†µä¸‹æ€§èƒ½å·®å¼‚æ˜æ˜¾ã€‚</p><p>----è¿™éƒ¨åˆ†æ˜¯å¸®åŠ©å¤§å®¶ç†è§£ startï¼Œé¢è¯•ä¸­å¯ä¸èƒŒ----</p><p>æ¯”å¦‚è¯´æˆ‘ä»¬æœ‰ä¸¤ä¸ªè¡¨ orders å’Œ customersã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> TABLE</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> orders</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    order_id </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">INT</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> PRIMARY KEY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    customer_id </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">INT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    amount </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">DECIMAL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    INDEX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> idx_customer_id (customer_id)  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- customer_idå­—æ®µæœ‰ç´¢å¼•</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> TABLE</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> customers</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    customer_id </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">INT</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> PRIMARY KEY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    name</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> VARCHAR</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">100</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å­æŸ¥è¯¢çš„å†™æ³•ï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> o</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">order_id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">o</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">amount</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">       (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> c</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> customers c </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        WHERE</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> c</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">customer_id</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> o</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">customer_id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">AS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> customer_name</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> orders o;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>JOIN çš„å†™æ³•ï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> o</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">order_id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">o</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">amount</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">c</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">name</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> AS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> customer_name</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> orders o</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">JOIN</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> customers c </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">ON</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> o</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">customer_id</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> c</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">customer_id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><table><thead><tr><th>å¯¹æ¯”é¡¹</th><th>å­æŸ¥è¯¢</th><th>JOIN</th></tr></thead><tbody><tr><td>ç´¢å¼•ä½¿ç”¨</td><td>å†…å±‚å­æŸ¥è¯¢ <code>WHERE c.customer_id = o.customer_id</code> æ¯æ¬¡æ‰§è¡Œæ—¶ï¼Œå¯èƒ½æ— æ³•ç›´æ¥åˆ©ç”¨ orders è¡¨çš„ customer_id ç´¢å¼•ã€‚</td><td>JOIN çš„ ON æ¡ä»¶ <code>o.customer_id = c.customer_id</code> å¯ä»¥ç›´æ¥åˆ©ç”¨ orders çš„ idx_customer_id ç´¢å¼•ï¼ŒåŠ é€Ÿè¿æ¥è¿‡ç¨‹ã€‚</td></tr><tr><td>æ‰§è¡Œè®¡åˆ’</td><td>å­æŸ¥è¯¢ä¼šè¢«é‡å¤æ‰§è¡Œï¼ˆæ¯æ¬¡å¤–å±‚ orders è¡Œéƒ½ä¼šè§¦å‘ä¸€æ¬¡å­æŸ¥è¯¢ï¼‰ï¼Œå¯¼è‡´å…¨è¡¨æ‰«æã€‚</td><td>ä¼˜åŒ–å™¨å¯èƒ½é€‰æ‹©é€šè¿‡ç´¢å¼•å¿«é€Ÿå…³è”ä¸¤å¼ è¡¨ï¼Œå‡å°‘æ•°æ®æ‰«æé‡ã€‚ä¾‹å¦‚ï¼Œå…ˆé€šè¿‡ orders çš„ç´¢å¼•æ‰¾åˆ° customer_idï¼Œå†ä¸ customers ä¸»é”®å¿«é€ŸåŒ¹é…ã€‚</td></tr><tr><td>æ€§èƒ½è¡¨ç°</td><td>å½“ orders è¡¨æ•°æ®é‡å¤§æ—¶ï¼Œå­æŸ¥è¯¢å¯èƒ½å› é‡å¤æ‰§è¡Œå¯¼è‡´æ€§èƒ½æ€¥å‰§ä¸‹é™ã€‚</td><td>JOIN çš„ä¸€æ¬¡è¿æ¥æ“ä½œé€šå¸¸æ›´é«˜æ•ˆï¼Œå°¤å…¶åœ¨å¤§æ•°æ®é‡æ—¶ã€‚</td></tr></tbody></table><p>å¯¹äºå­æŸ¥è¯¢ï¼Œæ‰§è¡Œæµç¨‹æ˜¯è¿™æ ·çš„ï¼š</p><ul><li>å¤–å±‚ orders è¡¨çš„æ¯ä¸€è¡Œéƒ½ä¼šè§¦å‘ä¸€æ¬¡å­æŸ¥è¯¢ã€‚</li><li>å¦‚æœ orders è¡¨æœ‰ 1000 æ¡è®°å½•ï¼Œåˆ™å­æŸ¥è¯¢ä¼šæ‰§è¡Œ 1000 æ¬¡ã€‚</li><li>æ¯æ¬¡å­æŸ¥è¯¢éƒ½éœ€è¦å•ç‹¬æŸ¥è¯¢ customers è¡¨ï¼ˆå³ä½¿ customer_id ç›¸åŒï¼‰ã€‚</li></ul><p>è€Œ JOIN çš„æ‰§è¡Œæµç¨‹æ˜¯è¿™æ ·çš„ï¼š</p><ul><li>æ•°æ®åº“ä¼˜åŒ–å™¨ä¼šå°†ä¸¤å¼ è¡¨çš„è¿æ¥æ“ä½œåˆå¹¶ä¸ºä¸€æ¬¡æ‰§è¡Œã€‚</li><li>é€šè¿‡ç´¢å¼•ï¼ˆå¦‚ orders.customer_id å’Œ customers.customer_idï¼‰å¿«é€Ÿå…³è”æ•°æ®ã€‚</li><li>ä»…æ‰§è¡Œä¸€æ¬¡å…³è”æ“ä½œï¼Œè€Œéå¤šæ¬¡å­æŸ¥è¯¢ã€‚</li></ul><p>æ¥çœ‹ä¸€ä¸‹å­æŸ¥è¯¢çš„æ‰§è¡Œè®¡åˆ’ï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">EXPLAIN </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> o</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">order_id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">               (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> c</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">name</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> customers c </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">WHERE</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> c</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">customer_id</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> o</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">customer_id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> orders o;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20250323213511.png" alt="äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šå­æŸ¥è¯¢çš„æ‰§è¡Œè®¡åˆ’" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šå­æŸ¥è¯¢çš„æ‰§è¡Œè®¡åˆ’</figcaption></figure><p>å­æŸ¥è¯¢ï¼ˆDEPENDENT SUBQUERYï¼‰ç±»å‹è¡¨æ˜å…¶ä¾èµ–å¤–å±‚æŸ¥è¯¢çš„æ¯ä¸€è¡Œï¼Œå¯¼è‡´é‡å¤æ‰§è¡Œã€‚</p><p>å†å¯¹æ¯”çœ‹ä¸€ä¸‹ JOIN çš„æ‰§è¡Œè®¡åˆ’ï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">EXPLAIN </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> o</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">order_id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">               (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> c</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">name</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> customers c </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">WHERE</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> c</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">customer_id</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> o</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">customer_id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> orders o;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20250323213756.png" alt="äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šJOIN çš„æ‰§è¡Œè®¡åˆ’" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šJOIN çš„æ‰§è¡Œè®¡åˆ’</figcaption></figure><p>JOIN é€šè¿‡ eq_ref ç±»å‹ç›´æ¥åˆ©ç”¨ä¸»é”®ï¼ˆcustomers.customer_idï¼‰å¿«é€Ÿå…³è”ï¼Œå‡å°‘æ‰«ææ¬¡æ•°ã€‚</p><p>----è¿™éƒ¨åˆ†æ˜¯å¸®åŠ©å¤§å®¶ç†è§£ endï¼Œé¢è¯•ä¸­å¯ä¸èƒŒ----</p><p>memoï¼š2025 å¹´ 3 æœˆ 23 æ—¥ä¿®æ”¹è‡³æ­¤ï¼Œä»Šå¤©<a href="https://javabetter.cn/zhishixingqiu/" target="_blank" rel="noopener noreferrer">æœ‰çƒå‹è¯´</a>ï¼Œé€šè¿‡ä¸€æ™šä¸Šçš„æ—¶é—´ï¼Œå°±åœ¨æ˜Ÿçƒé‡Œå­¦åˆ°å¾ˆå¤šçŸ¥è¯†ï¼Œè®©ä»–è¿™ä¸ª 7 å¹´ç»éªŒçš„ CRUD Boy å—ç›ŠåŒªæµ…ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20250323214034.png" alt="çƒå‹å¯¹æ˜Ÿçƒçš„ä¸€ç§è¤’å¥–" tabindex="0" loading="lazy"><figcaption>çƒå‹å¯¹æ˜Ÿçƒçš„ä¸€ç§è¤’å¥–</figcaption></figure><p><strong>â‘¡ã€å°è¡¨é©±åŠ¨å¤§è¡¨</strong></p><p>åœ¨æ‰§è¡Œ JOIN æ“ä½œæ—¶ï¼Œåº”å°½é‡è®©è¡Œæ•°è¾ƒå°‘çš„è¡¨ï¼ˆå°è¡¨ï¼‰é©±åŠ¨è¡Œæ•°è¾ƒå¤šçš„è¡¨ï¼ˆå¤§è¡¨ï¼‰ï¼Œè¿™æ ·å¯ä»¥å‡å°‘æŸ¥è¯¢è¿‡ç¨‹ä¸­éœ€è¦å¤„ç†çš„æ•°æ®é‡ã€‚</p><p>æ¯”å¦‚ left joinï¼Œå·¦è¡¨æ˜¯é©±åŠ¨è¡¨ï¼Œæ‰€ä»¥ A è¡¨åº”å°äº B è¡¨ï¼Œè¿™æ ·å»ºç«‹è¿æ¥çš„æ¬¡æ•°å°±å°‘ï¼ŒæŸ¥è¯¢é€Ÿåº¦å°±å¿«äº†ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">Â name</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">Â from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Â AÂ </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">leftÂ join</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Â B;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>â‘¢ã€é€‚å½“å¢åŠ å†—ä½™å­—æ®µ</strong></p><p>åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œé€šè¿‡åœ¨è¡¨ä¸­é€‚å½“å¢åŠ å†—ä½™å­—æ®µæ¥é¿å… JOIN æ“ä½œï¼Œå¯ä»¥æé«˜æŸ¥è¯¢æ•ˆç‡ï¼Œå°¤å…¶æ˜¯åœ¨é«˜é¢‘æŸ¥è¯¢çš„åœºæ™¯ä¸‹ã€‚</p><p>æ¯”å¦‚ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªè®¢å•è¡¨å’Œä¸€ä¸ªå•†å“è¡¨ï¼ŒæŸ¥è¯¢è®¢å•æ—¶éœ€è¦æ˜¾ç¤ºå•†å“åç§°ï¼Œå¦‚æœæ¯æ¬¡éƒ½é€šè¿‡ JOIN æ“ä½œæŸ¥è¯¢å•†å“è¡¨ï¼Œä¼šé™ä½æŸ¥è¯¢æ•ˆç‡ã€‚è¿™æ—¶å¯ä»¥åœ¨è®¢å•è¡¨ä¸­å¢åŠ ä¸€ä¸ªå†—ä½™å­—æ®µï¼Œå­˜å‚¨å•†å“åç§°ï¼Œè¿™æ ·å°±å¯ä»¥é¿å… JOIN æ“ä½œã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Â order_id,product_nameÂ </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Â orders;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>â‘£ã€é¿å…ä½¿ç”¨ JOIN å…³è”å¤ªå¤šçš„è¡¨</strong></p><p>ã€Š<a href="https://javabetter.cn/pdf/ali-java-shouce.html" target="_blank" rel="noopener noreferrer">é˜¿é‡Œå·´å·´ Java å¼€å‘æ‰‹å†Œ</a>ã€‹ä¸Šå°±è§„å®šï¼Œä¸è¦ä½¿ç”¨ join å…³è”å¤ªå¤šçš„è¡¨ï¼Œæœ€å¤šä¸è¦è¶…è¿‡ 3 å¼ è¡¨ã€‚</p><p>å› ä¸º join å¤ªå¤šè¡¨ä¼šé™ä½æŸ¥è¯¢çš„é€Ÿåº¦ï¼Œè¿”å›çš„æ•°æ®é‡ä¹Ÿä¼šå˜å¾—éå¸¸å¤§ï¼Œä¸åˆ©äºåç»­çš„å¤„ç†ã€‚</p><p>å¦‚æœä¸šåŠ¡é€»è¾‘å…è®¸ï¼Œå¯ä»¥è€ƒè™‘å°†å¤æ‚çš„ JOIN æŸ¥è¯¢åˆ†è§£æˆå¤šä¸ªç®€å•æŸ¥è¯¢ï¼Œç„¶ååœ¨åº”ç”¨å±‚ç»„åˆè¿™äº›æŸ¥è¯¢çš„ç»“æœã€‚</p><h4 id="å¦‚ä½•è¿›è¡Œæ’åºä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#å¦‚ä½•è¿›è¡Œæ’åºä¼˜åŒ–"><span>å¦‚ä½•è¿›è¡Œæ’åºä¼˜åŒ–ï¼Ÿ</span></a></h4><p>MySQL ç”Ÿæˆæœ‰åºç»“æœçš„æ–¹å¼æœ‰ä¸¤ç§ï¼šä¸€ç§æ˜¯å¯¹ç»“æœé›†è¿›è¡Œæ’åºæ“ä½œï¼Œå¦å¤–ä¸€ç§æ˜¯æŒ‰ç…§ç´¢å¼•é¡ºåºæ‰«æå¾—å‡ºçš„è‡ªç„¶æœ‰åºç»“æœã€‚</p><p>å› æ­¤åœ¨è®¾è®¡ç´¢å¼•çš„æ—¶å€™è¦å……åˆ†è€ƒè™‘åˆ°æ’åºçš„éœ€æ±‚ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> id, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">name</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> users </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">order by</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>å¦‚æœ name å­—æ®µä¸Šæœ‰ç´¢å¼•ï¼Œé‚£ä¹ˆ MySQL å¯ä»¥ç›´æ¥åˆ©ç”¨ç´¢å¼•çš„æœ‰åºæ€§ï¼Œé¿å…æ’åºæ“ä½œã€‚</p><h4 id="å¦‚ä½•è¿›è¡Œ-union-ä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#å¦‚ä½•è¿›è¡Œ-union-ä¼˜åŒ–"><span>å¦‚ä½•è¿›è¡Œ UNION ä¼˜åŒ–ï¼Ÿ</span></a></h4><p>UNION æ“ä½œç”¨äºåˆå¹¶ä¸¤ä¸ªæˆ–è€…å¤šä¸ª SELECT è¯­å¥çš„ç»“æœé›†ã€‚</p><p><strong>â‘ ã€æ¡ä»¶ä¸‹æ¨</strong></p><p>æ¡ä»¶ä¸‹æ¨æ˜¯æŒ‡å°† whereã€limit ç­‰å­å¥ä¸‹æ¨åˆ° union çš„å„ä¸ªå­æŸ¥è¯¢ä¸­ï¼Œä»¥ä¾¿ä¼˜åŒ–å™¨å¯ä»¥å……åˆ†åˆ©ç”¨è¿™äº›æ¡ä»¶è¿›è¡Œä¼˜åŒ–ã€‚</p><p>å‡è®¾æˆ‘ä»¬æœ‰ä¸¤ä¸ªæŸ¥è¯¢åˆ†æ”¯ï¼Œéœ€è¦åˆå¹¶ç»“æœå¹¶è¿‡æ»¤ï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> A</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    UNION</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> B</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">AS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> sub</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">WHERE</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> sub</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">id</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥æ”¹å†™æˆï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> A </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> id </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">UNION</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> B </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> id </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é€šè¿‡å°†æŸ¥è¯¢æ¡ä»¶ä¸‹æ¨åˆ° UNION çš„æ¯ä¸ªåˆ†æ”¯ä¸­ï¼Œæ¯ä¸ªåˆ†æ”¯æŸ¥è¯¢éƒ½åªå¤„ç†æ»¡è¶³æ¡ä»¶çš„æ•°æ®ï¼Œå‡å°‘äº†ä¸å¿…è¦çš„æ•°æ®åˆå¹¶å’Œè¿‡æ»¤ã€‚</p><h4 id="ä¸ºä»€ä¹ˆè¦å°½é‡é¿å…ä½¿ç”¨-select" tabindex="-1"><a class="header-anchor" href="#ä¸ºä»€ä¹ˆè¦å°½é‡é¿å…ä½¿ç”¨-select"><span>ä¸ºä»€ä¹ˆè¦å°½é‡é¿å…ä½¿ç”¨ select *ï¼Ÿ</span></a></h4><p>å› ä¸ºå®ƒä¼šè¯»å–æ‰€æœ‰åˆ—ï¼Œå¢åŠ  I/O å’Œç½‘ç»œä¼ è¾“æˆæœ¬ï¼Œè€Œä¸”è¿˜ä¼šè®©è¦†ç›–ç´¢å¼•å¤±æ•ˆï¼Œå½±å“æŸ¥è¯¢æ€§èƒ½ã€‚</p><p>å»ºè®®åªæŸ¥è¯¢éœ€è¦çš„å­—æ®µï¼Œå°½é‡æŠŠ<code>select * from table</code>æ”¹æˆ<code>select id, name from table</code>ã€‚</p><h4 id="ä½ è¿˜çŸ¥é“å“ªäº›-sql-ä¼˜åŒ–æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#ä½ è¿˜çŸ¥é“å“ªäº›-sql-ä¼˜åŒ–æ–¹æ³•"><span>ä½ è¿˜çŸ¥é“å“ªäº› SQL ä¼˜åŒ–æ–¹æ³•ï¼Ÿ</span></a></h4><p><strong>â‘ ã€é¿å…ä½¿ç”¨ != æˆ–è€… &lt;&gt; æ“ä½œç¬¦</strong></p><p><code>!=</code> æˆ–è€… <code>&lt;&gt;</code> æ“ä½œç¬¦ä¼šå¯¼è‡´ MySQL æ— æ³•ä½¿ç”¨ç´¢å¼•ï¼Œä»è€Œå¯¼è‡´å…¨è¡¨æ‰«æã€‚</p><p>ä¾‹å¦‚ï¼Œå¯ä»¥æŠŠ<code>column&lt;&gt;&#39;aaa&#39;</code>ï¼Œæ”¹æˆ<code>column&gt;&#39;aaa&#39; or column&lt;&#39;aaa&#39;</code>ï¼Œå°±å¯ä»¥ä½¿ç”¨ç´¢å¼•äº†ã€‚</p><p>ä¼˜åŒ–ç­–ç•¥å°±æ˜¯å°½å¯èƒ½ä½¿ç”¨ <code>=</code>ã€<code>&gt;</code>ã€<code>&lt;</code>ã€<code>BETWEEN</code>ç­‰æ“ä½œç¬¦ï¼Œå®ƒä»¬èƒ½å¤Ÿæ›´å¥½åœ°åˆ©ç”¨ç´¢å¼•ã€‚</p><p><strong>â‘¡ã€é€‚å½“ä½¿ç”¨å‰ç¼€ç´¢å¼•</strong></p><p>é€‚å½“ä½¿ç”¨å‰ç¼€ç´¢å¼•å¯ä»¥é™ä½ç´¢å¼•çš„ç©ºé—´å ç”¨ï¼Œæé«˜ç´¢å¼•çš„æŸ¥è¯¢æ•ˆç‡ã€‚</p><p>æ¯”å¦‚ï¼Œé‚®ç®±çš„åç¼€ä¸€èˆ¬éƒ½æ˜¯å›ºå®šçš„<code>@xxx.com</code>ï¼Œé‚£ä¹ˆç±»ä¼¼è¿™ç§åé¢å‡ ä½ä¸ºå›ºå®šå€¼çš„å­—æ®µå°±éå¸¸é€‚åˆå®šä¹‰ä¸ºå‰ç¼€ç´¢å¼•ï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">alter</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">Â table</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Â testÂ </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">add</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">Â index</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Â index2(email(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">6</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">));</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒMySQL æ— æ³•åˆ©ç”¨å‰ç¼€ç´¢å¼•åš order by å’Œ group by æ“ä½œã€‚</p><p><strong>â‘¢ã€é¿å…åˆ—ä¸Šä½¿ç”¨å‡½æ•°</strong></p><p>åœ¨ where å­å¥ä¸­ç›´æ¥å¯¹åˆ—ä½¿ç”¨å‡½æ•°ä¼šå¯¼è‡´ç´¢å¼•å¤±æ•ˆï¼Œå› ä¸ºæ•°æ®åº“éœ€è¦å¯¹æ¯è¡Œçš„åˆ—åº”ç”¨å‡½æ•°åå†è¿›è¡Œæ¯”è¾ƒï¼Œæ— æ³•ç›´æ¥åˆ©ç”¨ç´¢å¼•ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">Â name</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">Â from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Â testÂ </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">Â date_format</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(create_time,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;%Y-%m-%d&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;2021-01-01&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>å¯ä»¥æ”¹æˆï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">Â name</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">Â from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Â testÂ </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Â create_time</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;2021-01-01 00:00:00&#39;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> and</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> create_time</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;2021-01-02 00:00:00&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>é€šè¿‡æ—¥æœŸçš„èŒƒå›´æŸ¥è¯¢ï¼Œè€Œä¸æ˜¯åœ¨åˆ—ä¸Šä½¿ç”¨å‡½æ•°ï¼Œå¯ä»¥åˆ©ç”¨ create_time ä¸Šçš„ç´¢å¼•ã€‚</p><h4 id="äº†è§£mrr-å—" tabindex="-1"><a class="header-anchor" href="#äº†è§£mrr-å—"><span>äº†è§£MRR å—ï¼Ÿ</span></a></h4><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„è…¾è®¯é¢ç»åŒå­¦ 22 æš‘æœŸå®ä¹ ä¸€é¢é¢è¯•åŸé¢˜ï¼šæŸ¥è¯¢ä¼˜åŒ–ã€è”åˆç´¢å¼•ã€è¦†ç›–ç´¢å¼•</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„åä¸ºé¢ç»åŒå­¦ 8 æŠ€æœ¯äºŒé¢é¢è¯•åŸé¢˜ï¼šè¯´è¯´ SQL è¯¥å¦‚ä½•ä¼˜åŒ–</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„åä¸ºé¢ç»åŒå­¦ 6 Java é€šç”¨è½¯ä»¶å¼€å‘ä¸€é¢é¢è¯•åŸé¢˜ï¼šè¯´è¯´ SQL è¯¥å¦‚ä½•ä¼˜åŒ–</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å¾®ä¼—é“¶è¡ŒåŒå­¦ 1 Java åç«¯ä¸€é¢çš„åŸé¢˜ï¼šMySQL ç´¢å¼•å¦‚ä½•ä¼˜åŒ–ï¼Ÿ</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„æºç¨‹é¢ç»åŒå­¦ 10 Java æš‘æœŸå®ä¹ ä¸€é¢é¢è¯•åŸé¢˜ï¼šè®²ä¸€è®² MySQL çš„ç´¢å¼•ï¼Œå¦‚ä½•ä¼˜åŒ– SQLï¼Ÿ</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„ç”¨å‹é¢è¯•åŸé¢˜ï¼šäº†è§£ mysql æ€ä¹ˆä¼˜åŒ–å—</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„é˜¿é‡Œç³»é¢ç»åŒå­¦ 19 é¥¿äº†ä¹ˆé¢è¯•åŸé¢˜ï¼šæŸ¥è¯¢å¦‚ä½•ä¼˜åŒ–</li></ol></blockquote><h3 id="_34-æ€ä¹ˆçœ‹æ‰§è¡Œè®¡åˆ’-explain-å¦‚ä½•ç†è§£å…¶ä¸­å„ä¸ªå­—æ®µçš„å«ä¹‰" tabindex="-1"><a class="header-anchor" href="#_34-æ€ä¹ˆçœ‹æ‰§è¡Œè®¡åˆ’-explain-å¦‚ä½•ç†è§£å…¶ä¸­å„ä¸ªå­—æ®µçš„å«ä¹‰"><span>34.æ€ä¹ˆçœ‹æ‰§è¡Œè®¡åˆ’ explainï¼Œå¦‚ä½•ç†è§£å…¶ä¸­å„ä¸ªå­—æ®µçš„å«ä¹‰ï¼Ÿ</span></a></h3><p>explain æ˜¯ MySQL æä¾›çš„ä¸€ä¸ªç”¨äºæŸ¥çœ‹æŸ¥è¯¢æ‰§è¡Œè®¡åˆ’çš„å·¥å…·ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬åˆ†ææŸ¥è¯¢è¯­å¥çš„æ€§èƒ½ç“¶é¢ˆï¼Œæ‰¾å‡ºæ…¢ SQL çš„åŸå› ã€‚</p><p>ä½¿ç”¨æ–¹å¼ä¹Ÿéå¸¸ç®€å•ï¼Œåœ¨ select è¯­å¥å‰åŠ ä¸Š <code>explain</code> å…³é”®å­—å°±å¯ä»¥äº†ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">explain </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> students </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">where</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> id </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">9</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-e234658f-5672-4a8d-9a75-872b305a171d.jpg" alt="ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šEXPLAIN" tabindex="0" loading="lazy"><figcaption>ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šEXPLAIN</figcaption></figure><p>explain çš„è¾“å‡ºç»“æœä¸­åŒ…å«äº†å¾ˆå¤šå­—æ®µï¼Œä¸‹é¢æ˜¯ä¸€äº›å¸¸è§çš„å­—æ®µå«ä¹‰ï¼š</p><p>â‘ ã€<strong>id</strong> åˆ—ï¼šæŸ¥è¯¢çš„æ ‡è¯†ç¬¦ã€‚</p><p>â‘¡ã€<strong>select_type</strong> åˆ—ï¼šæŸ¥è¯¢çš„ç±»å‹ã€‚å¸¸è§çš„ç±»å‹æœ‰ï¼š</p><ul><li>SIMPLEï¼šç®€å•æŸ¥è¯¢ï¼Œä¸åŒ…å«å­æŸ¥è¯¢æˆ–è€… UNION æŸ¥è¯¢ã€‚</li><li>PRIMARYï¼šæŸ¥è¯¢ä¸­å¦‚æœåŒ…å«å­æŸ¥è¯¢ï¼Œåˆ™æœ€å¤–å±‚æŸ¥è¯¢è¢«æ ‡è®°ä¸º PRIMARYã€‚</li><li>SUBQUERYï¼šå­æŸ¥è¯¢ã€‚</li><li>DERIVEDï¼šæ´¾ç”Ÿè¡¨çš„ SELECTï¼ŒFROM å­å¥çš„å­æŸ¥è¯¢ã€‚</li></ul><p>â‘¢ã€<strong>table</strong> åˆ—ï¼šæŸ¥çš„å“ªä¸ªè¡¨ã€‚</p><p>â‘£ã€<strong>type</strong> åˆ—ï¼šè¡¨ç¤º MySQL åœ¨è¡¨ä¸­æ‰¾åˆ°æ‰€éœ€è¡Œçš„æ–¹å¼ï¼Œæ€§èƒ½ä»æœ€ä¼˜åˆ°æœ€å·®åˆ†åˆ«ä¸ºï¼šsystem &gt; const &gt; eq_ref &gt; ref &gt; range &gt; index &gt; ALLã€‚</p><ul><li>systemï¼Œè¡¨åªæœ‰ä¸€è¡Œï¼Œä¸€èˆ¬æ˜¯ç³»ç»Ÿè¡¨ï¼Œå¾€å¾€ä¸éœ€è¦è¿›è¡Œç£ç›˜ IOï¼Œé€Ÿåº¦éå¸¸å¿«</li><li>constï¼šè¡¨ä¸­åªæœ‰ä¸€è¡ŒåŒ¹é…ï¼Œæˆ–é€šè¿‡ä¸»é”®æˆ–å”¯ä¸€ç´¢å¼•è·å–å•è¡Œè®°å½•ã€‚é€šå¸¸ç”¨äºä½¿ç”¨ä¸»é”®æˆ–å”¯ä¸€ç´¢å¼•çš„ç²¾ç¡®åŒ¹é…æŸ¥è¯¢ï¼Œæ€§èƒ½éå¸¸é«˜ã€‚</li><li>eq_refï¼šå¯¹äºæ¯ä¸ªæ¥è‡ªä¸Šä¸€å¼ è¡¨çš„è®°å½•ï¼Œæœ€å¤šåªè¿”å›ä¸€æ¡åŒ¹é…è®°å½•ï¼Œé€šå¸¸ç”¨äºå¤šè¡¨å…³è”ä¸”ä½¿ç”¨ä¸»é”®æˆ–å”¯ä¸€ç´¢å¼•çš„æŸ¥è¯¢ã€‚æ•ˆç‡éå¸¸é«˜ï¼Œé€‚åˆå¤šè¡¨å…³è”æŸ¥è¯¢ã€‚</li><li>refï¼šä½¿ç”¨éå”¯ä¸€ç´¢å¼•æˆ–å‰ç¼€ç´¢å¼•æŸ¥è¯¢çš„æƒ…å†µï¼Œè¿”å›ç¬¦åˆæ¡ä»¶çš„å¤šè¡Œè®°å½•ã€‚é€šå¸¸ç”¨äºæ™®é€šç´¢å¼•æˆ–è”åˆç´¢å¼•æŸ¥è¯¢ï¼Œæ•ˆç‡è¾ƒé«˜ï¼Œä½†ä¸å¦‚ const å’Œ eq_refã€‚</li><li>rangeï¼šåªæ£€ç´¢ç»™å®šèŒƒå›´çš„è¡Œï¼Œä½¿ç”¨ç´¢å¼•æ¥æ£€ç´¢ã€‚åœ¨<code>where</code>è¯­å¥ä¸­ä½¿ç”¨ <code>bettween...and</code>ã€<code>&lt;</code>ã€<code>&gt;</code>ã€<code>&lt;=</code>ã€<code>in</code> ç­‰æ¡ä»¶æŸ¥è¯¢ <code>type</code> éƒ½æ˜¯ <code>range</code>ã€‚</li><li>indexï¼šå…¨ç´¢å¼•æ‰«æï¼Œå³æ‰«ææ•´ä¸ªç´¢å¼•è€Œä¸è®¿é—®æ•°æ®è¡Œã€‚</li><li>ALLï¼šå…¨è¡¨æ‰«æï¼Œæ•ˆç‡æœ€ä½ã€‚</li></ul><p>â‘¤ã€<strong>possible_keys</strong> åˆ—ï¼šå¯èƒ½ä¼šç”¨åˆ°çš„ç´¢å¼•ï¼Œä½†å¹¶ä¸ä¸€å®šå®é™…è¢«ä½¿ç”¨ã€‚</p><p>â‘¥ã€<strong>key</strong> åˆ—ï¼šå®é™…ä½¿ç”¨çš„ç´¢å¼•ã€‚å¦‚æœä¸º NULLï¼Œåˆ™æ²¡æœ‰ä½¿ç”¨ç´¢å¼•ã€‚</p><p>â‘¦ã€<strong>key_len</strong> åˆ—ï¼šMySQL å†³å®šä½¿ç”¨çš„ç´¢å¼•é•¿åº¦ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰ã€‚å½“è¡¨æœ‰å¤šä¸ªç´¢å¼•å¯ç”¨æ—¶ï¼Œkey_len å­—æ®µå¯ä»¥å¸®åŠ©è¯†åˆ«å“ªä¸ªç´¢å¼•æœ€æœ‰æ•ˆã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œæ›´çŸ­çš„ key_len æ„å‘³ç€æ•°æ®åº“åœ¨æ¯”è¾ƒé”®å€¼æ—¶éœ€è¦å¤„ç†æ›´å°‘çš„æ•°æ®ã€‚</p><p>â‘§ã€<strong>ref</strong> åˆ—ï¼šç”¨äºä¸ç´¢å¼•åˆ—æ¯”è¾ƒçš„å€¼æ¥æºã€‚</p><ul><li>constï¼šè¡¨ç¤ºå¸¸é‡ï¼Œè¿™ä¸ªå€¼æ˜¯åœ¨æŸ¥è¯¢ä¸­è¢«å›ºå®šçš„ã€‚ä¾‹å¦‚åœ¨ WHERE <code>column = &#39;value&#39;</code>ä¸­ã€‚</li><li>ä¸€ä¸ªæˆ–å¤šä¸ªåˆ—çš„åç§°ï¼Œé€šå¸¸åœ¨ JOIN æ“ä½œä¸­ï¼Œè¡¨ç¤º JOIN æ¡ä»¶ä¾èµ–çš„å­—æ®µã€‚</li><li>NULLï¼Œè¡¨ç¤ºæ²¡æœ‰ä½¿ç”¨ç´¢å¼•ï¼Œæˆ–è€…æŸ¥è¯¢ä½¿ç”¨çš„æ˜¯å…¨è¡¨æ‰«æã€‚</li></ul><p>â‘¨ã€<strong>rows</strong> åˆ—ï¼šä¼°ç®—æŸ¥åˆ°ç»“æœé›†éœ€è¦æ‰«æçš„æ•°æ®è¡Œæ•°ï¼ŒåŸåˆ™ä¸Š rows è¶Šå°‘è¶Šå¥½ã€‚</p><p>â‘©ã€<strong>Extra</strong> åˆ—ï¼šé™„åŠ ä¿¡æ¯ã€‚</p><ul><li>Using indexï¼šè¡¨ç¤ºåªåˆ©ç”¨äº†ç´¢å¼•ã€‚</li><li>Using whereï¼šè¡¨ç¤ºä½¿ç”¨äº† WHERE è¿‡æ»¤ã€‚</li><li>Using temporary ï¼šè¡¨ç¤ºä½¿ç”¨äº†ä¸´æ—¶è¡¨æ¥å­˜å‚¨ä¸­é—´ç»“æœã€‚</li></ul><p>ç¤ºä¾‹ï¼š</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240417092646.png" alt="äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯</figcaption></figure><h4 id="typeçš„æ‰§è¡Œæ•ˆç‡ç­‰çº§-è¾¾åˆ°ä»€ä¹ˆçº§åˆ«æ¯”è¾ƒåˆé€‚" tabindex="-1"><a class="header-anchor" href="#typeçš„æ‰§è¡Œæ•ˆç‡ç­‰çº§-è¾¾åˆ°ä»€ä¹ˆçº§åˆ«æ¯”è¾ƒåˆé€‚"><span>typeçš„æ‰§è¡Œæ•ˆç‡ç­‰çº§ï¼Œè¾¾åˆ°ä»€ä¹ˆçº§åˆ«æ¯”è¾ƒåˆé€‚ï¼Ÿ</span></a></h4><p>ä»é«˜åˆ°ä½çš„æ•ˆç‡æ’åºæ˜¯ systemã€constã€eq_refã€refã€rangeã€index å’Œ ALLã€‚</p><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå»ºè®® type å€¼è¾¾åˆ° constã€eq_ref æˆ– refï¼Œå› ä¸ºè¿™äº›ç±»å‹è¡¨æ˜æŸ¥è¯¢ä½¿ç”¨äº†ç´¢å¼•è¿›è¡Œç²¾ç¡®åŒ¹é…ï¼Œæ•ˆç‡è¾ƒé«˜ã€‚</p><p>å¦‚æœæ˜¯èŒƒå›´æŸ¥è¯¢ï¼Œrange ç±»å‹ä¹Ÿæ˜¯å¯ä»¥æ¥å—çš„ã€‚</p><p>é€šå¸¸è¦é¿å…å‡ºç° ALL ç±»å‹ï¼Œå› ä¸ºå®ƒè¡¨ç¤ºå…¨è¡¨æ‰«æï¼Œæ€§èƒ½æœ€ä½ã€‚</p><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„åä¸ºé¢ç»åŒå­¦ 8 æŠ€æœ¯äºŒé¢é¢è¯•åŸé¢˜ï¼šæ€ä¹ˆçœ‹èµ°æ²¡èµ°ç´¢å¼•ï¼Œå¦‚ä½•åˆ†æ SQL</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„ä½œä¸šå¸®é¢ç»åŒå­¦ 1 Java åç«¯ä¸€é¢é¢è¯•åŸé¢˜ï¼škey-lenå’Œkeyæ²¡ä»€ä¹ˆåŒºåˆ«ï¼Œä»€ä¹ˆæ—¶å€™ä¼šç”¨åˆ°key-lenï¼Œä½ è¿˜ä¼šæŸ¥çœ‹explainä¸­çš„å“ªäº›å­—æ®µï¼Œextraæœ‰å“ªäº›ç±»å‹</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„åŒå­¦ 1 è´å£³æ‰¾æˆ¿åç«¯æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šexplainåˆ†æåï¼Œ typeçš„æ‰§è¡Œæ•ˆç‡ç­‰çº§ï¼Œè¾¾åˆ°ä»€ä¹ˆçº§åˆ«æ¯”è¾ƒåˆé€‚</li></ol></blockquote><p>GitHub ä¸Šæ ‡æ˜Ÿ 10000+ çš„å¼€æºçŸ¥è¯†åº“ã€Š<a href="https://github.com/itwanger/toBeBetterJavaer" target="_blank" rel="noopener noreferrer">äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯</a>ã€‹ç¬¬ä¸€ç‰ˆ PDF ç»ˆäºæ¥äº†ï¼åŒ…æ‹¬ Java åŸºç¡€è¯­æ³•ã€æ•°ç»„&amp;å­—ç¬¦ä¸²ã€OOPã€é›†åˆæ¡†æ¶ã€Java IOã€å¼‚å¸¸å¤„ç†ã€Java æ–°ç‰¹æ€§ã€ç½‘ç»œç¼–ç¨‹ã€NIOã€å¹¶å‘ç¼–ç¨‹ã€JVM ç­‰ç­‰ï¼Œå…±è®¡ 32 ä¸‡ä½™å­—ï¼Œ500+å¼ æ‰‹ç»˜å›¾ï¼Œå¯ä»¥è¯´æ˜¯é€šä¿—æ˜“æ‡‚ã€é£è¶£å¹½é»˜â€¦â€¦è¯¦æƒ…æˆ³ï¼š<a href="https://javabetter.cn/overview/" target="_blank" rel="noopener noreferrer">å¤ªèµäº†ï¼ŒGitHub ä¸Šæ ‡æ˜Ÿ 10000+ çš„ Java æ•™ç¨‹</a></p><p>å¾®ä¿¡æœ <strong>æ²‰é»˜ç‹äºŒ</strong> æˆ–æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨äºŒå“¥çš„åŸåˆ›å…¬ä¼—å·æ²‰é»˜ç‹äºŒï¼Œå›å¤ <strong>222</strong> å³å¯å…è´¹é¢†å–ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/gongzhonghao.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="ç´¢å¼•" tabindex="-1"><a class="header-anchor" href="#ç´¢å¼•"><span>ç´¢å¼•</span></a></h2><h3 id="_35-ä¸ºä»€ä¹ˆä½¿ç”¨ç´¢å¼•ä¼šåŠ å¿«æŸ¥è¯¢" tabindex="-1"><a class="header-anchor" href="#_35-ä¸ºä»€ä¹ˆä½¿ç”¨ç´¢å¼•ä¼šåŠ å¿«æŸ¥è¯¢"><span>35.ä¸ºä»€ä¹ˆä½¿ç”¨ç´¢å¼•ä¼šåŠ å¿«æŸ¥è¯¢ï¼Ÿ</span></a></h3><p>æ•°æ®åº“æ–‡ä»¶æ˜¯å­˜å‚¨åœ¨ç£ç›˜ä¸Šçš„ï¼Œç£ç›˜ I/O æ˜¯æ•°æ®åº“æ“ä½œä¸­æœ€è€—æ—¶çš„éƒ¨åˆ†ä¹‹ä¸€ã€‚æ²¡æœ‰ç´¢å¼•æ—¶ï¼Œæ•°æ®åº“ä¼šè¿›è¡Œå…¨è¡¨æ‰«æï¼ˆSequential Scanï¼‰ï¼Œè¿™æ„å‘³ç€å®ƒå¿…é¡»è¯»å–è¡¨ä¸­çš„æ¯ä¸€è¡Œæ•°æ®æ¥æŸ¥æ‰¾åŒ¹é…çš„è¡Œï¼ˆæ—¶é—´æ•ˆç‡ä¸º O(n)ï¼‰ã€‚å½“è¡¨çš„æ•°æ®é‡éå¸¸å¤§æ—¶ï¼Œå°±ä¼šå¯¼è‡´å¤§é‡çš„ç£ç›˜ I/O æ“ä½œã€‚</p><p>æœ‰äº†ç´¢å¼•ï¼Œå°±å¯ä»¥ç›´æ¥è·³åˆ°ç´¢å¼•æŒ‡ç¤ºçš„æ•°æ®ä½ç½®ï¼Œè€Œä¸å¿…æ‰«ææ•´å¼ è¡¨ï¼Œä»è€Œå¤§å¤§å‡å°‘äº†ç£ç›˜ I/O æ“ä½œçš„æ¬¡æ•°ã€‚</p><p>MySQL çš„ InnoDB å­˜å‚¨å¼•æ“é»˜è®¤ä½¿ç”¨ B+ æ ‘æ¥ä½œä¸ºç´¢å¼•çš„æ•°æ®ç»“æ„ï¼Œè€Œ B+ æ ‘çš„æŸ¥è¯¢æ•ˆç‡éå¸¸é«˜ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(logN)ã€‚</p><p>ç´¢å¼•æ–‡ä»¶ç›¸è¾ƒäºæ•°æ®åº“æ–‡ä»¶ï¼Œä½“ç§¯å°å¾—å¤šï¼ŒæŸ¥åˆ°ç´¢å¼•ä¹‹åå†æ˜ å°„åˆ°æ•°æ®åº“è®°å½•ï¼ŒæŸ¥è¯¢æ•ˆç‡å°±ä¼šé«˜å¾ˆå¤šã€‚</p><p>ç´¢å¼•å°±å¥½åƒä¹¦çš„ç›®å½•ï¼Œé€šè¿‡ç›®å½•å»æŸ¥æ‰¾å¯¹åº”çš„ç« èŠ‚å†…å®¹ä¼šæ¯”ä¸€é¡µä¸€é¡µçš„ç¿»ä¹¦å¿«å¾ˆå¤šã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-6b9c9901-9bf3-46ed-a5c4-c1b781965c1e.jpg" alt="ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šç´¢å¼•åŠ å¿«æŸ¥è¯¢è¿œç¦»" tabindex="0" loading="lazy"><figcaption>ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šç´¢å¼•åŠ å¿«æŸ¥è¯¢è¿œç¦»</figcaption></figure><p>å¯é€šè¿‡ <code>create index</code> åˆ›å»ºç´¢å¼•ï¼Œæ¯”å¦‚ï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">create</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> index</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> idx_name</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> on</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> students(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="ç´¢å¼•ä¼˜åŒ–ä¸¾ä¾‹" tabindex="-1"><a class="header-anchor" href="#ç´¢å¼•ä¼˜åŒ–ä¸¾ä¾‹"><span>ç´¢å¼•ä¼˜åŒ–ä¸¾ä¾‹ï¼Ÿ</span></a></h4><p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åˆç†ä½¿ç”¨å•å­—æ®µç´¢å¼•ã€å¤åˆç´¢å¼•å’Œè¦†ç›–ç´¢å¼•æ¥ä¼˜åŒ–æŸ¥è¯¢ã€‚ä¾‹å¦‚ï¼Œå¦‚æœè¦åŠ é€ŸæŸ¥è¯¢ age å­—æ®µçš„æ¡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ age å­—æ®µä¸Šåˆ›å»ºç´¢å¼•ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> INDEX</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> idx_age</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> ON</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> users(age);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>å¦‚æœæŸ¥è¯¢æ¶‰åŠå¤šä¸ªå­—æ®µ age å’Œ nameï¼Œå¯ä»¥ä½¿ç”¨å¤åˆç´¢å¼•æ¥æé«˜æŸ¥è¯¢æ•ˆç‡ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> INDEX</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> idx_age_name</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> ON</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> users(age, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>å½“æˆ‘ä»¬åªéœ€è¦æŸ¥è¯¢éƒ¨åˆ†å­—æ®µæ—¶ <code>SELECT name FROM users WHERE age = 30;</code>ï¼Œè¦†ç›–ç´¢å¼•å¯ä»¥æå‡æŸ¥è¯¢æ•ˆç‡ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> INDEX</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> idx_age_name</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> ON</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> users(age, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>ç”±äº age å’Œ name å­—æ®µéƒ½åœ¨ç´¢å¼•ä¸­ï¼ŒMySQL ç›´æ¥ä»ç´¢å¼•ä¸­è·å–ç»“æœï¼Œæ— éœ€å›è¡¨æŸ¥æ‰¾ã€‚</p><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„è…¾è®¯é¢ç»åŒå­¦ 23 QQ åå°æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šMySQL ç´¢å¼•ï¼Œä¸ºä»€ä¹ˆç”¨ B+æ ‘</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å°ç±³é¢ç»åŒå­¦ E ç¬¬äºŒä¸ªéƒ¨é—¨ Java åç«¯æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šä¸ºä»€ä¹ˆéœ€è¦ç´¢å¼•</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å°å…¬å¸é¢ç»åŒå­¦ 5 Java åç«¯é¢è¯•åŸé¢˜ï¼šæ•°æ®åº“ç´¢å¼•è®²ä¸€ä¸‹ï¼Œç„¶åä¸ºä»€ä¹ˆä¼šåŠ å¿«æŸ¥è¯¢é€Ÿåº¦ï¼Œæˆ‘è®²åˆ°äº† B+æ ‘ï¼Œç„¶åé—®äº† B æ•°ä¸ B+æ ‘åŒºåˆ«</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å»å“ªå„¿é¢ç»åŒå­¦ 1 æŠ€æœ¯äºŒé¢é¢è¯•åŸé¢˜ï¼šmysqlä¸ºä»€ä¹ˆç”¨ç´¢å¼•</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„ OPPO é¢ç»åŒå­¦ 1 é¢è¯•åŸé¢˜ï¼šå¯¹MySQLç´¢å¼•çš„ç†è§£</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„vivo é¢ç»åŒå­¦ 10 æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šç´¢å¼•ï¼Œç´¢å¼•ä¼˜åŒ–ä¸¾ä¾‹ï¼Œä¸ºä»€ä¹ˆä½¿ç”¨ç´¢å¼•æ›´å¿«</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„è…¾è®¯é¢ç»åŒå­¦ 27 äº‘åå°æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šä»‹ç»ä¸‹ç´¢å¼•ï¼Ÿåº•å±‚æ˜¯å•¥ï¼Ÿ</li></ol></blockquote><h3 id="_36-èƒ½ç®€å•è¯´ä¸€ä¸‹ç´¢å¼•çš„åˆ†ç±»å—" tabindex="-1"><a class="header-anchor" href="#_36-èƒ½ç®€å•è¯´ä¸€ä¸‹ç´¢å¼•çš„åˆ†ç±»å—"><span>36.èƒ½ç®€å•è¯´ä¸€ä¸‹ç´¢å¼•çš„åˆ†ç±»å—ï¼Ÿ</span></a></h3><p>MySQL çš„ç´¢å¼•å¯ä»¥æ˜¾è‘—æé«˜æŸ¥è¯¢çš„æ€§èƒ½ï¼Œå¯ä»¥ä»ä¸‰ä¸ªä¸åŒçš„ç»´åº¦å¯¹ç´¢å¼•è¿›è¡Œåˆ†ç±»ï¼ˆåŠŸèƒ½ã€æ•°æ®ç»“æ„ã€å­˜å‚¨ä½ç½®ï¼‰ï¼š</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240311225809.png" alt="äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šç´¢å¼•ç±»å‹" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šç´¢å¼•ç±»å‹</figcaption></figure><h4 id="_01ã€è¯´è¯´ä»åŠŸèƒ½ä¸Šçš„åˆ†ç±»" tabindex="-1"><a class="header-anchor" href="#_01ã€è¯´è¯´ä»åŠŸèƒ½ä¸Šçš„åˆ†ç±»"><span>01ã€è¯´è¯´ä»åŠŸèƒ½ä¸Šçš„åˆ†ç±»ï¼Ÿ</span></a></h4><p>â‘ ã€<strong>ä¸»é”®ç´¢å¼•</strong>: è¡¨ä¸­æ¯è¡Œæ•°æ®å”¯ä¸€æ ‡è¯†çš„ç´¢å¼•ï¼Œå¼ºè°ƒåˆ—å€¼çš„å”¯ä¸€æ€§å’Œéç©ºæ€§ã€‚</p><p>å½“åˆ›å»ºè¡¨çš„æ—¶å€™ï¼Œå¯ä»¥ç›´æ¥æŒ‡å®šä¸»é”®ç´¢å¼•ï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> TABLE</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> users</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    id </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">INT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> AUTO_INCREMENT </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">PRIMARY KEY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    username </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">VARCHAR</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">255</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">NOT NULL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    email </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">VARCHAR</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">255</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>id åˆ—è¢«æŒ‡å®šä¸ºä¸»é”®ç´¢å¼•ï¼ŒåŒæ—¶ï¼ŒMySQL ä¼šè‡ªåŠ¨ä¸ºè¿™ä¸ªåˆ—åˆ›å»ºä¸€ä¸ªèšç°‡ç´¢å¼•ï¼ˆä¸»é”®ç´¢å¼•ä¸€å®šæ˜¯èšç°‡ç´¢å¼•ï¼‰ã€‚</p><p>å¯ä»¥é€šè¿‡ <code>show index from table_name</code> æŸ¥çœ‹ç´¢å¼•ä¿¡æ¯ï¼Œæ¯”å¦‚å‰é¢åˆ›å»ºçš„ users è¡¨ï¼š</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240312090221.png" alt="äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šç´¢å¼•ä¿¡æ¯" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šç´¢å¼•ä¿¡æ¯</figcaption></figure><ul><li><code>Non_unique</code> å¦‚æœç´¢å¼•ä¸èƒ½åŒ…å«é‡å¤è¯ï¼Œåˆ™ä¸º 0ï¼›å¦‚æœå¯ä»¥ï¼Œåˆ™ä¸º 1ã€‚è¿™å¯ä»¥å¸®åŠ©æˆ‘ä»¬åŒºåˆ†æ˜¯å”¯ä¸€ç´¢å¼•è¿˜æ˜¯æ™®é€šç´¢å¼•ã€‚</li><li><code>Key_name</code> ç´¢å¼•çš„åç§°ã€‚å¦‚æœç´¢å¼•æ˜¯ä¸»é”®ï¼Œé‚£ä¹ˆè¿™ä¸ªå€¼æ˜¯ PRIMARYã€‚</li><li><code>Column_name</code> ç´¢å¼•æ‰€åŒ…å«çš„å­—æ®µåã€‚</li><li><code>Index_type</code> ç´¢å¼•çš„ç±»å‹ï¼Œæ¯”å¦‚ BTREEã€HASH ç­‰ã€‚</li></ul><p>â‘¡ã€<strong>å”¯ä¸€ç´¢å¼•</strong>: ä¿è¯æ•°æ®åˆ—ä¸­æ¯è¡Œæ•°æ®çš„å”¯ä¸€æ€§ï¼Œä½†å…è®¸æœ‰ç©ºå€¼ã€‚</p><p>å¯ä»¥é€šè¿‡ä¸‹é¢çš„è¯­å¥åˆ›å»ºå”¯ä¸€ç´¢å¼•ï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> UNIQUE INDEX</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> idx_username</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> ON</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> users(username);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>åŒæ ·å¯ä»¥é€šè¿‡ <code>show index from table_name</code> ç¡®è®¤ç´¢å¼•ä¿¡æ¯ï¼š</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240312091008.png" alt="äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šå”¯ä¸€ç´¢å¼•" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šå”¯ä¸€ç´¢å¼•</figcaption></figure><p><code>Non_unique</code> ä¸º 0ï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªå”¯ä¸€ç´¢å¼•ã€‚</p><p>â‘¢ã€<strong>æ™®é€šç´¢å¼•</strong>: åŸºæœ¬çš„ç´¢å¼•ç±»å‹ï¼Œç”¨äºåŠ é€ŸæŸ¥è¯¢ã€‚</p><p>å¯ä»¥é€šè¿‡ä¸‹é¢çš„è¯­å¥åˆ›å»ºæ™®é€šç´¢å¼•ï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> INDEX</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> idx_email</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> ON</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> users(email);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>è¿™æ¬¡æˆ‘ä»¬é€šè¿‡ä¸‹é¢çš„è¯­å¥ä¸€èµ·æŠŠä¸‰ä¸ªç´¢å¼•çš„å…³é”®ä¿¡æ¯æŸ¥å‡ºæ¥ï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> `TABLE_NAME`</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> AS</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> `Table`</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">`NON_UNIQUE`</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">`INDEX_NAME`</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> AS</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> `Key_name`</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">`COLUMN_NAME`</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> AS</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> `Column_name`</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">`INDEX_TYPE`</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> AS</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> `Index_type`</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> information_schema</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">statistics</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">WHERE</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> `TABLE_NAME`</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;users&#39;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> AND</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> `TABLE_SCHEMA`</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> DATABASE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240312091632.png" alt="äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šæ™®é€šç´¢å¼•" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šæ™®é€šç´¢å¼•</figcaption></figure><p>å¯ä»¥ç¡®å®š idx_email æ˜¯ä¸€ä¸ªæ™®é€šç´¢å¼•ï¼Œå› ä¸º <code>Non_unique</code> ä¸º 1ã€‚</p><p>â‘£ã€<strong>å…¨æ–‡ç´¢å¼•</strong>ï¼šç‰¹å®šäºæ–‡æœ¬æ•°æ®çš„ç´¢å¼•ï¼Œç”¨äºæé«˜æ–‡æœ¬æœç´¢çš„æ•ˆç‡ã€‚</p><p>å‡è®¾æœ‰ä¸€ä¸ªåä¸º articles çš„è¡¨ï¼Œä¸‹é¢è¿™æ¡è¯­å¥åœ¨ content åˆ—ä¸Šåˆ›å»ºäº†ä¸€ä¸ªå…¨æ–‡ç´¢å¼•ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> FULLTEXT</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> INDEX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> idx_article_content </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">ON</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> articles(content);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="_02ã€è¯´è¯´ä»æ•°æ®ç»“æ„ä¸Šåˆ†ç±»" tabindex="-1"><a class="header-anchor" href="#_02ã€è¯´è¯´ä»æ•°æ®ç»“æ„ä¸Šåˆ†ç±»"><span>02ã€è¯´è¯´ä»æ•°æ®ç»“æ„ä¸Šåˆ†ç±»ï¼Ÿ</span></a></h4><p>â‘ ã€B+æ ‘ç´¢å¼•ï¼šæœ€å¸¸è§çš„ç´¢å¼•ç±»å‹ï¼Œä¸€ç§å°†ç´¢å¼•å€¼æŒ‰ç…§ä¸€å®šçš„ç®—æ³•ï¼Œå­˜å…¥ä¸€ä¸ªæ ‘å½¢çš„æ•°æ®ç»“æ„ä¸­ï¼ˆäºŒå‰æ ‘ï¼‰ï¼Œæ¯æ¬¡æŸ¥è¯¢éƒ½ä»æ ‘çš„æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œä¸€æ¬¡éå†å¶å­èŠ‚ç‚¹ï¼Œæ‰¾åˆ°å¯¹åº”çš„å€¼ã€‚æŸ¥è¯¢æ•ˆç‡æ˜¯ O(logN)ã€‚</p><p>ä¹Ÿæ˜¯ <strong>InnoDB å­˜å‚¨å¼•æ“çš„é»˜è®¤ç´¢å¼•ç±»å‹</strong>ã€‚</p><p>B+ æ ‘æ˜¯ B æ ‘çš„å‡çº§ç‰ˆï¼ŒB+ æ ‘ä¸­çš„éå¶å­èŠ‚ç‚¹éƒ½ä¸å­˜å‚¨æ•°æ®ï¼Œåªå­˜å‚¨ç´¢å¼•ã€‚å¶å­èŠ‚ç‚¹ä¸­å­˜å‚¨äº†æ‰€æœ‰çš„æ•°æ®ï¼Œå¹¶ä¸”æ„æˆäº†ä¸€ä¸ªä»å°åˆ°å¤§çš„æœ‰åºåŒå‘é“¾è¡¨ï¼Œä½¿å¾—åœ¨å®Œæˆä¸€æ¬¡æ ‘çš„éå†å®šä½åˆ°èŒƒå›´æŸ¥è¯¢çš„èµ·ç‚¹åï¼Œå¯ä»¥ç›´æ¥é€šè¿‡å¶å­èŠ‚ç‚¹é—´çš„æŒ‡é’ˆé¡ºåºè®¿é—®æ•´ä¸ªæŸ¥è¯¢èŒƒå›´å†…çš„æ‰€æœ‰è®°å½•ï¼Œè€Œæ— éœ€å¯¹æ ‘è¿›è¡Œå¤šæ¬¡éå†ã€‚è¿™åœ¨å¤„ç†å¤§èŒƒå›´çš„æŸ¥è¯¢æ—¶ç‰¹åˆ«é«˜æ•ˆã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240312092745.png" alt="ä¸€é¢—å‰½æ‚çš„ç§å­ï¼šB+æ ‘çš„ç»“æ„" tabindex="0" loading="lazy"><figcaption>ä¸€é¢—å‰½æ‚çš„ç§å­ï¼šB+æ ‘çš„ç»“æ„</figcaption></figure><p>å› ä¸º B+ æ ‘æ˜¯ InnoDB çš„é»˜è®¤ç´¢å¼•ç±»å‹ï¼Œæ‰€ä»¥åˆ›å»º B+ æ ‘çš„æ—¶å€™ä¸éœ€è¦æŒ‡å®šç´¢å¼•ç±»å‹ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> TABLE</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> example_btree</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    id </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">INT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> AUTO_INCREMENT </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">PRIMARY KEY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    name</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> VARCHAR</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">255</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    INDEX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> name_index (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) ENGINE</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">InnoDB;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>â‘¡ã€Hash ç´¢å¼•ï¼šåŸºäºå“ˆå¸Œè¡¨çš„ç´¢å¼•ï¼ŒæŸ¥è¯¢æ•ˆç‡å¯ä»¥è¾¾åˆ° O(1)ã€‚</p><p>Hash ç´¢å¼•åœ¨åŸç†ä¸Šå’Œ Java ä¸­çš„ <a href="https://javabetter.cn/collection/hashmap.html" target="_blank" rel="noopener noreferrer">HashMap</a> ç±»ä¼¼ï¼Œå½“å‘ç”Ÿå“ˆå¸Œå†²çªçš„æ—¶å€™ä¹Ÿæ˜¯é€šè¿‡æ‹‰é“¾æ³•æ¥è§£å†³ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240312094537.png" alt="ä¸šä½™ç å†œï¼šå“ˆå¸Œç´¢å¼•" tabindex="0" loading="lazy"><figcaption>ä¸šä½™ç å†œï¼šå“ˆå¸Œç´¢å¼•</figcaption></figure><p>å¯ä»¥é€šè¿‡ä¸‹é¢çš„è¯­å¥åˆ›å»ºå“ˆå¸Œç´¢å¼•ï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> TABLE</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> example_hash</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    id </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">INT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> AUTO_INCREMENT </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">PRIMARY KEY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    name</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> VARCHAR</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">255</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    UNIQUE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> HASH</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) ENGINE</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">MEMORY;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ³¨æ„ï¼Œæˆ‘ä»¬è¿™é‡Œåˆ›å»ºçš„æ˜¯ MEMORY å­˜å‚¨å¼•æ“ï¼ŒInnoDB å¹¶ä¸æä¾›ç›´æ¥åˆ›å»ºå“ˆå¸Œç´¢å¼•çš„é€‰é¡¹ï¼Œå› ä¸º B+ æ ‘ç´¢å¼•èƒ½å¤Ÿå¾ˆå¥½åœ°æ”¯æŒèŒƒå›´æŸ¥è¯¢å’Œç­‰å€¼æŸ¥è¯¢ï¼Œæ»¡è¶³äº†å¤§å¤šæ•°æ•°æ®åº“æ“ä½œçš„éœ€è¦ã€‚</p><p>ä¸è¿‡ï¼ŒInnoDB å­˜å‚¨å¼•æ“å†…éƒ¨ä½¿ç”¨äº†ä¸€ç§åä¸ºâ€œè‡ªé€‚åº”å“ˆå¸Œç´¢å¼•â€ï¼ˆAdaptive Hash Index, AHIï¼‰çš„æŠ€æœ¯ã€‚</p><p>è‡ªé€‚åº”å“ˆå¸Œç´¢å¼•å¹¶ä¸æ˜¯ç”±ç”¨æˆ·æ˜¾å¼åˆ›å»ºçš„ï¼Œè€Œæ˜¯ InnoDB æ ¹æ®æ•°æ®è®¿é—®çš„æ¨¡å¼è‡ªåŠ¨å»ºç«‹å’Œç®¡ç†çš„ã€‚å½“ InnoDB å‘ç°æŸä¸ªç´¢å¼•è¢«é¢‘ç¹è®¿é—®æ—¶ï¼Œä¼šåœ¨å†…å­˜ä¸­åˆ›å»ºä¸€ä¸ªå“ˆå¸Œç´¢å¼•ï¼Œä»¥åŠ é€Ÿå¯¹è¿™ä¸ªç´¢å¼•çš„è®¿é—®ã€‚</p><p>å¯ä»¥é€šè¿‡ä¸‹é¢çš„è¯­å¥æŸ¥çœ‹è‡ªé€‚åº”å“ˆå¸Œç´¢å¼•çš„çŠ¶æ€ï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">SHOW VARIABLES </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">LIKE</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;innodb_adaptive_hash_index&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>å¦‚æœè¿”å›çš„å€¼æ˜¯ ONï¼Œè¯´æ˜è‡ªé€‚åº”å“ˆå¸Œç´¢å¼•æ˜¯å¼€å¯çš„ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240312095811.png" alt="äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯</figcaption></figure><h4 id="_03ã€è¯´è¯´ä»å­˜å‚¨ä½ç½®ä¸Šåˆ†ç±»" tabindex="-1"><a class="header-anchor" href="#_03ã€è¯´è¯´ä»å­˜å‚¨ä½ç½®ä¸Šåˆ†ç±»"><span>03ã€è¯´è¯´ä»å­˜å‚¨ä½ç½®ä¸Šåˆ†ç±»ï¼š</span></a></h4><p>â‘ ã€èšç°‡ç´¢å¼•ï¼šèšç°‡ç´¢å¼•çš„å¶å­èŠ‚ç‚¹ä¿å­˜äº†ä¸€è¡Œè®°å½•çš„æ‰€æœ‰åˆ—ä¿¡æ¯ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œèšç°‡ç´¢å¼•çš„å¶å­èŠ‚ç‚¹ä¸­ï¼ŒåŒ…å«äº†ä¸€ä¸ªå®Œæ•´çš„è®°å½•è¡Œã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240311231652.png" alt="ä»£ç æ•²ä¸Šå¤©.ï¼šèšç°‡ç´¢å¼•" tabindex="0" loading="lazy"><figcaption>ä»£ç æ•²ä¸Šå¤©.ï¼šèšç°‡ç´¢å¼•</figcaption></figure><p>â‘¡ã€éèšç°‡ç´¢å¼•ï¼šå®ƒçš„å¶å­èŠ‚ç‚¹åªåŒ…å«ä¸€ä¸ªä¸»é”®å€¼ï¼Œé€šè¿‡éèšç°‡ç´¢å¼•æŸ¥æ‰¾è®°å½•è¦å…ˆæ‰¾åˆ°ä¸»é”®ï¼Œç„¶åé€šè¿‡ä¸»é”®å†åˆ°èšç°‡ç´¢å¼•ä¸­æ‰¾åˆ°å¯¹åº”çš„è®°å½•è¡Œï¼Œè¿™ä¸ªè¿‡ç¨‹è¢«ç§°ä¸ºå›è¡¨ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240311231611.png" alt="ä»£ç æ•²ä¸Šå¤©.éèšç°‡ç´¢å¼•ï¼Œä»¥ age ä¸ºç´¢å¼•" tabindex="0" loading="lazy"><figcaption>ä»£ç æ•²ä¸Šå¤©.éèšç°‡ç´¢å¼•ï¼Œä»¥ age ä¸ºç´¢å¼•</figcaption></figure><p>InnoDB å­˜å‚¨å¼•æ“çš„ä¸»é”®ä½¿ç”¨çš„æ˜¯èšç°‡ç´¢å¼•ï¼ŒMyISAM å­˜å‚¨å¼•æ“ä¸ç®¡æ˜¯ä¸»é”®ç´¢å¼•ï¼Œè¿˜æ˜¯äºŒçº§ç´¢å¼•ä½¿ç”¨çš„éƒ½æ˜¯éèšç°‡ç´¢å¼•ã€‚</p><p>æƒ³è¦äº†è§£ B æ ‘å’Œ B+æ ‘çš„æ›´å¤šåŒºåˆ«ï¼Œæ¨èé˜…è¯»ï¼š</p><ul><li><a href="https://github.com/wardseptember/notes/blob/master/docs/B%E6%A0%91%E5%92%8CB+%E6%A0%91%E8%AF%A6%E8%A7%A3.md" target="_blank" rel="noopener noreferrer">GitHubï¼šB æ ‘å’Œ B+æ ‘è¯¦è§£</a></li><li><a href="https://segmentfault.com/a/1190000020416577" target="_blank" rel="noopener noreferrer">æ€å¦ï¼šé¢è¯•å®˜é—®ä½  B æ ‘å’Œ B+æ ‘ï¼Œå°±æŠŠè¿™ç¯‡æ–‡ç« ä¸¢ç»™ä»–</a></li><li><a href="https://time.geekbang.org/column/article/112298" target="_blank" rel="noopener noreferrer">æå®¢æ—¶é—´ï¼šä¸ºä»€ä¹ˆç”¨ B+æ ‘æ¥åšç´¢å¼•ï¼Ÿ</a></li><li><a href="https://mp.weixin.qq.com/s/muOwXKNTvPjXjrLsFRveIw" target="_blank" rel="noopener noreferrer">ä¸€é¢—å‰½æ‚çš„ç§å­ï¼šç”¨ 16 å¼ å›¾å°±ç»™ä½ è®²æ˜ç™½ MySQL ä¸ºä»€ä¹ˆè¦ç”¨ B+æ ‘åšç´¢å¼•</a></li></ul><p>æƒ³è¦äº†è§£æ›´å¤šèšç°‡ç´¢å¼•å’Œéèšç°‡ç´¢å¼•ï¼Œæ¨èé˜…è¯»ï¼š</p><ul><li><a href="https://www.cnblogs.com/vipstone/p/16370305.html" target="_blank" rel="noopener noreferrer">ç£Šå“¥ï¼šèšç°‡ç´¢å¼•å’Œéèšç°‡ç´¢å¼•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</a></li><li><a href="https://learnku.com/articles/50096" target="_blank" rel="noopener noreferrer">æµ…è°ˆèšç°‡ç´¢å¼•ä¸éèšç°‡ç´¢å¼•</a></li><li><a href="https://blog.csdn.net/m0_52226803/article/details/135494499" target="_blank" rel="noopener noreferrer">èšç°‡ç´¢å¼•ã€éèšç°‡ç´¢å¼•ã€è”åˆç´¢å¼•ã€å”¯ä¸€ç´¢å¼•</a></li><li><a href="https://mp.weixin.qq.com/s/F0cEzIqecF4sWg7ZRmHKRQ" target="_blank" rel="noopener noreferrer">æ¾å“¥ï¼šå†èŠ MySQL èšç°‡ç´¢å¼•</a></li></ul><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„ç§‘å¤§è®¯é£éå‡¡è®¡åˆ’ç ”å‘ç±»é¢ç»åŸé¢˜ï¼šèŠèŠ MySQL çš„ç´¢å¼•</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„è…¾è®¯é¢ç»åŒå­¦ 23 QQ åå°æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šMySQL ç´¢å¼•ï¼Œä¸ºä»€ä¹ˆç”¨ B+æ ‘</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„æºç¨‹é¢ç»åŒå­¦ 10 Java æš‘æœŸå®ä¹ ä¸€é¢é¢è¯•åŸé¢˜ï¼šè®²ä¸€è®² MySQL çš„ç´¢å¼•ï¼Œå¦‚ä½•ä¼˜åŒ– SQLï¼Ÿ</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„é˜¿é‡Œé¢ç»åŒå­¦ 5 é˜¿é‡Œå¦ˆå¦ˆ Java åç«¯æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šç´¢å¼•çš„åˆ†ç±»ï¼Œåˆ›å»ºç´¢å¼•çš„æœ€ä½³å®è·µ</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„ 360 é¢ç»åŒå­¦ 3 Java åç«¯æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šmysql çš„ç´¢å¼•ç”¨è¿‡å“ªäº›</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„ç”¨å‹é¢è¯•åŸé¢˜ï¼šç´¢å¼•æ˜¯ä»€ä¹ˆï¼Ÿæœ‰å“ªäº›ç´¢å¼•</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„ä½œä¸šå¸®é¢ç»åŒå­¦ 1 Java åç«¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šæ™®é€šç´¢å¼•çš„å¶å­èŠ‚ç‚¹å­˜å‚¨çš„æ˜¯ä»€ä¹ˆ</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„ä½œä¸šå¸®é¢ç»åŒå­¦ 1 Java åç«¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šinnodbåº•å±‚æœ‰å“ªäº›æ•°æ®ç»“æ„</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„æ¯”äºšè¿ªé¢ç»åŒå­¦ 12 Java æŠ€æœ¯é¢è¯•åŸé¢˜ï¼šç´¢å¼•æœ‰å“ªäº›ï¼ŒåŒºåˆ«æ˜¯ä»€ä¹ˆ</li></ol></blockquote><h3 id="_37-åˆ›å»ºç´¢å¼•æœ‰å“ªäº›æ³¨æ„ç‚¹" tabindex="-1"><a class="header-anchor" href="#_37-åˆ›å»ºç´¢å¼•æœ‰å“ªäº›æ³¨æ„ç‚¹"><span>37.åˆ›å»ºç´¢å¼•æœ‰å“ªäº›æ³¨æ„ç‚¹ï¼Ÿ</span></a></h3><p>â‘ ã€é€‰æ‹©åˆé€‚çš„åˆ—ä½œä¸ºç´¢å¼•</p><ul><li>ç»å¸¸ä½œä¸ºæŸ¥è¯¢æ¡ä»¶ï¼ˆWHERE å­å¥ï¼‰ã€æ’åºæ¡ä»¶ï¼ˆORDER BY å­å¥ï¼‰ã€åˆ†ç»„æ¡ä»¶ï¼ˆGROUP BY å­å¥ï¼‰çš„åˆ—æ˜¯å»ºç«‹ç´¢å¼•çš„å¥½é€‰é¡¹ã€‚</li><li>åŒºåˆ†åº¦ä½çš„å­—æ®µï¼Œä¾‹å¦‚æ€§åˆ«ï¼Œä¸è¦å»ºç´¢å¼•</li><li>é¢‘ç¹æ›´æ–°çš„å­—æ®µï¼Œä¸è¦å»ºç´¢å¼•</li></ul><p>â‘¡ã€é¿å…è¿‡å¤šçš„ç´¢å¼•</p><ul><li>å› ä¸ºæ¯ä¸ªç´¢å¼•éƒ½éœ€è¦å ç”¨é¢å¤–çš„ç£ç›˜ç©ºé—´ã€‚</li><li>æ›´æ–°è¡¨ï¼ˆINSERTã€UPDATEã€DELETE æ“ä½œï¼‰çš„æ—¶å€™ï¼Œç´¢å¼•éƒ½éœ€è¦è¢«æ›´æ–°ã€‚</li></ul><p>â‘¢ã€åˆ©ç”¨å‰ç¼€ç´¢å¼•å’Œç´¢å¼•åˆ—çš„é¡ºåº</p><ul><li>å¯¹äºå­—ç¬¦ä¸²ç±»å‹çš„åˆ—ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨å‰ç¼€ç´¢å¼•æ¥å‡å°‘ç´¢å¼•å¤§å°ã€‚</li><li>åœ¨åˆ›å»ºè”åˆç´¢å¼•æ—¶ï¼Œåº”è¯¥æ ¹æ®æŸ¥è¯¢æ¡ä»¶å°†æœ€å¸¸ç”¨çš„æ”¾åœ¨å‰é¢ï¼Œéµå®ˆæœ€å·¦å‰ç¼€åŸåˆ™ã€‚</li></ul><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„ç”¨å‹é‡‘èä¸€é¢åŸé¢˜ï¼šç´¢å¼•çš„ä½œç”¨ï¼ŒåŠ ç´¢å¼•éœ€è¦æ³¨æ„ä»€ä¹ˆ</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„äº¬ä¸œåŒå­¦ 10 åç«¯å®ä¹ ä¸€é¢çš„åŸé¢˜ï¼šæŸ¥è¯¢å’Œæ›´æ–°éƒ½é¢‘ç¹çš„å­—æ®µæ˜¯å¦é€‚åˆåˆ›å»ºç´¢å¼•ï¼Œä¸ºä»€ä¹ˆ</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å°ç±³æ˜¥æ‹›åŒå­¦ K ä¸€é¢é¢è¯•åŸé¢˜ï¼šç´¢å¼•æ€ä¹ˆè®¾è®¡æ‰æ˜¯æœ€å¥½çš„</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„äº¬ä¸œé¢ç»åŒå­¦ 1 Java æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šMySQL ç´¢å¼•ç»“æ„ï¼Œå»ºç«‹ç´¢å¼•çš„ç­–ç•¥</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„é˜¿é‡Œé¢ç»åŒå­¦ 5 é˜¿é‡Œå¦ˆå¦ˆ Java åç«¯æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šç´¢å¼•çš„åˆ†ç±»ï¼Œåˆ›å»ºç´¢å¼•çš„æœ€ä½³å®è·µ</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„oppo é¢ç»åŒå­¦ 8 åç«¯å¼€å‘ç§‹æ‹›ä¸€é¢é¢è¯•åŸé¢˜ï¼šå»ºç´¢å¼•çš„æ—¶å€™åº”è¯¥æ³¨æ„ä»€ä¹ˆ</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„äº¬ä¸œé¢ç»åŒå­¦ 5 Java åç«¯æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šå»ºç«‹ç´¢å¼•è€ƒè™‘å“ªäº›é—®é¢˜</li></ol></blockquote><h3 id="_38-ç´¢å¼•å“ªäº›æƒ…å†µä¸‹ä¼šå¤±æ•ˆå‘¢" tabindex="-1"><a class="header-anchor" href="#_38-ç´¢å¼•å“ªäº›æƒ…å†µä¸‹ä¼šå¤±æ•ˆå‘¢"><span>38.ç´¢å¼•å“ªäº›æƒ…å†µä¸‹ä¼šå¤±æ•ˆå‘¢ï¼Ÿ</span></a></h3><ul><li><strong>åœ¨ç´¢å¼•åˆ—ä¸Šä½¿ç”¨å‡½æ•°æˆ–è¡¨è¾¾å¼</strong>ï¼šç´¢å¼•å¯èƒ½æ— æ³•ä½¿ç”¨ï¼Œå› ä¸º MySQL æ— æ³•é¢„å…ˆè®¡ç®—å‡ºå‡½æ•°æˆ–è¡¨è¾¾å¼çš„ç»“æœã€‚ä¾‹å¦‚ï¼š<code>SELECT * FROM table WHERE YEAR(date_column) = 2021</code>ã€‚</li><li>ä½¿ç”¨ä¸ç­‰äºï¼ˆ<code>&lt;&gt;</code>ï¼‰æˆ–è€… NOT æ“ä½œç¬¦ï¼šå› ä¸ºå®ƒä»¬ä¼šæ‰«æå…¨è¡¨ã€‚</li><li><strong>ä½¿ç”¨ LIKE è¯­å¥ï¼Œä½†é€šé…ç¬¦åœ¨å‰é¢</strong>ï¼šä»¥â€œ%â€æˆ–è€…â€œ_â€å¼€å¤´ï¼Œç´¢å¼•ä¹Ÿæ— æ³•ä½¿ç”¨ã€‚ä¾‹å¦‚ï¼š<code>SELECT * FROM table WHERE column LIKE &#39;%abc&#39;</code>ã€‚</li><li>è”åˆç´¢å¼•ï¼Œä½† WHERE ä¸æ»¡è¶³æœ€å·¦å‰ç¼€åŸåˆ™ï¼Œç´¢å¼•æ— æ³•èµ·æ•ˆã€‚ä¾‹å¦‚ï¼š<code>SELECT * FROM table WHERE column2 = 2</code>ï¼Œè”åˆç´¢å¼•ä¸º <code>(column1, column2)</code>ã€‚</li></ul><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å­—èŠ‚è·³åŠ¨é¢ç»åŒå­¦ 1 Java åç«¯æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šwhere b =5 æ˜¯å¦ä¸€å®šä¼šå‘½ä¸­ç´¢å¼•ï¼Ÿï¼ˆç´¢å¼•å¤±æ•ˆåœºæ™¯ï¼‰</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„äº¬ä¸œé¢ç»åŒå­¦ 1 Java æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šç´¢å¼•å¤±æ•ˆçš„æƒ…å†µ</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å°å…¬å¸é¢ç»åˆé›†åŒå­¦ 1 Java åç«¯é¢è¯•åŸé¢˜ï¼šç¼–å†™ SQL è¯­å¥å“ªäº›æƒ…å†µä¼šå¯¼è‡´ç´¢å¼•å¤±æ•ˆï¼Ÿ</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„æ¯”äºšè¿ªé¢ç»åŒå­¦ 12 Java æŠ€æœ¯é¢è¯•åŸé¢˜ï¼šç´¢å¼•å¤±æ•ˆåœºæ™¯</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„ OPPO é¢ç»åŒå­¦ 1 é¢è¯•åŸé¢˜ï¼šä»€ä¹ˆæƒ…å†µä¸‹ç´¢å¼•å¤±æ•ˆï¼Ÿ</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„äº¬ä¸œé¢ç»åŒå­¦ 5 Java åç«¯æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šç´¢å¼•å¤±æ•ˆæƒ…å†µ</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„ç†æƒ³æ±½è½¦é¢ç»åŒå­¦ 2 ä¸€é¢é¢è¯•åŸé¢˜ï¼šä»€ä¹ˆæ“ä½œä¼šå¯¼è‡´ç´¢å¼•å¤±æ•ˆï¼Ÿ</li></ol></blockquote><h3 id="_39-ç´¢å¼•ä¸é€‚åˆå“ªäº›åœºæ™¯å‘¢" tabindex="-1"><a class="header-anchor" href="#_39-ç´¢å¼•ä¸é€‚åˆå“ªäº›åœºæ™¯å‘¢"><span>39.ç´¢å¼•ä¸é€‚åˆå“ªäº›åœºæ™¯å‘¢ï¼Ÿ</span></a></h3><ul><li><strong>æ•°æ®è¡¨è¾ƒå°</strong>ï¼šå½“è¡¨ä¸­çš„æ•°æ®é‡å¾ˆå°ï¼Œæˆ–è€…æŸ¥è¯¢éœ€è¦æ‰«æè¡¨ä¸­å¤§éƒ¨åˆ†æ•°æ®æ—¶ï¼Œæ•°æ®åº“ä¼˜åŒ–å™¨å¯èƒ½ä¼šé€‰æ‹©å…¨è¡¨æ‰«æè€Œä¸æ˜¯ä½¿ç”¨ç´¢å¼•ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç»´æŠ¤ç´¢å¼•çš„å¼€é”€å¯èƒ½å¤§äºå…¶å¸¦æ¥çš„æ€§èƒ½æå‡ã€‚</li><li><strong>é¢‘ç¹æ›´æ–°çš„åˆ—</strong>ï¼šå¯¹äºç»å¸¸è¿›è¡Œæ›´æ–°ã€åˆ é™¤æˆ–æ’å…¥æ“ä½œçš„åˆ—ï¼Œä½¿ç”¨ç´¢å¼•å¯èƒ½ä¼šå¯¼è‡´æ€§èƒ½ä¸‹é™ã€‚å› ä¸ºæ¯æ¬¡æ•°æ®å˜æ›´æ—¶ï¼Œç´¢å¼•ä¹Ÿéœ€è¦æ›´æ–°ï¼Œè¿™ä¼šå¢åŠ é¢å¤–çš„å†™æ“ä½œè´Ÿæ‹…ã€‚</li></ul><h4 id="æ€§åˆ«å­—æ®µè¦å»ºç«‹ç´¢å¼•å—" tabindex="-1"><a class="header-anchor" href="#æ€§åˆ«å­—æ®µè¦å»ºç«‹ç´¢å¼•å—"><span>æ€§åˆ«å­—æ®µè¦å»ºç«‹ç´¢å¼•å—ï¼Ÿ</span></a></h4><p>æ€§åˆ«å­—æ®µé€šå¸¸ä¸é€‚åˆå»ºç«‹ç´¢å¼•ã€‚å› ä¸ºæ€§åˆ«å­—æ®µçš„é€‰æ‹©æ€§ï¼ˆåŒºåˆ†åº¦ï¼‰è¾ƒä½ï¼Œç‹¬ç«‹ç´¢å¼•æ•ˆæœæœ‰é™ã€‚</p><p>å¦‚æœæ€§åˆ«å­—æ®µåˆå¾ˆå°‘ç”¨äºæŸ¥è¯¢ï¼Œè¡¨çš„æ•°æ®è§„æ¨¡è¾ƒå°ï¼Œé‚£ä¹ˆå»ºç«‹ç´¢å¼•åè€Œä¼šå¢åŠ é¢å¤–çš„å­˜å‚¨ç©ºé—´å’Œç»´æŠ¤æˆæœ¬ã€‚</p><p>å¦‚æœæ€§åˆ«å­—æ®µç¡®å®ç»å¸¸ç”¨äºæŸ¥è¯¢æ¡ä»¶ï¼Œæ•°æ®è§„æ¨¡ä¹Ÿæ¯”è¾ƒå¤§ï¼Œå¯ä»¥å°†æ€§åˆ«å­—æ®µä½œä¸ºå¤åˆç´¢å¼•çš„ä¸€éƒ¨åˆ†ï¼Œä¸é€‰æ‹©æ€§è¾ƒé«˜çš„å­—æ®µä¸€èµ·åŠ ç´¢å¼•ï¼Œä¼šæ›´å¥½ä¸€äº›ã€‚</p><h4 id="ä»€ä¹ˆæ˜¯åŒºåˆ†åº¦" tabindex="-1"><a class="header-anchor" href="#ä»€ä¹ˆæ˜¯åŒºåˆ†åº¦"><span>ä»€ä¹ˆæ˜¯åŒºåˆ†åº¦ï¼Ÿ</span></a></h4><p>åŒºåˆ†åº¦ï¼ˆSelectivityï¼‰æ˜¯è¡¡é‡ä¸€ä¸ªå­—æ®µåœ¨æ•°æ®åº“è¡¨ä¸­å”¯ä¸€å€¼çš„æ¯”ä¾‹ï¼Œç”¨æ¥è¡¨ç¤ºè¯¥å­—æ®µåœ¨ç´¢å¼•ä¼˜åŒ–ä¸­çš„æœ‰æ•ˆæ€§ã€‚</p><p>åŒºåˆ†åº¦ = å­—æ®µçš„å”¯ä¸€å€¼æ•°é‡ / å­—æ®µçš„æ€»è®°å½•æ•°ï¼›æ¥è¿‘ 1ï¼Œå­—æ®µå€¼å¤§éƒ¨åˆ†æ˜¯å”¯ä¸€çš„ã€‚ä¾‹å¦‚ï¼Œç”¨æˆ·çš„å”¯ä¸€ IDï¼Œä¸€èˆ¬éƒ½æ˜¯ä¸»é”®ç´¢å¼•ã€‚æ¥è¿‘ 0ï¼Œåˆ™è¯´æ˜å­—æ®µå€¼é‡å¤åº¦é«˜ã€‚</p><p>ä¾‹å¦‚ï¼Œä¸€ä¸ªè¡¨ä¸­æœ‰ 1000 æ¡è®°å½•ï¼Œå…¶ä¸­æ€§åˆ«å­—æ®µåªæœ‰ä¸¤ä¸ªå€¼ï¼ˆç”·ã€å¥³ï¼‰ï¼Œé‚£ä¹ˆæ€§åˆ«å­—æ®µçš„åŒºåˆ†åº¦åªæœ‰ 0.002ã€‚</p><p>é«˜åŒºåˆ†åº¦çš„å­—æ®µæ›´é€‚åˆæ‹¿æ¥ä½œä¸ºç´¢å¼•ï¼Œå› ä¸ºç´¢å¼•å¯ä»¥æ›´æœ‰æ•ˆåœ°ç¼©å°æŸ¥è¯¢èŒƒå›´ã€‚</p><h4 id="mysqlæŸ¥çœ‹å­—æ®µåŒºåˆ†åº¦çš„å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#mysqlæŸ¥çœ‹å­—æ®µåŒºåˆ†åº¦çš„å‘½ä»¤"><span>MySQLæŸ¥çœ‹å­—æ®µåŒºåˆ†åº¦çš„å‘½ä»¤ï¼Ÿ</span></a></h4><p>åœ¨ MySQL ä¸­ï¼Œå¯ä»¥é€šè¿‡ <code>COUNT(DISTINCT column_name)</code> å’Œ <code>COUNT(*)</code> çš„æ¯”å€¼æ¥è®¡ç®—å­—æ®µçš„åŒºåˆ†åº¦ã€‚ä¾‹å¦‚ï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">    COUNT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">DISTINCT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> gender) / </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">COUNT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(*) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">AS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> gender_selectivity</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    users;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="ä»€ä¹ˆæ ·çš„å­—æ®µé€‚åˆåŠ ç´¢å¼•-ä»€ä¹ˆä¸é€‚åˆ" tabindex="-1"><a class="header-anchor" href="#ä»€ä¹ˆæ ·çš„å­—æ®µé€‚åˆåŠ ç´¢å¼•-ä»€ä¹ˆä¸é€‚åˆ"><span>ä»€ä¹ˆæ ·çš„å­—æ®µé€‚åˆåŠ ç´¢å¼•ï¼Ÿä»€ä¹ˆä¸é€‚åˆï¼Ÿ</span></a></h4><p>é€‚åˆåŠ ç´¢å¼•çš„å­—æ®µåŒ…æ‹¬ï¼š</p><ul><li>ç»å¸¸å‡ºç°åœ¨ WHERE å­å¥ä¸­çš„å­—æ®µï¼Œå¦‚ <code>SELECT * FROM users WHERE age = 30</code> ä¸­çš„ age å­—æ®µï¼ŒåŠ ä¸Šç´¢å¼•åå¯ä»¥å¿«é€Ÿå®šä½åˆ°æ»¡è¶³æ¡ä»¶çš„è®°å½•ã€‚</li><li>ç»å¸¸ç”¨äº JOIN çš„å­—æ®µï¼Œå¦‚ <code>SELECT * FROM users u JOIN orders o ON u.id = o.user_id</code> ä¸­çš„ user_id å­—æ®µï¼ŒåŠ ä¸Šç´¢å¼•åå¯ä»¥é¿å…å¤šè¡¨æ‰«æã€‚</li><li>ç»å¸¸å‡ºç°åœ¨ ORDER BY æˆ– GROUP BY å­å¥ä¸­çš„å­—æ®µï¼Œå¦‚ <code>SELECT * FROM users ORDER BY age</code> ä¸­çš„ age å­—æ®µã€‚åŠ ä¸Šç´¢å¼•åå¯ä»¥é¿å…é¢å¤–çš„æ’åºæ“ä½œã€‚</li><li>é«˜åŒºåˆ†åº¦çš„å­—æ®µï¼ŒæŸ¥è¯¢æ—¶å¯ä»¥æœ‰æ•ˆå‡å°‘è¿”å›çš„æ•°æ®è¡Œï¼Œæ¯”å¦‚ç”¨æˆ· IDã€é‚®ç®±ç­‰ã€‚</li></ul><p>å¯¹åº”çš„ï¼Œä¸é€‚åˆåŠ ç´¢å¼•çš„å­—æ®µåŒ…æ‹¬ï¼š</p><ul><li>ä½åŒºåˆ†åº¦å­—æ®µï¼Œå¦‚æ€§åˆ«ã€çŠ¶æ€ç­‰ã€‚</li><li>ç»å¸¸æ›´æ–°çš„å­—æ®µï¼Œå¦‚ç”¨æˆ·çš„ç™»å½•æ—¶é—´ã€ç™»å½•æ¬¡æ•°ç­‰ã€‚</li><li>ä¸ç»å¸¸å‡ºç°åœ¨æŸ¥è¯¢æ¡ä»¶ä¸­çš„å­—æ®µï¼Œå¦‚ç”¨æˆ·çš„ç”Ÿæ—¥ã€åœ°å€ç­‰ã€‚</li><li>ä½¿ç”¨å‡½æ•°ã€è¿ç®—ç¬¦çš„å­—æ®µã€‚</li></ul><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å­—èŠ‚è·³åŠ¨é¢ç»åŒå­¦ 1 æŠ€æœ¯äºŒé¢é¢è¯•åŸé¢˜ï¼šæ€§åˆ«å­—æ®µè¦å»ºç«‹ç´¢å¼•å—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿä»€ä¹ˆæ˜¯åŒºåˆ†åº¦ï¼ŸMySQLæŸ¥çœ‹å­—æ®µåŒºåˆ†åº¦çš„å‘½ä»¤ï¼Ÿ</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å¿«æ‰‹åŒå­¦ 2 ä¸€é¢é¢è¯•åŸé¢˜ï¼šä»€ä¹ˆæ ·çš„å­—æ®µé€‚åˆåŠ ç´¢å¼•ï¼Ÿä»€ä¹ˆä¸é€‚åˆï¼Ÿ</li></ol></blockquote><h3 id="_40-ç´¢å¼•æ˜¯ä¸æ˜¯å»ºçš„è¶Šå¤šè¶Šå¥½" tabindex="-1"><a class="header-anchor" href="#_40-ç´¢å¼•æ˜¯ä¸æ˜¯å»ºçš„è¶Šå¤šè¶Šå¥½"><span>40.ç´¢å¼•æ˜¯ä¸æ˜¯å»ºçš„è¶Šå¤šè¶Šå¥½ï¼Ÿ</span></a></h3><p>å½“ç„¶ä¸æ˜¯ã€‚</p><ul><li><strong>ç´¢å¼•ä¼šå æ®ç£ç›˜ç©ºé—´</strong></li><li><strong>ç´¢å¼•è™½ç„¶ä¼šæé«˜æŸ¥è¯¢æ•ˆç‡ï¼Œä½†æ˜¯ä¼šé™ä½æ›´æ–°è¡¨çš„æ•ˆç‡</strong>ã€‚æ¯æ¬¡å¯¹è¡¨è¿›è¡Œå¢åˆ æ”¹æ“ä½œï¼ŒMySQL ä¸ä»…è¦æ›´æ–°æ•°æ®ï¼Œè¿˜è¦æ›´æ–°å¯¹åº”çš„ç´¢å¼•æ–‡ä»¶ã€‚</li></ul><h4 id="è¯´è¯´ç´¢å¼•ä¼˜åŒ–çš„æ€è·¯" tabindex="-1"><a class="header-anchor" href="#è¯´è¯´ç´¢å¼•ä¼˜åŒ–çš„æ€è·¯"><span>è¯´è¯´ç´¢å¼•ä¼˜åŒ–çš„æ€è·¯ï¼Ÿ</span></a></h4><p>â‘ ã€é€‰æ‹©åˆé€‚çš„ç´¢å¼•ç±»å‹</p><ul><li>å¦‚æœéœ€è¦ç­‰å€¼æŸ¥è¯¢å’ŒèŒƒå›´æŸ¥è¯¢ï¼Œè¯·é€‰æ‹© B+æ ‘ç´¢å¼•ã€‚</li><li>å¦‚æœæ˜¯ç”¨äºå¤„ç†æ–‡æœ¬æ•°æ®çš„å…¨æ–‡æœç´¢ï¼Œè¯·é€‰æ‹©å…¨æ–‡ç´¢å¼•ã€‚</li></ul><p>â‘¡ã€åˆ›å»ºé€‚å½“çš„ç´¢å¼•</p><ul><li>åˆ›å»ºç»„åˆç´¢å¼•æ—¶ï¼Œåº”å°†æŸ¥è¯¢ä¸­æœ€å¸¸ç”¨ã€åŒºåˆ†åº¦é«˜çš„åˆ—æ”¾åœ¨å‰é¢ã€‚å¯¹äºæŸ¥è¯¢æ¡ä»¶ <code>WHERE age = 18 AND gender = &#39;å¥³&#39; AND city = &#39;æ´›é˜³&#39;</code>ï¼Œå¦‚æœ age åˆ—çš„å€¼ç›¸å¯¹è¾ƒä¸ºåˆ†æ•£ï¼Œå¯ä»¥ä¼˜å…ˆè€ƒè™‘å°† age æ”¾åœ¨ç»„åˆç´¢å¼•çš„ç¬¬ä¸€ä½ã€‚</li><li>ä½¿ç”¨ SELECT è¯­å¥æ—¶ï¼Œå°½é‡é€‰æ‹©è¦†ç›–ç´¢å¼•æ¥é¿å…ä¸å¿…è¦çš„å›è¡¨æ“ä½œï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œç´¢å¼•ä¸­åŒ…å«äº†æŸ¥è¯¢æ‰€éœ€çš„æ‰€æœ‰åˆ—ï¼›ä½†è¦æ³¨æ„ï¼Œè¦†ç›–ç´¢å¼•çš„åˆ—æ•°ä¸å®œè¿‡å¤šï¼Œå¦åˆ™ä¼šå¢åŠ ç´¢å¼•çš„å­˜å‚¨ç©ºé—´ã€‚</li></ul><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„æ¯”äºšè¿ªé¢ç»åŒå­¦ 12 Java æŠ€æœ¯é¢è¯•åŸé¢˜ï¼šç´¢å¼•ä¼˜åŒ–çš„æ€è·¯</li></ol></blockquote><h3 id="_41-ä¸ºä»€ä¹ˆ-innodb-è¦ä½¿ç”¨-b-æ ‘ä½œä¸ºç´¢å¼•" tabindex="-1"><a class="header-anchor" href="#_41-ä¸ºä»€ä¹ˆ-innodb-è¦ä½¿ç”¨-b-æ ‘ä½œä¸ºç´¢å¼•"><span>41.ä¸ºä»€ä¹ˆ InnoDB è¦ä½¿ç”¨ B+æ ‘ä½œä¸ºç´¢å¼•ï¼Ÿ</span></a></h3><ol><li>æ¨èé˜…è¯»ï¼š<a href="https://www.bilibili.com/video/BV1mY4y1W7pS" target="_blank" rel="noopener noreferrer">ç»ˆäºæŠŠ B æ ‘ææ˜ç™½äº†</a></li><li>æ¨èé˜…è¯»ï¼š<a href="https://cloud.tencent.com/developer/article/1543335" target="_blank" rel="noopener noreferrer">ä¸€ç¯‡æ–‡ç« è®²é€ MySQL ä¸ºä»€ä¹ˆè¦ç”¨ B+æ ‘å®ç°ç´¢å¼•</a></li></ol><p>MySQL çš„é»˜è®¤å­˜å‚¨å¼•æ“æ˜¯ InnoDBï¼Œå®ƒé‡‡ç”¨çš„æ˜¯ B+æ ‘ç´¢å¼•ï¼Œæ˜¯ B æ ‘çš„å‡çº§ç‰ˆã€‚</p><p>B æ ‘æ˜¯ä¸€ç§è‡ªå¹³è¡¡çš„å¤šè·¯æŸ¥æ‰¾æ ‘ï¼Œå’Œçº¢é»‘æ ‘ã€äºŒå‰å¹³è¡¡æ ‘ä¸åŒï¼ŒB æ ‘çš„æ¯ä¸ªèŠ‚ç‚¹å¯ä»¥æœ‰ m ä¸ªå­èŠ‚ç‚¹ï¼Œè€Œçº¢é»‘æ ‘å’ŒäºŒå‰å¹³è¡¡æ ‘éƒ½åªæœ‰ 2 ä¸ªã€‚</p><p>æ¢å¥è¯è¯´ï¼Œçº¢é»‘æ ‘ã€äºŒå‰å¹³è¡¡æ ‘æ˜¯ç»†é«˜ä¸ªï¼Œè€Œ B æ ‘æ˜¯çŸ®èƒ–å­ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240322132606.png" alt="äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šB æ ‘" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šB æ ‘</figcaption></figure><p>å†…å­˜å’Œç£ç›˜åœ¨è¿›è¡Œ IO è¯»å†™çš„æ—¶å€™ï¼Œæœ‰ä¸€ä¸ªæœ€å°çš„é€»è¾‘å•å…ƒï¼Œå«åšé¡µï¼ˆPageï¼‰ï¼Œé¡µçš„å¤§å°ä¸€èˆ¬æ˜¯ 4KBã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240322133650.png" alt="äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šIO è¯»å†™" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šIO è¯»å†™</figcaption></figure><p>é‚£ä¸ºäº†æé«˜è¯»å†™æ•ˆç‡ï¼Œä»ç£ç›˜å¾€å†…å­˜ä¸­è¯»æ•°æ®çš„æ—¶å€™ï¼Œä¸€æ¬¡ä¼šè¯»å–è‡³å°‘ä¸€é¡µçš„æ•°æ®ï¼Œæ¯”å¦‚è¯´è¯»å– 2KB çš„æ•°æ®ï¼Œå®é™…ä¸Šä¼šè¯»å– 4KB çš„æ•°æ®ï¼›è¯»å– 5KB çš„æ•°æ®ï¼Œå®é™…ä¸Šä¼šè¯»å– 8KB çš„æ•°æ®ã€‚<strong>æˆ‘ä»¬è¦å°½é‡å‡å°‘è¯»å†™çš„æ¬¡æ•°</strong>ã€‚</p><p>å› ä¸ºè¯»çš„æ¬¡æ•°è¶Šå¤šï¼Œæ•ˆç‡å°±è¶Šä½ã€‚å°±å¥½æ¯”æˆ‘ä»¬åœ¨å·¥åœ°ä¸Šæ¬ç –ï¼Œä¸€æ¬¡æ¬ 10 å—ç –è‚¯å®šæ¯”ä¸€æ¬¡æ¬ 1 å—ç –çš„æ•ˆç‡è¦é«˜ï¼Œåæ­£æˆ‘æ¯æ¬¡éƒ½æ¬ 10 å—ï¼ˆğŸ˜ï¼‰ã€‚</p><p>å¯¹äºçº¢é»‘æ ‘ã€äºŒå‰å¹³è¡¡æ ‘è¿™ç§ç»†é«˜ä¸ªæ¥è¯´ï¼Œæ¯æ¬¡æ¬çš„ç –å°‘ï¼Œå› ä¸ºåŠ›æ°”ä¸å¤Ÿå˜›ï¼Œé‚£æ¥å›è·‘çš„æ¬¡æ•°å°±è¶Šå¤šã€‚</p><p>æ ‘è¶Šé«˜ï¼Œæ„å‘³ç€æŸ¥æ‰¾æ•°æ®æ—¶å°±éœ€è¦æ›´å¤šçš„ç£ç›˜ IOï¼Œå› ä¸ºæ¯ä¸€å±‚éƒ½å¯èƒ½éœ€è¦ä»ç£ç›˜åŠ è½½æ–°çš„èŠ‚ç‚¹ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240322140825.png" alt="ç”¨æˆ·1260737ï¼šäºŒå‰æ ‘" tabindex="0" loading="lazy"><figcaption>ç”¨æˆ·1260737ï¼šäºŒå‰æ ‘</figcaption></figure><p>B æ ‘çš„èŠ‚ç‚¹å¤§å°é€šå¸¸ä¸é¡µçš„å¤§å°å¯¹é½ï¼Œè¿™æ ·æ¯æ¬¡ä»ç£ç›˜åŠ è½½ä¸€ä¸ªèŠ‚ç‚¹æ—¶ï¼Œå¯ä»¥æ­£å¥½æ˜¯ä¸€ä¸ªé¡µçš„å¤§å°ã€‚å› ä¸º B æ ‘çš„èŠ‚ç‚¹å¯ä»¥æœ‰å¤šä¸ªå­èŠ‚ç‚¹ï¼Œå¯ä»¥å¡«å……æ›´å¤šçš„ä¿¡æ¯ä»¥è¾¾åˆ°ä¸€é¡µçš„å¤§å°ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240322141957.png" alt="ç”¨æˆ·1260737ï¼šB æ ‘" tabindex="0" loading="lazy"><figcaption>ç”¨æˆ·1260737ï¼šB æ ‘</figcaption></figure><p>B æ ‘çš„ä¸€ä¸ªèŠ‚ç‚¹é€šå¸¸åŒ…æ‹¬ä¸‰ä¸ªéƒ¨åˆ†ï¼š</p><ul><li>é”®å€¼ï¼šå³è¡¨ä¸­çš„ä¸»é”®</li><li>æŒ‡é’ˆï¼šå­˜å‚¨å­èŠ‚ç‚¹çš„ä¿¡æ¯</li><li>æ•°æ®ï¼šè¡¨è®°å½•ä¸­é™¤ä¸»é”®å¤–çš„æ•°æ®</li></ul><p>ä¸è¿‡ï¼Œæ­£æ‰€è°“â€œç¥¸å…®ç¦æ‰€å€šï¼Œç¦å…®ç¥¸æ‰€ä¼â€ï¼Œæ­£æ˜¯å› ä¸º B æ ‘çš„æ¯ä¸ªèŠ‚ç‚¹ä¸Šéƒ½å­˜äº†æ•°æ®ï¼Œå°±å¯¼è‡´æ¯ä¸ªèŠ‚ç‚¹èƒ½å­˜å‚¨çš„é”®å€¼å’ŒæŒ‡é’ˆå˜å°‘äº†ï¼Œå› ä¸ºæ¯ä¸€é¡µçš„å¤§å°æ˜¯å›ºå®šçš„ï¼Œå¯¹å§ï¼Ÿ</p><p>äºæ˜¯ B+æ ‘å°±æ¥äº†ï¼ŒB+æ ‘çš„éå¶å­èŠ‚ç‚¹åªå­˜å‚¨é”®å€¼ï¼Œä¸å­˜å‚¨æ•°æ®ï¼Œè€Œå¶å­èŠ‚ç‚¹å­˜å‚¨äº†æ‰€æœ‰çš„æ•°æ®ï¼Œå¹¶ä¸”æ„æˆäº†ä¸€ä¸ªæœ‰åºé“¾è¡¨ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240322142950.png" alt="ç”¨æˆ·1260737ï¼šB+æ ‘" tabindex="0" loading="lazy"><figcaption>ç”¨æˆ·1260737ï¼šB+æ ‘</figcaption></figure><p>è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼Œéå¶å­èŠ‚ç‚¹ä¸Šç”±äºæ²¡æœ‰å­˜å‚¨æ•°æ®ï¼Œå°±å¯ä»¥å­˜å‚¨æ›´å¤šçš„é”®å€¼å¯¹ï¼Œæ ‘å°±å˜å¾—æ›´åŠ çŸ®èƒ–äº†ï¼Œäºæ˜¯å°±æ›´æœ‰åŠ²äº†ï¼Œæ¯æ¬¡æ¬çš„ç –ä¹Ÿå°±æ›´å¤šäº†ï¼ˆğŸ˜‚ï¼‰ã€‚</p><p>ç”±æ­¤ä¸€æ¥ï¼ŒæŸ¥æ‰¾æ•°æ®è¿›è¡Œçš„ç£ç›˜ IO å°±æ›´å°‘äº†ï¼ŒæŸ¥è¯¢çš„æ•ˆç‡ä¹Ÿå°±æ›´é«˜äº†ã€‚</p><p>å†åŠ ä¸Šå¶å­èŠ‚ç‚¹æ„æˆäº†ä¸€ä¸ªæœ‰åºé“¾è¡¨ï¼ŒèŒƒå›´æŸ¥è¯¢æ—¶å°±å¯ä»¥ç›´æ¥é€šè¿‡å¶å­èŠ‚ç‚¹é—´çš„æŒ‡é’ˆé¡ºåºè®¿é—®æ•´ä¸ªæŸ¥è¯¢èŒƒå›´å†…çš„æ‰€æœ‰è®°å½•ï¼Œè€Œæ— éœ€å¯¹æ ‘è¿›è¡Œå¤šæ¬¡éå†ã€‚</p><p><strong>æ³¨</strong>ï¼šåœ¨ InnoDB å­˜å‚¨å¼•æ“ä¸­ï¼Œé»˜è®¤çš„é¡µå¤§å°æ˜¯ 16KBã€‚å¯ä»¥é€šè¿‡ <code>show variables like &#39;innodb_page_size&#39;;</code> æŸ¥çœ‹ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240322135441.png" alt="äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šé¡µçš„å¤§å°" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šé¡µçš„å¤§å°</figcaption></figure><h4 id="ç®€ç‰ˆå›ç­”" tabindex="-1"><a class="header-anchor" href="#ç®€ç‰ˆå›ç­”"><span>ç®€ç‰ˆå›ç­”ï¼š</span></a></h4><p>MySQL çš„é»˜è®¤å­˜å‚¨å¼•æ“æ˜¯ InnoDBï¼Œå®ƒé‡‡ç”¨çš„æ˜¯ B+æ ‘ç´¢å¼•ï¼ŒB+æ ‘æ˜¯ä¸€ç§è‡ªå¹³è¡¡çš„å¤šè·¯æŸ¥æ‰¾æ ‘ï¼Œå’Œçº¢é»‘æ ‘ã€äºŒå‰å¹³è¡¡æ ‘ä¸åŒï¼ŒB+æ ‘çš„æ¯ä¸ªèŠ‚ç‚¹å¯ä»¥æœ‰ m ä¸ªå­èŠ‚ç‚¹ï¼Œè€Œçº¢é»‘æ ‘å’ŒäºŒå‰å¹³è¡¡æ ‘éƒ½åªæœ‰ 2 ä¸ªã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20241104203402.png" alt="William Johnsonï¼šb+æ ‘" tabindex="0" loading="lazy"><figcaption>William Johnsonï¼šb+æ ‘</figcaption></figure><p>å’Œ B æ ‘ä¸åŒï¼ŒB+æ ‘çš„éå¶å­èŠ‚ç‚¹åªå­˜å‚¨é”®å€¼ï¼Œä¸å­˜å‚¨æ•°æ®ï¼Œè€Œå¶å­èŠ‚ç‚¹å­˜å‚¨äº†æ‰€æœ‰çš„æ•°æ®ï¼Œå¹¶ä¸”æ„æˆäº†ä¸€ä¸ªæœ‰åºé“¾è¡¨ã€‚</p><p>è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼Œéå¶å­èŠ‚ç‚¹ä¸Šç”±äºæ²¡æœ‰å­˜å‚¨æ•°æ®ï¼Œå°±å¯ä»¥å­˜å‚¨æ›´å¤šçš„é”®å€¼å¯¹ï¼Œå†åŠ ä¸Šå¶å­èŠ‚ç‚¹æ„æˆäº†ä¸€ä¸ªæœ‰åºé“¾è¡¨ï¼ŒèŒƒå›´æŸ¥è¯¢æ—¶å°±å¯ä»¥ç›´æ¥é€šè¿‡å¶å­èŠ‚ç‚¹é—´çš„æŒ‡é’ˆé¡ºåºè®¿é—®æ•´ä¸ªæŸ¥è¯¢èŒƒå›´å†…çš„æ‰€æœ‰è®°å½•ï¼Œè€Œæ— éœ€å¯¹æ ‘è¿›è¡Œå¤šæ¬¡éå†ã€‚æŸ¥è¯¢çš„æ•ˆç‡ä¼šæ›´é«˜ã€‚</p><h4 id="b-æ ‘çš„é¡µæ˜¯å•å‘é“¾è¡¨è¿˜æ˜¯åŒå‘é“¾è¡¨-å¦‚æœä»å¤§å€¼å‘å°å€¼æ£€ç´¢-å¦‚ä½•æ“ä½œ" tabindex="-1"><a class="header-anchor" href="#b-æ ‘çš„é¡µæ˜¯å•å‘é“¾è¡¨è¿˜æ˜¯åŒå‘é“¾è¡¨-å¦‚æœä»å¤§å€¼å‘å°å€¼æ£€ç´¢-å¦‚ä½•æ“ä½œ"><span>B+æ ‘çš„é¡µæ˜¯å•å‘é“¾è¡¨è¿˜æ˜¯åŒå‘é“¾è¡¨ï¼Ÿå¦‚æœä»å¤§å€¼å‘å°å€¼æ£€ç´¢ï¼Œå¦‚ä½•æ“ä½œï¼Ÿ</span></a></h4><p>B+æ ‘çš„å¶å­èŠ‚ç‚¹æ˜¯é€šè¿‡åŒå‘é“¾è¡¨è¿æ¥çš„ï¼Œè¿™æ ·å¯ä»¥æ–¹ä¾¿èŒƒå›´æŸ¥è¯¢å’Œåå‘éå†ã€‚</p><ul><li>å½“æ‰§è¡ŒèŒƒå›´æŸ¥è¯¢æ—¶ï¼Œå¯ä»¥ä»èŒƒå›´çš„å¼€å§‹ç‚¹æˆ–ç»“æŸç‚¹å¼€å§‹ï¼Œå‘å‰æˆ–å‘åéå†ï¼Œè¿™ä½¿å¾—æŸ¥è¯¢æ›´ä¸ºçµæ´»ã€‚</li><li>åœ¨éœ€è¦å¯¹æ•°æ®è¿›è¡Œé€†åºå¤„ç†æ—¶ï¼ŒåŒå‘é“¾è¡¨éå¸¸æœ‰ç”¨ã€‚</li></ul><p>å¦‚æœéœ€è¦åœ¨ B+æ ‘ä¸­ä»å¤§å€¼å‘å°å€¼è¿›è¡Œæ£€ç´¢ï¼Œå¯ä»¥æŒ‰ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š</p><ul><li>å®šä½åˆ°æœ€å³ä¾§èŠ‚ç‚¹ï¼šé¦–å…ˆï¼Œæ‰¾åˆ°åŒ…å«æœ€å¤§å€¼çš„å¶å­èŠ‚ç‚¹ã€‚è¿™é€šå¸¸é€šè¿‡ä»æ ¹èŠ‚ç‚¹å¼€å§‹å‘å³éå†æ ‘çš„æ–¹å¼å®ç°ã€‚</li><li>åå‘éå†ï¼šä¸€æ—¦å®šä½åˆ°äº†æœ€å³ä¾§çš„å¶å­èŠ‚ç‚¹ï¼Œå¯ä»¥åˆ©ç”¨å¶èŠ‚ç‚¹é—´çš„åŒå‘é“¾è¡¨å‘å·¦éå†ã€‚</li></ul><h4 id="ä¸ºä»€ä¹ˆ-mongodb-ç´¢å¼•ç”¨-bæ ‘-è€Œ-mysql-ç”¨-b-æ ‘" tabindex="-1"><a class="header-anchor" href="#ä¸ºä»€ä¹ˆ-mongodb-ç´¢å¼•ç”¨-bæ ‘-è€Œ-mysql-ç”¨-b-æ ‘"><span>ä¸ºä»€ä¹ˆ MongoDB ç´¢å¼•ç”¨ Bæ ‘ï¼Œè€Œ MySQL ç”¨ B+ æ ‘ï¼Ÿ</span></a></h4><p>æ¨èé˜…è¯»ï¼š<a href="https://www.cnblogs.com/rjzheng/p/12316685.html" target="_blank" rel="noopener noreferrer">ä¸ºä»€ä¹ˆ MongoDB ç´¢å¼•ç”¨ Bæ ‘ï¼Œè€Œ MySQL ç”¨ B+ æ ‘ï¼Ÿ</a></p><p>Bæ ‘çš„ç‰¹ç‚¹æ˜¯æ¯ä¸ªèŠ‚ç‚¹éƒ½å­˜å‚¨æ•°æ®ï¼Œç›¸é‚»çš„å¶å­èŠ‚ç‚¹ä¹‹é—´æ²¡æœ‰æŒ‡é’ˆé“¾æ¥ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240516125249.png" alt="å­¤ç‹¬çƒŸï¼šBæ ‘" tabindex="0" loading="lazy"><figcaption>å­¤ç‹¬çƒŸï¼šBæ ‘</figcaption></figure><p>B+æ ‘çš„ç‰¹ç‚¹æ˜¯éå¶å­èŠ‚ç‚¹åªå­˜å‚¨ç´¢å¼•ï¼Œå¶å­èŠ‚ç‚¹å­˜å‚¨æ•°æ®ï¼Œå¹¶ä¸”ç›¸é‚»çš„å¶å­èŠ‚ç‚¹ä¹‹é—´æœ‰æŒ‡é’ˆé“¾æ¥ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240516125326.png" alt="å­¤ç‹¬çƒŸï¼šB+æ ‘" tabindex="0" loading="lazy"><figcaption>å­¤ç‹¬çƒŸï¼šB+æ ‘</figcaption></figure><p>é‚£ä¹ˆåœ¨æŸ¥æ‰¾å•æ¡æ•°æ®æ—¶ï¼ŒB æ ‘çš„æŸ¥è¯¢æ•ˆç‡å¯èƒ½ä¼šæ›´é«˜ï¼Œå› ä¸ºæ¯ä¸ªèŠ‚ç‚¹éƒ½å­˜å‚¨æ•°æ®ï¼Œæ‰€ä»¥æœ€å¥½æƒ…å†µå°±æ˜¯ O(1)ã€‚</p><p>ä½†ç”±äº B æ ‘çš„èŠ‚ç‚¹ä¹‹é—´æ²¡æœ‰æŒ‡é’ˆé“¾æ¥ï¼Œæ‰€ä»¥å¹¶ä¸é€‚åˆåšèŒƒå›´æŸ¥è¯¢ï¼Œå› ä¸ºèŒƒå›´æŸ¥è¯¢éœ€è¦éå†å¤šä¸ªèŠ‚ç‚¹ã€‚</p><p>è€Œ B+ æ ‘çš„å¶å­èŠ‚ç‚¹ä¹‹é—´æœ‰æŒ‡é’ˆé“¾æ¥ï¼Œæ‰€ä»¥é€‚åˆåšèŒƒå›´æŸ¥è¯¢ï¼Œå› ä¸ºå¯ä»¥ç›´æ¥é€šè¿‡å¶å­èŠ‚ç‚¹é—´çš„æŒ‡é’ˆé¡ºåºè®¿é—®æ•´ä¸ªæŸ¥è¯¢èŒƒå›´å†…çš„æ‰€æœ‰è®°å½•ï¼Œè€Œæ— éœ€å¯¹æ ‘è¿›è¡Œå¤šæ¬¡éå†ã€‚</p><p>MySQL å±äºå…³ç³»å‹æ•°æ®åº“ï¼Œæ‰€ä»¥èŒƒå›´æŸ¥è¯¢ä¼šæ¯”è¾ƒå¤šï¼Œæ‰€ä»¥é‡‡ç”¨äº† B+æ ‘ï¼›ä½† MongoDB å±äºéå…³ç³»å‹æ•°æ®åº“ï¼Œåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œåªéœ€è¦æŸ¥è¯¢å•æ¡æ•°æ®ï¼Œæ‰€ä»¥ MongoDB é€‰æ‹©äº† B æ ‘ã€‚</p><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å­—èŠ‚è·³åŠ¨å•†ä¸šåŒ–ä¸€é¢çš„åŸé¢˜ï¼šè¯´è¯´ B+æ ‘ï¼Œä¸ºä»€ä¹ˆ 3 å±‚å®¹çº³ 2000W æ¡ï¼Œä¸ºä»€ä¹ˆ 2000w æ¡æ•°æ®æŸ¥çš„å¿«</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å›½ä¼é¢è¯•åŸé¢˜ï¼šè¯´è¯´ MySQL çš„åº•å±‚æ•°æ®ç»“æ„ï¼ŒB æ ‘å’Œ B+æ ‘çš„åŒºåˆ«</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„è…¾è®¯é¢ç»åŒå­¦ 22 æš‘æœŸå®ä¹ ä¸€é¢é¢è¯•åŸé¢˜ï¼šMySQL ä¸ºä»€ä¹ˆé€‰ç”¨ B+æ ‘</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å°ç±³é¢ç»åŒå­¦ E ç¬¬äºŒä¸ªéƒ¨é—¨ Java åç«¯æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šè¯´ä¸€è¯´ mysql ç´¢å¼•çš„åº•å±‚æœºåˆ¶</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„äº¬ä¸œé¢ç»åŒå­¦ 1 Java æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šMySQL ç´¢å¼•ç»“æ„ï¼Œå»ºç«‹ç´¢å¼•çš„ç­–ç•¥</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„è…¾è®¯äº‘æ™ºé¢ç»åŒå­¦ 16 ä¸€é¢é¢è¯•åŸé¢˜ï¼šMySQL ç´¢å¼•ç»“æ„ï¼Œä¸ºä»€ä¹ˆç”¨ B+æ ‘ï¼Ÿ</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å°å…¬å¸é¢ç»åŒå­¦ 5 Java åç«¯é¢è¯•åŸé¢˜ï¼šæ•°æ®åº“ç´¢å¼•è®²ä¸€ä¸‹ï¼Œç„¶åä¸ºä»€ä¹ˆä¼šåŠ å¿«æŸ¥è¯¢é€Ÿåº¦ï¼Œæˆ‘è®²åˆ°äº† B+æ ‘ï¼Œç„¶åé—®äº† B æ•°ä¸ B+æ ‘åŒºåˆ«</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„ç™¾åº¦é¢ç»åŒå­¦ 1 æ–‡å¿ƒä¸€è¨€ 25 å®ä¹  Java åç«¯é¢è¯•åŸé¢˜ï¼šB+æ ‘çš„é¡µæ˜¯å•å‘é“¾è¡¨è¿˜æ˜¯åŒå‘é“¾è¡¨ï¼Ÿå¦‚æœä»å¤§å€¼å‘å°å€¼æ£€ç´¢ï¼Œå¦‚ä½•æ“ä½œï¼Ÿ</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å¾—ç‰©é¢ç»åŒå­¦ 1 é¢è¯•åŸé¢˜ï¼šé¡¹ç›®ç´¢å¼•ï¼ŒMySQLç´¢å¼•ï¼ŒmongoDBä¸ºä»€ä¹ˆç”¨çš„Bæ ‘ï¼ŒäºŒè€…æ¯”è¾ƒ</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„oppo é¢ç»åŒå­¦ 8 åç«¯å¼€å‘ç§‹æ‹›ä¸€é¢é¢è¯•åŸé¢˜ï¼šMysqlç´¢å¼•çš„æ•°æ®ç»“æ„ï¼Œä¸ºä»€ä¹ˆé€‰æ‹©è¿™æ ·çš„æ•°æ®ç»“æ„</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„äº¬ä¸œé¢ç»åŒå­¦ 8 é¢è¯•åŸé¢˜ï¼šç´¢å¼•</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„ç¾å›¢åŒå­¦ 9 ä¸€é¢é¢è¯•åŸé¢˜ï¼šB+æ ‘ï¼Ÿ</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„ç¾å›¢é¢ç»åŒå­¦ 15 ç‚¹è¯„åç«¯æŠ€æœ¯é¢è¯•åŸé¢˜ï¼šç´¢å¼•çš„æ•°æ®ç»“æ„</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å¾—ç‰©é¢ç»åŒå­¦ 9 é¢è¯•é¢˜ç›®åŸé¢˜ï¼šB+æ ‘äº†è§£å—ï¼Ÿåº•å±‚å‘¢ï¼Ÿä¸ºä»€ä¹ˆè¿™ä¹ˆç”¨ï¼Ÿ</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„æ»´æ»´é¢ç»åŒå­¦ 3 ç½‘çº¦è½¦åç«¯å¼€å‘ä¸€é¢åŸé¢˜ï¼šMySQLç´¢å¼•åŸç†ï¼ŒB+æ ‘æ›´æ‰ æœ‰ä»€ä¹ˆå¥½å¤„</li></ol></blockquote><h3 id="_42-ä¸€æ£µ-b-æ ‘èƒ½å­˜å‚¨å¤šå°‘æ¡æ•°æ®å‘¢" tabindex="-1"><a class="header-anchor" href="#_42-ä¸€æ£µ-b-æ ‘èƒ½å­˜å‚¨å¤šå°‘æ¡æ•°æ®å‘¢"><span>42.ä¸€æ£µ B+æ ‘èƒ½å­˜å‚¨å¤šå°‘æ¡æ•°æ®å‘¢ï¼Ÿ</span></a></h3><p>æ¨èé˜…è¯»ï¼š<a href="https://juejin.cn/post/6904293886626103309" target="_blank" rel="noopener noreferrer">æ¸…å¹½ä¹‹åœ°ï¼šInnoDB ä¸€æ£µ B+æ ‘å¯ä»¥å­˜æ”¾å¤šå°‘è¡Œæ•°æ®ï¼Ÿ</a></p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-16f3523d-20b0-4376-908d-ac40b329768f.jpg" alt="æ¸…å¹½ä¹‹åœ°ï¼šB+æ ‘å­˜å‚¨æ•°æ®æ¡æ•°" tabindex="0" loading="lazy"><figcaption>æ¸…å¹½ä¹‹åœ°ï¼šB+æ ‘å­˜å‚¨æ•°æ®æ¡æ•°</figcaption></figure><p>å‡å¦‚æˆ‘ä»¬çš„ä¸»é”® ID æ˜¯ bigint ç±»å‹ï¼Œé•¿åº¦ä¸º 8 ä¸ªå­—èŠ‚ã€‚æŒ‡é’ˆå¤§å°åœ¨ InnoDB æºç ä¸­è®¾ç½®ä¸º 6 å­—èŠ‚ï¼Œè¿™æ ·ä¸€å…± 14 å­—èŠ‚ã€‚æ‰€ä»¥éå¶å­èŠ‚ç‚¹(ä¸€é¡µ16k)å¯ä»¥å­˜å‚¨ 16384/14=1170 ä¸ªè¿™æ ·çš„å•å…ƒ(é”®å€¼+æŒ‡é’ˆ)ã€‚</p><p>ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘ä¸€ä¸ªå­˜æ”¾è®°å½•çš„é¡µï¼Œä¸€é¡µå¯ä»¥æ”¾ 16 æ¡æ•°æ®ï¼Œæ ‘æ·±åº¦ä¸º 2 çš„æ—¶å€™ï¼Œå¯ä»¥å­˜æ”¾ 1170*16=<strong>18720</strong> æ¡æ•°æ®ã€‚</p><p>åŒç†ï¼Œæ ‘æ·±åº¦ä¸º 3 çš„æ—¶å€™ï¼Œå¯ä»¥å­˜å‚¨çš„æ•°æ®ä¸º 1170*1170*16=<strong>21902400</strong>æ¡è®°å½•ã€‚</p><p>ç†è®ºä¸Šï¼Œåœ¨ InnoDB å­˜å‚¨å¼•æ“ä¸­ï¼ŒB+æ ‘çš„é«˜åº¦ä¸€èˆ¬ä¸º 2-4 å±‚ï¼Œå°±å¯ä»¥æ»¡è¶³åƒä¸‡çº§æ•°æ®çš„å­˜å‚¨ã€‚æŸ¥æ‰¾æ•°æ®çš„æ—¶å€™ï¼Œä¸€æ¬¡é¡µçš„æŸ¥æ‰¾ä»£è¡¨ä¸€æ¬¡ IOï¼Œå½“æˆ‘ä»¬é€šè¿‡ä¸»é”®ç´¢å¼•æŸ¥è¯¢çš„æ—¶å€™ï¼Œæœ€å¤šåªéœ€è¦ 2-4 æ¬¡ IO å°±å¯ä»¥äº†ã€‚</p><h4 id="innodb-ä½¿ç”¨æ•°æ®é¡µå­˜å‚¨æ•°æ®-é»˜è®¤æ•°æ®é¡µå¤§å°-16k-æˆ‘ç°åœ¨æœ‰ä¸€å¼ è¡¨-æœ‰-2kw-æ•°æ®-æˆ‘è¿™ä¸ª-b-æ ‘çš„é«˜åº¦æœ‰å‡ å±‚" tabindex="-1"><a class="header-anchor" href="#innodb-ä½¿ç”¨æ•°æ®é¡µå­˜å‚¨æ•°æ®-é»˜è®¤æ•°æ®é¡µå¤§å°-16k-æˆ‘ç°åœ¨æœ‰ä¸€å¼ è¡¨-æœ‰-2kw-æ•°æ®-æˆ‘è¿™ä¸ª-b-æ ‘çš„é«˜åº¦æœ‰å‡ å±‚"><span>innodb ä½¿ç”¨æ•°æ®é¡µå­˜å‚¨æ•°æ®ï¼Ÿé»˜è®¤æ•°æ®é¡µå¤§å° 16Kï¼Œæˆ‘ç°åœ¨æœ‰ä¸€å¼ è¡¨ï¼Œæœ‰ 2kw æ•°æ®ï¼Œæˆ‘è¿™ä¸ª b+æ ‘çš„é«˜åº¦æœ‰å‡ å±‚ï¼Ÿ</span></a></h4><p>æ¨èé˜…è¯»ï¼š<a href="https://www.cnblogs.com/yifanSJ/p/17662132.html" target="_blank" rel="noopener noreferrer">Innodb å¼•æ“ä¸­ B+æ ‘ä¸€èˆ¬æœ‰å‡ å±‚ï¼Ÿèƒ½å®¹çº³å¤šå°‘æ•°æ®é‡ï¼Ÿ</a></p><p>åœ¨ MySQL ä¸­ï¼ŒInnoDB å­˜å‚¨å¼•æ“çš„æœ€å°å­˜å‚¨å•å…ƒæ˜¯é¡µï¼Œé»˜è®¤å¤§å°æ˜¯ 16kã€‚é¡µå¯ä»¥ç”¨æ¥å­˜å‚¨ B+æ ‘å¶å­èŠ‚ç‚¹ä¸Šçš„æ•°æ®ï¼Œä¹Ÿå¯ä»¥å­˜æ”¾éå¶å­èŠ‚ç‚¹ä¸Šçš„é”®å€¼å¯¹ã€‚</p><p>åœ¨æŸ¥æ‰¾æ•°æ®æ—¶ï¼Œä¸€æ¬¡é¡µçš„æŸ¥æ‰¾ä»£è¡¨ä¸€æ¬¡ IOï¼Œä¸€èˆ¬ B+æ ‘çš„é«˜åº¦ä¸º 2-4 å±‚ï¼Œæ‰€ä»¥é€šè¿‡ä¸»é”®ç´¢å¼•æŸ¥è¯¢æ—¶ï¼Œæœ€å¤šåªéœ€è¦ 2-4 æ¬¡ IO å°±å¯ä»¥äº†ã€‚</p><p>å·²çŸ¥éå¶å­èŠ‚ç‚¹å¯ä»¥å­˜å‚¨ 1170 ä¸ªé”®å€¼å¯¹ã€‚</p><blockquote><p>ä¸»é”® ID æ˜¯ bigint ç±»å‹ï¼Œé•¿åº¦ä¸º 8 ä¸ªå­—èŠ‚ã€‚æŒ‡é’ˆå¤§å°åœ¨ InnoDB æºç ä¸­è®¾ç½®ä¸º 6 å­—èŠ‚ï¼Œè¿™æ ·ä¸€å…±æ˜¯ 14 å­—èŠ‚ã€‚æ‰€ä»¥éå¶å­èŠ‚ç‚¹ï¼ˆä¸€é¡µï¼‰å¯ä»¥å­˜å‚¨ 16384/14=1170 ä¸ªè¿™æ ·çš„å•å…ƒ(é”®å€¼+æŒ‡é’ˆ)ã€‚</p></blockquote><p>å‡è®¾ä¸€è¡Œæ•°æ®çš„å¤§å°ä¸º 1KBï¼Œé‚£ä¹ˆä¸€é¡µçš„å¶å­èŠ‚ç‚¹å°±å¯ä»¥å­˜å‚¨ 16 æ¡æ•°æ®ã€‚å¯¹äº 3 å±‚çš„ B+æ ‘ï¼Œç¬¬ä¸€å±‚å¶å­èŠ‚ç‚¹æ•°*ç¬¬äºŒå±‚å¶å­èŠ‚ç‚¹æ•°*ä¸€é¡µèƒ½å¤Ÿå­˜å‚¨çš„æ•°æ®é‡ = 1170*1170*16 = 21902400 æ¡æ•°æ®ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240410124358.png" alt="yifanSJï¼š3 å±‚ B+æ ‘" tabindex="0" loading="lazy"><figcaption>yifanSJï¼š3 å±‚ B+æ ‘</figcaption></figure><p>å¦‚æœæœ‰ 2KW æ¡æ•°æ®ï¼Œé‚£ä¹ˆè¿™é¢— B+æ ‘çš„é«˜åº¦ä¸º 3 å±‚ã€‚</p><h4 id="æ¯ä¸ªå¶å­èŠ‚ç‚¹èƒ½å­˜æ”¾å¤šå°‘æ¡æ•°æ®" tabindex="-1"><a class="header-anchor" href="#æ¯ä¸ªå¶å­èŠ‚ç‚¹èƒ½å­˜æ”¾å¤šå°‘æ¡æ•°æ®"><span>æ¯ä¸ªå¶å­èŠ‚ç‚¹èƒ½å­˜æ”¾å¤šå°‘æ¡æ•°æ®ï¼Ÿ</span></a></h4><p>B+ æ ‘ç´¢å¼•çš„æ¯ä¸ªå¶å­èŠ‚ç‚¹å¯¹åº”ä¸€ä¸ªæ•°æ®é¡µï¼Œé»˜è®¤å¤§å°ä¸º 16KBã€‚å‡è®¾ä¸€æ¡æ•°æ®çš„å¤§å°ä¸º 1kï¼Œé‚£ä¹ˆæ¯ä¸ªå¶å­èŠ‚ç‚¹å¯ä»¥å­˜æ”¾ 16 æ¡æ•°æ®ã€‚</p><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å­—èŠ‚è·³åŠ¨å•†ä¸šåŒ–ä¸€é¢çš„åŸé¢˜ï¼šè¯´è¯´ B+æ ‘ï¼Œä¸ºä»€ä¹ˆ 3 å±‚å®¹çº³ 2000W æ¡ï¼Œä¸ºä»€ä¹ˆ 2000w æ¡æ•°æ®æŸ¥çš„å¿«</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å¥‡å®‰ä¿¡é¢ç»åŒå­¦ 1 Java æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šinnodb ä½¿ç”¨æ•°æ®é¡µå­˜å‚¨æ•°æ®ï¼Ÿé»˜è®¤æ•°æ®é¡µå¤§å° 16Kï¼Œæˆ‘ç°åœ¨æœ‰ä¸€å¼ è¡¨ï¼Œæœ‰ 2kw æ•°æ®ï¼Œæˆ‘è¿™ä¸ª b+æ ‘çš„é«˜åº¦æœ‰å‡ å±‚ï¼Ÿ</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„ç¾å›¢é¢ç»åŒå­¦ 18 æˆéƒ½åˆ°å®¶é¢è¯•åŸé¢˜ï¼šä¸€å¼ è¡¨æœ€å¤šå­˜å¤šå°‘æ•°æ®ï¼ˆæˆ‘ç­”å¾—2kwï¼Œæ ¹æ®b+æ ‘çš„ä¸‰å±‚é«˜åº¦è®¡ç®—ï¼‰</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å¾—ç‰©é¢ç»åŒå­¦ 1 é¢è¯•åŸé¢˜ï¼šMySQL B+æ ‘çš„åº¦æ•°è¶Šå¤§è¶Šå¥½å—ï¼Œä¸€èˆ¬è®¾å¤šå°‘</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„è…¾è®¯é¢ç»åŒå­¦ 29 Java åç«¯ä¸€é¢åŸé¢˜ï¼šInnoDBä¸­ä¸€ä¸ªä¸‰å±‚çš„B+æ ‘èƒ½å­˜å¤šå°‘æ•°æ®ï¼Ÿæ¯ä¸ªå¶å­èŠ‚ç‚¹èƒ½å­˜æ”¾å¤šå°‘æ¡æ•°æ®ï¼Ÿ</li></ol></blockquote><h3 id="_43-ä¸ºä»€ä¹ˆä¸ç”¨æ™®é€šäºŒå‰æ ‘" tabindex="-1"><a class="header-anchor" href="#_43-ä¸ºä»€ä¹ˆä¸ç”¨æ™®é€šäºŒå‰æ ‘"><span>43.ä¸ºä»€ä¹ˆä¸ç”¨æ™®é€šäºŒå‰æ ‘ï¼Ÿ</span></a></h3><p>æ™®é€šäºŒå‰æ ‘å­˜åœ¨é€€åŒ–çš„æƒ…å†µï¼Œå¦‚æœå®ƒé€€åŒ–æˆé“¾è¡¨ï¼Œå°±ç›¸å½“äºå…¨è¡¨æ‰«æã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20241115151059.png" alt="äºŒå“¥çš„Java è¿›é˜¶ä¹‹è·¯ï¼šæ™®é€šäºŒå‰æ ‘" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„Java è¿›é˜¶ä¹‹è·¯ï¼šæ™®é€šäºŒå‰æ ‘</figcaption></figure><h4 id="ä¸ºä»€ä¹ˆä¸ç”¨å¹³è¡¡äºŒå‰æ ‘å‘¢" tabindex="-1"><a class="header-anchor" href="#ä¸ºä»€ä¹ˆä¸ç”¨å¹³è¡¡äºŒå‰æ ‘å‘¢"><span>ä¸ºä»€ä¹ˆä¸ç”¨å¹³è¡¡äºŒå‰æ ‘å‘¢ï¼Ÿ</span></a></h4><p>è™½ç„¶ AVL æ ‘æ˜¯å¹³è¡¡äºŒå‰æ ‘ï¼Œä½†å› ä¸ºåªæœ‰ 2 å‰ï¼Œé«˜åº¦ä¼šæ¯”è¾ƒé«˜ï¼Œç£ç›˜ I/O æ¬¡æ•°å°±ä¼šéå¸¸å¤šã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20241115151729.png" alt="äºŒå“¥çš„Java è¿›é˜¶ä¹‹è·¯ï¼šAVL æ ‘" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„Java è¿›é˜¶ä¹‹è·¯ï¼šAVL æ ‘</figcaption></figure><p>è€Œ B+ æ ‘æ˜¯ N å‰ï¼Œæ¯ä¸€å±‚å¯ä»¥å­˜å‚¨æ›´å¤šçš„èŠ‚ç‚¹æ•°æ®ï¼Œæ ‘çš„é«˜åº¦å°±ä¼šé™ä½ï¼Œå› æ­¤è¯»å–ç£ç›˜çš„æ¬¡æ•°å°±ä¼šä¸‹é™ï¼ŒæŸ¥è¯¢æ•ˆç‡å°±å¿«ã€‚</p><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„ç™¾åº¦é¢ç»åŒå­¦ 1 æ–‡å¿ƒä¸€è¨€ 25 å®ä¹  Java åç«¯é¢è¯•åŸé¢˜ï¼šMySQL ç´¢å¼•ä¸ºä»€ä¹ˆä½¿ç”¨ B+æ ‘è€Œä¸æ˜¯ç”¨åˆ«çš„æ•°æ®ç»“æ„ï¼Ÿ</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„è…¾è®¯é¢ç»åŒå­¦ 27 äº‘åå°æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šä¸ºä»€ä¹ˆä¸ç”¨äºŒå‰æ ‘ï¼Ÿä¸ºä»€ä¹ˆä¸ç”¨AVLæ ‘ï¼Ÿ</li></ol></blockquote><h3 id="_44-ä¸ºä»€ä¹ˆç”¨-b-æ ‘è€Œä¸ç”¨-b-æ ‘å‘¢" tabindex="-1"><a class="header-anchor" href="#_44-ä¸ºä»€ä¹ˆç”¨-b-æ ‘è€Œä¸ç”¨-b-æ ‘å‘¢"><span>44.ä¸ºä»€ä¹ˆç”¨ B+ æ ‘è€Œä¸ç”¨ B æ ‘å‘¢ï¼Ÿ</span></a></h3><p>B+ æ ‘ç›¸æ¯” B æ ‘æœ‰ 2 ä¸ªæ˜¾è‘—ä¼˜åŠ¿ï¼š</p><p>é¦–å…ˆï¼ŒB+ æ ‘çš„éå¶å­èŠ‚ç‚¹ä¸å­˜å‚¨æ•°æ®ï¼Œèƒ½åŒ…å«æ›´å¤šçš„é”®å€¼æŒ‡é’ˆï¼Œå› æ­¤åœ¨ç›¸åŒèŠ‚ç‚¹å®¹é‡ä¸‹ï¼ŒB+ æ ‘çš„å±‚çº§æ›´å°‘ï¼Œæ ‘çš„é«˜åº¦æ›´ä½ã€‚è¾ƒå°‘çš„æ ‘å±‚çº§æ„å‘³ç€æŸ¥æ‰¾è·¯å¾„æ›´çŸ­ï¼Œç£ç›˜ I/O æ¬¡æ•°æ›´å°‘ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240325115614.png" alt="æå®¢æ—¶é—´ï¼šB æ ‘" tabindex="0" loading="lazy"><figcaption>æå®¢æ—¶é—´ï¼šB æ ‘</figcaption></figure><p>å…¶æ¬¡ï¼ŒB+ æ ‘çš„å¶å­èŠ‚ç‚¹é€šè¿‡é“¾è¡¨ç›¸è¿ï¼Œéå¸¸é€‚åˆèŒƒå›´æŸ¥è¯¢ï¼Œå¦‚ ORDER BY å’Œ BETWEENã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240325115641.png" alt="æå®¢æ—¶é—´ï¼šB+æ ‘" tabindex="0" loading="lazy"><figcaption>æå®¢æ—¶é—´ï¼šB+æ ‘</figcaption></figure><p>åªéœ€è¦æ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„ç¬¬ä¸€ä¸ªå¶å­èŠ‚ç‚¹ï¼Œé¡ºåºæ‰«æåç»­çš„å¶å­èŠ‚ç‚¹å°±å¯ä»¥äº†ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼ŒB æ ‘çš„æ¯æ¬¡èŒƒå›´æŸ¥è¯¢éƒ½éœ€è¦å›æº¯åˆ°çˆ¶èŠ‚ç‚¹ï¼ŒæŸ¥è¯¢æ•ˆç‡è¾ƒä½ã€‚</p><h4 id="b-æ ‘çš„æ—¶é—´å¤æ‚åº¦æ˜¯å¤šå°‘" tabindex="-1"><a class="header-anchor" href="#b-æ ‘çš„æ—¶é—´å¤æ‚åº¦æ˜¯å¤šå°‘"><span>B+æ ‘çš„æ—¶é—´å¤æ‚åº¦æ˜¯å¤šå°‘ï¼Ÿ</span></a></h4><p>æ ‘çš„é«˜åº¦ h ä¸ºï¼š</p><p>$$ h = \lceil \log_m N \rceil $$</p><p>å…¶ä¸­ N æ˜¯æ•°æ®æ€»é‡ï¼Œm æ˜¯é˜¶æ•°ã€‚æ¯å±‚éœ€è¦åšä¸€æ¬¡äºŒåˆ†æŸ¥æ‰¾ï¼Œå¤æ‚åº¦ä¸º $O(\log m)$ã€‚</p><p>æ€»å¤æ‚åº¦ä¸ºï¼š</p><p>$$ O(\log_m N \cdot \log m) = O(\log N) $$</p><h4 id="äº†è§£å¿«æ’å—" tabindex="-1"><a class="header-anchor" href="#äº†è§£å¿«æ’å—"><span>äº†è§£å¿«æ’å—ï¼Ÿ</span></a></h4><p>æ¨èé“¾æ¥ï¼š<a href="https://oi-wiki.org/basic/quick-sort/" target="_blank" rel="noopener noreferrer">å¿«é€Ÿæ’åº</a></p><p>å¿«é€Ÿæ’åºæ˜¯ä¸€ç§åŸºäºåˆ†æ²»æ³•çš„é«˜æ•ˆæ’åºç®—æ³•ã€‚å…¶æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š</p><ol><li>é€‰æ‹©ä¸€ä¸ªåŸºå‡†å€¼ã€‚</li><li>å°†æ•°ç»„åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œå·¦è¾¹å°äºåŸºå‡†å€¼ï¼Œå³è¾¹å¤§äºæˆ–ç­‰äºåŸºå‡†å€¼ã€‚</li><li>å¯¹å·¦å³ä¸¤éƒ¨åˆ†é€’å½’æ’åºï¼Œæœ€ç»ˆåˆå¹¶ã€‚</li></ol><h4 id="ä¸ºä»€ä¹ˆç”¨-b-æ ‘ä¸ç”¨è·³è¡¨å‘¢" tabindex="-1"><a class="header-anchor" href="#ä¸ºä»€ä¹ˆç”¨-b-æ ‘ä¸ç”¨è·³è¡¨å‘¢"><span>ä¸ºä»€ä¹ˆç”¨ B+æ ‘ä¸ç”¨è·³è¡¨å‘¢ï¼Ÿ</span></a></h4><ul><li>è·³è¡¨åŸºäºé“¾è¡¨ï¼ŒèŠ‚ç‚¹åˆ†å¸ƒä¸è¿ç»­ï¼Œä¼šé¢‘ç¹è§¦å‘éšæœºç£ç›˜è®¿é—®ï¼Œæ€§èƒ½è¾ƒå·®ã€‚</li><li>è·³è¡¨éœ€è¦é€èŠ‚ç‚¹éå†é“¾è¡¨ï¼ŒèŒƒå›´æŸ¥è¯¢æ€§èƒ½ä¸å¦‚ B+ æ ‘ã€‚</li></ul><h4 id="b-æ ‘çš„èŒƒå›´æŸ¥æ‰¾æ€ä¹ˆåšçš„" tabindex="-1"><a class="header-anchor" href="#b-æ ‘çš„èŒƒå›´æŸ¥æ‰¾æ€ä¹ˆåšçš„"><span>B+æ ‘çš„èŒƒå›´æŸ¥æ‰¾æ€ä¹ˆåšçš„ï¼Ÿ</span></a></h4><p>B+ æ ‘ç´¢å¼•çš„èŒƒå›´æŸ¥æ‰¾ä¸»è¦ä¾èµ–å¶å­èŠ‚ç‚¹ä¹‹é—´çš„åŒå‘é“¾è¡¨æ¥å®Œæˆã€‚</p><p>ç¬¬ä¸€æ­¥ï¼Œä» B+ æ ‘çš„æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œé€šè¿‡ç´¢å¼•é”®å€¼é€å±‚å‘ä¸‹ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„å¶å­èŠ‚ç‚¹ã€‚</p><p>ç¬¬äºŒæ­¥ï¼Œåˆ©ç”¨å¶å­èŠ‚ç‚¹ä¹‹é—´çš„åŒå‘é“¾è¡¨ï¼Œä»èµ·å§‹èŠ‚ç‚¹å¼€å§‹ï¼Œä¾æ¬¡å‘åéå†æ¯ä¸ªèŠ‚ç‚¹ã€‚å½“ç´¢å¼•å€¼è¶…è¿‡æŸ¥è¯¢èŒƒå›´ï¼Œæˆ–è€…éå†åˆ°é“¾è¡¨æœ«å°¾æ—¶ï¼Œç»ˆæ­¢æŸ¥è¯¢ã€‚</p><p>æ¯”å¦‚è¯´åœ¨ä¸‹é¢è¿™æ£µ B+ æ ‘ä¸ŠæŸ¥æ‰¾ 45ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20241223114806.png" alt="oi-wikiï¼šæŸ¥æ‰¾ 45" tabindex="0" loading="lazy"><figcaption>oi-wikiï¼šæŸ¥æ‰¾ 45</figcaption></figure><p>ç¬¬ä¸€æ­¥ï¼Œä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œå› ä¸ºæ¯” 25 å¤§ï¼Œæ‰€ä»¥ä»å³å­æ ‘å¼€å§‹ã€‚å› ä¸º 45 æ¯” 35å¤§ï¼Œæ‰€ä»¥å’Œå³è¾¹çš„ç´¢å¼•æ¯”è¾ƒï¼Œå³ä¾§çš„ç´¢å¼•ä¹Ÿæ˜¯ 45ï¼Œæ‰€ä»¥ç»§ç»­å¾€å³å­æ ‘æŸ¥æ‰¾ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20241223114907.png" alt="oi-wikiï¼šä»æ ¹èŠ‚ç‚¹å¼€å§‹" tabindex="0" loading="lazy"><figcaption>oi-wikiï¼šä»æ ¹èŠ‚ç‚¹å¼€å§‹</figcaption></figure><p>ç¬¬äºŒæ­¥ï¼Œä»å¶å­èŠ‚ç‚¹ 45 å¼€å§‹ï¼Œä¾æ¬¡éå†ï¼Œæ‰¾åˆ° 45ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20241223115300.png" alt="oi-wikiï¼šæ‰¾åˆ° 45" tabindex="0" loading="lazy"><figcaption>oi-wikiï¼šæ‰¾åˆ° 45</figcaption></figure><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„æ”¯ä»˜å®é¢ç»åŒå­¦ 2 æ˜¥æ‹›æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šèšç°‡ç´¢å¼•å’Œéèšç°‡ç´¢å¼•çš„åŒºåˆ«ï¼ŸB+æ ‘å¶å­èŠ‚ç‚¹é™¤äº†å­˜æ•°æ®è¿˜æœ‰ä»€ä¹ˆï¼Ÿ</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å¥‡å®‰ä¿¡é¢ç»åŒå­¦ 1 Java æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šb æ ‘å’Œ b+æ ‘æœ‰ä»€ä¹ˆåŒºåˆ«</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„ç™¾åº¦é¢ç»åŒå­¦ 1 æ–‡å¿ƒä¸€è¨€ 25 å®ä¹  Java åç«¯é¢è¯•åŸé¢˜ï¼šMySQL ç´¢å¼•ä¸ºä»€ä¹ˆä½¿ç”¨ B+æ ‘è€Œä¸æ˜¯ç”¨åˆ«çš„æ•°æ®ç»“æ„ï¼Ÿ</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å­—èŠ‚è·³åŠ¨é¢ç»åŒå­¦ 8 Java åç«¯å®ä¹ ä¸€é¢é¢è¯•åŸé¢˜ï¼šmysql b+æ ‘å’Œbæ ‘çš„åŒºåˆ«</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„ä½œä¸šå¸®é¢ç»åŒå­¦ 1 Java åç«¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šB+æ ‘æœ‰å“ªäº›ä¼˜ç‚¹</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„åŒå­¦ 1 è´å£³æ‰¾æˆ¿åç«¯æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šä¸ºä»€ä¹ˆç”¨b+æ ‘ä¸ç”¨bæ ‘</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„é˜¿é‡Œç³»é¢ç»åŒå­¦ 19 é¥¿äº†ä¹ˆé¢è¯•åŸé¢˜ï¼šç´¢å¼•ä¸ºä»€ä¹ˆç”¨B+æ ‘ä¸ç”¨Bæ ‘ æ—¶é—´å¤æ‚åº¦æ·±ç©¶ b+æ ‘ å¿«é€Ÿæ’åº...</li></ol></blockquote><h3 id="_45-hash-ç´¢å¼•å’Œ-b-æ ‘ç´¢å¼•åŒºåˆ«æ˜¯ä»€ä¹ˆ" tabindex="-1"><a class="header-anchor" href="#_45-hash-ç´¢å¼•å’Œ-b-æ ‘ç´¢å¼•åŒºåˆ«æ˜¯ä»€ä¹ˆ"><span>45.Hash ç´¢å¼•å’Œ B+ æ ‘ç´¢å¼•åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</span></a></h3><ul><li>B+ æ ‘ç´¢å¼•å¯ä»¥è¿›è¡ŒèŒƒå›´æŸ¥è¯¢ï¼ŒHash ç´¢å¼•ä¸èƒ½ã€‚</li><li>B+ æ ‘ç´¢å¼•æ”¯æŒè”åˆç´¢å¼•çš„æœ€å·¦ä¾§åŸåˆ™ï¼ŒHash ç´¢å¼•ä¸æ”¯æŒã€‚</li><li>B+ æ ‘ç´¢å¼•æ”¯æŒ order by æ’åºï¼ŒHash ç´¢å¼•ä¸æ”¯æŒã€‚</li><li>Hash ç´¢å¼•åœ¨ç­‰å€¼æŸ¥è¯¢ä¸Šæ¯” B+ æ ‘ç´¢å¼•æ•ˆç‡æ›´é«˜ã€‚</li><li>B+ æ ‘ä½¿ç”¨ like è¿›è¡Œæ¨¡ç³ŠæŸ¥è¯¢çš„æ—¶å€™ï¼Œ<code>LIKE &#39;abc%&#39;</code> çš„è¯å¯ä»¥èµ·åˆ°ç´¢å¼•ä¼˜åŒ–çš„ä½œç”¨ï¼ŒHash ç´¢å¼•æ— æ³•è¿›è¡Œæ¨¡ç³ŠæŸ¥è¯¢ã€‚</li></ul><h4 id="mysql-æ¨¡ç³ŠæŸ¥è¯¢æ€ä¹ˆæŸ¥-ä»€ä¹ˆæƒ…å†µä¸‹æ¨¡ç³ŠæŸ¥è¯¢ä¸èµ°ç´¢å¼•" tabindex="-1"><a class="header-anchor" href="#mysql-æ¨¡ç³ŠæŸ¥è¯¢æ€ä¹ˆæŸ¥-ä»€ä¹ˆæƒ…å†µä¸‹æ¨¡ç³ŠæŸ¥è¯¢ä¸èµ°ç´¢å¼•"><span>MySQL æ¨¡ç³ŠæŸ¥è¯¢æ€ä¹ˆæŸ¥ï¼Œä»€ä¹ˆæƒ…å†µä¸‹æ¨¡ç³ŠæŸ¥è¯¢ä¸èµ°ç´¢å¼•ï¼Ÿ</span></a></h4><p>MySQL ä¸­è¿›è¡Œæ¨¡ç³ŠæŸ¥è¯¢ä¸»è¦ä½¿ç”¨ LIKE è¯­å¥ï¼Œç»“åˆé€šé…ç¬¦ %ï¼ˆä»£è¡¨ä»»æ„å¤šä¸ªå­—ç¬¦ï¼‰å’Œ _ï¼ˆä»£è¡¨å•ä¸ªå­—ç¬¦ï¼‰æ¥å®ç°ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> table</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> column </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">LIKE</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;%xxx%&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>è¿™ä¸ªæŸ¥è¯¢ä¼šè¿”å›æ‰€æœ‰ column åˆ—ä¸­åŒ…å« xxx çš„è®°å½•ã€‚</p><p>ä½†æ˜¯ï¼Œå¦‚æœæ¨¡ç³ŠæŸ¥è¯¢çš„é€šé…ç¬¦ % å‡ºç°åœ¨æœç´¢å­—ç¬¦ä¸²çš„å¼€å§‹ä½ç½®ï¼Œå¦‚ <code>LIKE &#39;%xxx&#39;</code>ï¼ŒMySQL å°†æ— æ³•ä½¿ç”¨ç´¢å¼•ï¼Œå› ä¸ºæ•°æ®åº“å¿…é¡»æ‰«æå…¨è¡¨ä»¥åŒ¹é…ä»»æ„ä½ç½®çš„å­—ç¬¦ä¸²ã€‚</p><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„ç¾å›¢é¢ç»åŒå­¦ 16 æš‘æœŸå®ä¹ ä¸€é¢é¢è¯•åŸé¢˜ï¼šMySQL æ¨¡ç³ŠæŸ¥è¯¢æ€ä¹ˆæŸ¥ï¼Œä»€ä¹ˆæƒ…å†µä¸‹æ¨¡ç³ŠæŸ¥è¯¢ä¸èµ°ç´¢å¼•</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„ä½œä¸šå¸®é¢ç»åŒå­¦ 1 Java åç«¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šä¸ºä»€ä¹ˆä¸ç”¨hashç´¢å¼•</li></ol></blockquote><h3 id="_46-èšç°‡ç´¢å¼•ä¸éèšç°‡ç´¢å¼•çš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#_46-èšç°‡ç´¢å¼•ä¸éèšç°‡ç´¢å¼•çš„åŒºåˆ«"><span>46.èšç°‡ç´¢å¼•ä¸éèšç°‡ç´¢å¼•çš„åŒºåˆ«ï¼Ÿ</span></a></h3><p>MySQL é»˜è®¤çš„å­˜å‚¨å¼•æ“æ˜¯ InnoDBï¼ŒInnoDB çš„ç´¢å¼•æ˜¯æŒ‰ç…§ B+ æ ‘ç»“æ„å­˜å‚¨çš„ï¼Œä¸åŒç±»å‹çš„ç´¢å¼•æœ‰ä¸åŒçš„å­˜å‚¨æ–¹å¼ã€‚</p><p>ä¸»é”®ç´¢å¼•æ˜¯æŒ‰ç…§èšç°‡ç´¢å¼•çš„æ–¹å¼å­˜å‚¨çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸»é”®ç´¢å¼•çš„å¶å­èŠ‚ç‚¹å­˜å‚¨çš„æ˜¯æ•´è¡Œæ•°æ®ï¼Œæ•°æ®å’Œç´¢å¼•åœ¨åŒä¸€ä¸ª B+ æ ‘ä¸­ã€‚</p><p>æ™®é€šç´¢å¼•ã€å”¯ä¸€ç´¢å¼•æ˜¯æŒ‰ç…§éèšç°‡ç´¢å¼•çš„æ–¹å¼å­˜å‚¨çš„ï¼Œæ¯ä¸ªè¾…åŠ©ç´¢å¼•éƒ½æ˜¯ç‹¬ç«‹çš„ B+ æ ‘ï¼Œå¶å­èŠ‚ç‚¹å­˜å‚¨çš„æ˜¯ä¸»é”®å€¼ï¼Œé€šè¿‡ä¸»é”®å€¼å›åˆ°ä¸»é”®ç´¢å¼•ä¸­æŸ¥æ‰¾å®Œæ•´çš„æ•°æ®ï¼Œä¿—ç§°å›è¡¨ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-692cced2-615a-4b70-a933-69771d53e809.jpg" alt="ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šèšç°‡ç´¢å¼•å’Œéèšç°‡ç´¢å¼•" tabindex="0" loading="lazy"><figcaption>ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šèšç°‡ç´¢å¼•å’Œéèšç°‡ç´¢å¼•</figcaption></figure><p>æ¯ä¸ªè¡¨åªèƒ½æœ‰ä¸€ä¸ªèšç°‡ç´¢å¼•ï¼›ä½†å¯ä»¥æœ‰å¤šä¸ªéèšç°‡ç´¢å¼•ã€‚</p><p>ä¸¾ä¾‹æ¥è¯´ï¼š</p><ul><li>InnoDB é‡‡ç”¨çš„æ˜¯èšç°‡ç´¢å¼•ï¼Œå¦‚æœæ²¡æœ‰æ˜¾å¼å®šä¹‰ä¸»é”®ï¼ŒInnoDB ä¼šé€‰æ‹©ä¸€ä¸ªå”¯ä¸€çš„éç©ºåˆ—ä½œä¸ºéšå¼çš„èšç°‡ç´¢å¼•ï¼›å¦‚æœè¿™æ ·çš„åˆ—ä¹Ÿä¸å­˜åœ¨ï¼ŒInnoDB ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªéšè—çš„è¡Œ ID ä½œä¸ºèšç°‡ç´¢å¼•ã€‚è¿™æ„å‘³ç€æ•°æ®ä¸ä¸»é”®æ˜¯ç´§å¯†ç»‘å®šçš„ï¼Œè¡Œæ•°æ®ç›´æ¥å­˜å‚¨åœ¨ç´¢å¼•çš„å¶å­èŠ‚ç‚¹ä¸Šã€‚</li><li>MyISAM é‡‡ç”¨çš„æ˜¯éèšç°‡ç´¢å¼•ï¼Œè¡¨æ•°æ®å­˜å‚¨åœ¨ä¸€ä¸ªåœ°æ–¹ï¼Œè€Œç´¢å¼•å­˜å‚¨åœ¨å¦ä¸€ä¸ªåœ°æ–¹ï¼Œç´¢å¼•æŒ‡å‘æ•°æ®è¡Œçš„ç‰©ç†ä½ç½®ã€‚</li></ul><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å°ç±³æ˜¥æ‹›åŒå­¦ K ä¸€é¢é¢è¯•åŸé¢˜ï¼šmysqlï¼šèšç°‡ç´¢å¼•å’Œéèšç°‡ç´¢å¼•åŒºåˆ«</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„æ”¯ä»˜å®é¢ç»åŒå­¦ 2 æ˜¥æ‹›æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šèšç°‡ç´¢å¼•å’Œéèšç°‡ç´¢å¼•çš„åŒºåˆ«ï¼ŸB+æ ‘å¶å­èŠ‚ç‚¹é™¤äº†å­˜æ•°æ®è¿˜æœ‰ä»€ä¹ˆï¼Ÿ</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å­—èŠ‚è·³åŠ¨é¢ç»åŒå­¦ 1 Java åç«¯æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šèšç°‡ç´¢å¼•æ˜¯ä»€ä¹ˆï¼Ÿéèšç°‡ç´¢å¼•æ˜¯ä»€ä¹ˆï¼Ÿ</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„è…¾è®¯äº‘æ™ºé¢ç»åŒå­¦ 16 ä¸€é¢é¢è¯•åŸé¢˜ï¼šèšç°‡ç´¢å¼•å’Œéèšç°‡ç´¢å¼•çš„åŒºåˆ«ï¼Ÿ</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å¿«æ‰‹é¢ç»åŒå­¦ 1 éƒ¨é—¨ä¸»ç«™æŠ€æœ¯éƒ¨é¢è¯•åŸé¢˜ï¼šMysql çš„èšç°‡ç´¢å¼•å’Œéèšç°‡ç´¢å¼•çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ?</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„ä½œä¸šå¸®é¢ç»åŒå­¦ 1 Java åç«¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šmysqlçš„èšç°‡ç´¢å¼•æ˜¯ä»€ä¹ˆ</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„è…¾è®¯é¢ç»åŒå­¦ 29 Java åç«¯ä¸€é¢åŸé¢˜ï¼šMySQLçš„ç´¢å¼•æ€ä¹ˆå­˜å‚¨çš„ï¼Ÿæ¯ä¸ªç´¢å¼•ä¸€ä¸ªB+æ ‘ï¼Œè¿˜æ˜¯å¤šä¸ªç´¢å¼•æ”¾ä¸€ä¸ªB+æ ‘ï¼Ÿå¶å­èŠ‚ç‚¹ä¸­å­˜çš„æ˜¯ä»€ä¹ˆæ•°æ®ï¼Ÿ</li></ol></blockquote><h3 id="_47-å›è¡¨äº†è§£å—" tabindex="-1"><a class="header-anchor" href="#_47-å›è¡¨äº†è§£å—"><span>47.å›è¡¨äº†è§£å—ï¼Ÿ</span></a></h3><p>å›è¡¨æ˜¯æŒ‡åœ¨æ•°æ®åº“æŸ¥è¯¢è¿‡ç¨‹ä¸­ï¼Œé€šè¿‡éèšç°‡ç´¢å¼•ï¼ˆsecondary indexï¼‰æŸ¥æ‰¾åˆ°è®°å½•çš„ä¸»é”®å€¼åï¼Œå†æ ¹æ®è¿™ä¸ªä¸»é”®å€¼åˆ°èšç°‡ç´¢å¼•ï¼ˆclustered indexï¼‰ä¸­æŸ¥æ‰¾å®Œæ•´è®°å½•çš„è¿‡ç¨‹ã€‚</p><p>å›è¡¨æ“ä½œé€šå¸¸å‘ç”Ÿåœ¨ä½¿ç”¨éèšç°‡ç´¢å¼•è¿›è¡ŒæŸ¥è¯¢ï¼Œä½†æŸ¥è¯¢çš„å­—æ®µä¸å…¨åœ¨è¯¥ç´¢å¼•ä¸­ï¼Œå¿…é¡»é€šè¿‡ä¸»é”®è¿›è¡Œå†æ¬¡æŸ¥è¯¢ä»¥è·å–å®Œæ•´æ•°æ®ã€‚</p><p>æ¢å¥è¯è¯´ï¼Œæ•°æ®åº“éœ€è¦å…ˆæŸ¥æ‰¾ç´¢å¼•ï¼Œç„¶åå†æ ¹æ®ç´¢å¼•å›åˆ°æ•°æ®è¡¨ä¸­å»æŸ¥æ‰¾å®é™…çš„æ•°æ®ã€‚</p><p>å› æ­¤ï¼Œä½¿ç”¨éèšç°‡ç´¢å¼•æŸ¥æ‰¾æ•°æ®é€šå¸¸æ¯”ä½¿ç”¨èšç°‡ç´¢å¼•è¦æ…¢ï¼Œå› ä¸ºéœ€è¦è¿›è¡Œä¸¤æ¬¡ç£ç›˜è®¿é—®ã€‚å½“ç„¶ï¼Œå¦‚æœç´¢å¼•æ‰€åœ¨çš„æ•°æ®é¡µå·²ç»è¢«åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œé‚£ä¹ˆéèšç°‡ç´¢å¼•çš„æŸ¥æ‰¾é€Ÿåº¦ä¹Ÿå¯ä»¥éå¸¸å¿«ã€‚</p><p>ä¾‹å¦‚ï¼š<code>select * from user where name = &#39;å¼ ä¸‰&#39;;</code>ï¼Œä¼šå…ˆä»è¾…åŠ©ç´¢å¼•ä¸­æ‰¾åˆ° name=&#39;å¼ ä¸‰&#39; çš„ä¸»é”® IDï¼Œç„¶åå†æ ¹æ®ä¸»é”® ID ä»ä¸»é”®ç´¢å¼•ä¸­æ‰¾åˆ°å¯¹åº”çš„æ•°æ®è¡Œã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-7d69e289-dc05-47e1-9308-20a8278ebf2e.jpg" alt="ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šInnoDB å›è¡¨" tabindex="0" loading="lazy"><figcaption>ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šInnoDB å›è¡¨</figcaption></figure><p>å‡è®¾ç°åœ¨æœ‰ä¸€å¼ ç”¨æˆ·è¡¨ usersï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> TABLE</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> users</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    id </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">INT</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> PRIMARY KEY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    name</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> VARCHAR</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">50</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    age </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">INT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    email </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">VARCHAR</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">50</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    INDEX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ‰§è¡ŒæŸ¥è¯¢ï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> users </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">WHERE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;å¼ ä¸‰&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>æŸ¥è¯¢è¿‡ç¨‹å¦‚ä¸‹ï¼š</p><ul><li>MySQL ä½¿ç”¨ name åˆ—ä¸Šçš„éèšç°‡ç´¢å¼•æŸ¥æ‰¾åˆ°æ‰€æœ‰ <code>name = &#39;å¼ ä¸‰&#39;</code> çš„è®°å½•ï¼Œå¾—åˆ°å¯¹åº”çš„ä¸»é”® idã€‚</li><li>ä½¿ç”¨ä¸»é”® id åˆ°èšç°‡ç´¢å¼•ä¸­æŸ¥æ‰¾å®Œæ•´è®°å½•ã€‚</li></ul><h4 id="å›è¡¨è®°å½•è¶Šå¤šå¥½å—" tabindex="-1"><a class="header-anchor" href="#å›è¡¨è®°å½•è¶Šå¤šå¥½å—"><span>å›è¡¨è®°å½•è¶Šå¤šå¥½å—ï¼Ÿ</span></a></h4><p>å›è¡¨è®°å½•è¶Šå¤šå¹¶ä¸æ˜¯ä¸€ä»¶å¥½äº‹ã€‚äº‹å®ä¸Šï¼Œå›è¡¨çš„ä»£ä»·æ˜¯å¾ˆé«˜çš„ï¼Œå°¤å…¶åœ¨è®°å½•è¾ƒå¤šæ—¶ï¼Œå›è¡¨æ“ä½œä¼šæ˜¾è‘—å½±å“æŸ¥è¯¢æ€§èƒ½ã€‚</p><p>å› ä¸ºæ¯æ¬¡å›è¡¨æ“ä½œéƒ½éœ€è¦è¿›è¡Œä¸€æ¬¡ç£ç›˜ I/O è¯»å–æ“ä½œã€‚å¦‚æœå›è¡¨è®°å½•å¾ˆå¤šï¼Œä¼šå¯¼è‡´å¤§é‡çš„ç£ç›˜ I/Oã€‚</p><p>ç´¢å¼•è¦†ç›–ï¼ˆCovering Indexï¼‰å¯ä»¥å‡å°‘å›è¡¨æ“ä½œï¼Œå°†æŸ¥è¯¢çš„å­—æ®µéƒ½æ”¾åœ¨ç´¢å¼•ä¸­ï¼Œè¿™æ ·ä¸éœ€è¦å›è¡¨å°±å¯ä»¥è·å–åˆ°æŸ¥è¯¢ç»“æœäº†ã€‚</p><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å­—èŠ‚è·³åŠ¨é¢ç»åŒå­¦ 1 Java åç«¯æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šä½¿ç”¨éèšç°‡ç´¢å¼•å¦‚ä½•æŸ¥æ‰¾æ•°æ®ï¼Ÿ</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å­—èŠ‚è·³åŠ¨é¢ç»åŒå­¦ 1 æŠ€æœ¯äºŒé¢é¢è¯•åŸé¢˜ï¼šå›è¡¨è®°å½•è¶Šå¤šå¥½å—ï¼Ÿï¼ˆå›è¡¨çš„ä»£ä»·ï¼‰</li></ol></blockquote><h3 id="_48-è”åˆç´¢å¼•äº†è§£å—-è¡¥å……" tabindex="-1"><a class="header-anchor" href="#_48-è”åˆç´¢å¼•äº†è§£å—-è¡¥å……"><span>48.è”åˆç´¢å¼•äº†è§£å—ï¼Ÿï¼ˆè¡¥å……ï¼‰</span></a></h3><blockquote><p>2024 å¹´ 11 æœˆ 22 æ—¥å¢è¡¥</p></blockquote><p>è”åˆç´¢å¼•æŒ‡çš„æ˜¯ä¸€ä¸ªç´¢å¼•åŒ…å«å¤šä¸ªåˆ—ã€‚è”åˆç´¢å¼•çš„åˆ›å»ºè¯­æ³•å¦‚ä¸‹ï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> INDEX</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> index_name</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> ON</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> table_name (column1, column2, ...);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="è”åˆç´¢å¼•åº•å±‚çš„å­˜å‚¨ç»“æ„æ˜¯æ€æ ·çš„" tabindex="-1"><a class="header-anchor" href="#è”åˆç´¢å¼•åº•å±‚çš„å­˜å‚¨ç»“æ„æ˜¯æ€æ ·çš„"><span>è”åˆç´¢å¼•åº•å±‚çš„å­˜å‚¨ç»“æ„æ˜¯æ€æ ·çš„ï¼Ÿ</span></a></h4><p>æ¨èé˜…è¯»ï¼š<a href="https://ivanzz1001.github.io/records/post/data-structure/2018/06/16/ds-bplustree" target="_blank" rel="noopener noreferrer">ivan.Lï¼šB+æ ‘è¯¦è§£</a></p><p>åœ¨ MySQL ä¸­ï¼Œè”åˆç´¢å¼•çš„åº•å±‚å­˜å‚¨ç»“æ„æ˜¯ B+ æ ‘ã€‚B+ æ ‘æ˜¯ä¸€ç§å¤šè·¯æœç´¢æ ‘ï¼Œå®ƒçš„æ¯ä¸ªèŠ‚ç‚¹æœ€å¤šåŒ…å« M ä¸ªå­èŠ‚ç‚¹ï¼Œå…¶ä¸­ M æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20241122163540.png" alt="ivan.Lï¼šä¸‰é˜¶çš„ B+æ ‘" tabindex="0" loading="lazy"><figcaption>ivan.Lï¼šä¸‰é˜¶çš„ B+æ ‘</figcaption></figure><h4 id="è”åˆç´¢å¼•çš„å¶å­èŠ‚ç‚¹å­˜çš„ä»€ä¹ˆå†…å®¹" tabindex="-1"><a class="header-anchor" href="#è”åˆç´¢å¼•çš„å¶å­èŠ‚ç‚¹å­˜çš„ä»€ä¹ˆå†…å®¹"><span>è”åˆç´¢å¼•çš„å¶å­èŠ‚ç‚¹å­˜çš„ä»€ä¹ˆå†…å®¹?</span></a></h4><p>æ¯”å¦‚è¯´æœ‰è¿™æ ·ä¸€ä¸ªè”åˆç´¢å¼• idx_c2_c3ï¼ˆc2 å’Œ c3 åˆ—ï¼Œä¸»é”®æ˜¯ c1ï¼‰ï¼Œé‚£ä¹ˆå¶å­èŠ‚ç‚¹å­˜å‚¨çš„æ˜¯ c2ã€c3 ç´¢å¼•åˆ—çš„å€¼å’Œc1 ä¸»é”®åˆ—çš„å€¼ã€‚è¿™æ ·ï¼Œå½“æŸ¥è¯¢æ—¶ï¼Œå¯ä»¥å…ˆé€šè¿‡è”åˆç´¢å¼•æ‰¾åˆ°å¯¹åº”çš„ä¸»é”®å€¼ï¼Œç„¶åå†é€šè¿‡ä¸»é”®å€¼æ‰¾åˆ°å®Œæ•´çš„æ•°æ®è¡Œã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20241122171938.png" alt="å°å­©å­ï¼šè”åˆç´¢å¼•" tabindex="0" loading="lazy"><figcaption>å°å­©å­ï¼šè”åˆç´¢å¼•</figcaption></figure><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„ç™¾åº¦åŒå­¦ 4 é¢è¯•åŸé¢˜ï¼šè”åˆç´¢å¼•åº•å±‚å­˜å‚¨ç»“æ„(å’Œå…¶ä»–ç§ç±»çš„ç´¢å¼•å­˜å‚¨ç»“æ„æœ‰ä»€ä¹ˆåŒºåˆ«?)è”åˆç´¢å¼•çš„å¶å­èŠ‚ç‚¹å­˜çš„ä»€ä¹ˆå†…å®¹?</li></ol></blockquote><h3 id="_49-è¦†ç›–ç´¢å¼•äº†è§£å—" tabindex="-1"><a class="header-anchor" href="#_49-è¦†ç›–ç´¢å¼•äº†è§£å—"><span>49.è¦†ç›–ç´¢å¼•äº†è§£å—ï¼Ÿ</span></a></h3><p>è¦†ç›–ç´¢å¼•ï¼ˆCovering Indexï¼‰æŒ‡çš„æ˜¯ä¸€ç§ç´¢å¼•èƒ½å¤Ÿâ€œè¦†ç›–â€æŸ¥è¯¢ä¸­æ‰€æ¶‰åŠçš„æ‰€æœ‰åˆ—ï¼Œæ¢å¥è¯è¯´ï¼ŒæŸ¥è¯¢æ‰€éœ€çš„æ•°æ®å…¨éƒ¨éƒ½å¯ä»¥ä»ç´¢å¼•ä¸­ç›´æ¥è·å–ï¼Œè€Œæ— éœ€è®¿é—®æ•°æ®è¡¨çš„è¡Œæ•°æ®ï¼ˆä¹Ÿå°±æ˜¯æ— éœ€å›è¡¨ï¼‰ã€‚</p><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œç´¢å¼•ä¸­åªåŒ…å«è¡¨çš„æŸäº›å­—æ®µï¼Œæ•°æ®åº“åœ¨é€šè¿‡ç´¢å¼•æŸ¥æ‰¾åˆ°æ»¡è¶³æ¡ä»¶çš„è®°å½•åï¼Œè¿˜éœ€è¦å›åˆ°è¡¨ä¸­è·å–å…¶å®ƒå­—æ®µçš„æ•°æ®ï¼Œè¿™ä¸ªè¿‡ç¨‹å«åšâ€œå›è¡¨â€ã€‚</p><p>å‡è®¾æœ‰ä¸€å¼ ç”¨æˆ·è¡¨ usersï¼ŒåŒ…å«ä»¥ä¸‹å­—æ®µï¼šidã€nameã€emailã€ageã€‚æ‰§è¡Œä¸‹é¢çš„æŸ¥è¯¢ï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> age, email </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> users </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">WHERE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;å¼ ä¸‰&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>å¦‚æœåœ¨ name åˆ—ä¸Šåˆ›å»ºäº†ç´¢å¼•ï¼Œä½†æ²¡æœ‰åœ¨ age å’Œ email åˆ—ä¸Šåˆ›å»ºç´¢å¼•ï¼Œé‚£ä¹ˆæ•°æ®åº“å¼•æ“ä¼šï¼š</p><ol><li>ä½¿ç”¨ name åˆ—çš„ç´¢å¼•æŸ¥æ‰¾åˆ°æ»¡è¶³æ¡ä»¶çš„è®°å½•çš„ idã€‚</li><li>æ ¹æ® id å›è¡¨æŸ¥è¯¢ age å’Œ email å­—æ®µçš„æ•°æ®ã€‚</li></ol><p>å¦‚æœåˆ›å»ºäº†ä¸€ä¸ªè¦†ç›–ç´¢å¼• idx_users_name_email_age åŒ…å« nameã€emailã€age åˆ—ï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> INDEX</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> idx_users_name_email_age</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> ON</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> users (age, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, email);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>é‚£ä¹ˆæ‰§è¡Œï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> age, email </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> users </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">WHERE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;å¼ ä¸‰&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>æŸ¥è¯¢æ—¶å¯ä»¥ç›´æ¥ä»ç´¢å¼•ä¸­è·å– age å’Œ email çš„å€¼ï¼Œè€Œä¸éœ€è¦å›è¡¨ã€‚è¿™æ˜¯å› ä¸ºç´¢å¼•å·²ç»è¦†ç›–äº†æŸ¥è¯¢æ‰€éœ€çš„æ‰€æœ‰å­—æ®µã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-69e33c61-34bc-4f4b-912b-ca7beb9d5c7c.jpg" alt="ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šè¦†ç›–ç´¢å¼•" tabindex="0" loading="lazy"><figcaption>ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šè¦†ç›–ç´¢å¼•</figcaption></figure><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„ä½œä¸šå¸®é¢ç»åŒå­¦ 1 Java åç«¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šäº†è§£è¦†ç›–ç´¢å¼•å—</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„ç¾å›¢åŒå­¦ 9 ä¸€é¢é¢è¯•åŸé¢˜ï¼šç´¢å¼•è¦†ç›–ï¼Œå›è¡¨ï¼Ÿ</li></ol></blockquote><h3 id="_50-ä»€ä¹ˆæ˜¯æœ€å·¦å‰ç¼€åŸåˆ™" tabindex="-1"><a class="header-anchor" href="#_50-ä»€ä¹ˆæ˜¯æœ€å·¦å‰ç¼€åŸåˆ™"><span>50.ä»€ä¹ˆæ˜¯æœ€å·¦å‰ç¼€åŸåˆ™ï¼Ÿ</span></a></h3><p>åœ¨ä½¿ç”¨è”åˆç´¢å¼•æ—¶ï¼Œåº”å½“éµå®ˆæœ€å·¦å‰ç¼€åŸåˆ™ï¼Œæˆ–è€…å«æœ€å·¦åŒ¹é…åŸåˆ™ï¼ˆæœ€å·¦å‰ç¼€åŒ¹é…åŸåˆ™ï¼‰ã€‚</p><p>å®ƒæŒ‡çš„æ˜¯åœ¨ä½¿ç”¨è”åˆç´¢å¼•æ—¶ï¼ŒæŸ¥è¯¢æ¡ä»¶ä»ç´¢å¼•çš„æœ€å·¦åˆ—å¼€å§‹å¹¶ä¸”ä¸è·³è¿‡ä¸­é—´çš„åˆ—ã€‚</p><p>å¦‚æœä¸€ä¸ªå¤åˆç´¢å¼•åŒ…å«<code>(col1, col2, col3)</code>ï¼Œé‚£ä¹ˆå®ƒå¯ä»¥æ”¯æŒ <code>col1</code>ã€<code>col1,col2</code> å’Œ <code>col1, col2, col3</code> çš„æŸ¥è¯¢ä¼˜åŒ–ï¼Œä½†ä¸æ”¯æŒåªæœ‰ col2 æˆ– col3 çš„æŸ¥è¯¢ã€‚</p><p>ä¹Ÿå°±è¯´ï¼Œåœ¨è¿›è¡ŒæŸ¥è¯¢æ—¶ï¼Œå¦‚æœæ²¡æœ‰éµå¾ªæœ€å·¦å‰ç¼€ï¼Œé‚£ä¹ˆè”åˆç´¢å¼•å¯èƒ½ä¸ä¼šè¢«åˆ©ç”¨ï¼Œå¯¼è‡´æŸ¥è¯¢æ•ˆç‡é™ä½ã€‚</p><h4 id="ä¸ºä»€ä¹ˆä¸ä»æœ€å·¦å¼€å§‹æŸ¥-å°±æ— æ³•åŒ¹é…å‘¢" tabindex="-1"><a class="header-anchor" href="#ä¸ºä»€ä¹ˆä¸ä»æœ€å·¦å¼€å§‹æŸ¥-å°±æ— æ³•åŒ¹é…å‘¢"><span>ä¸ºä»€ä¹ˆä¸ä»æœ€å·¦å¼€å§‹æŸ¥ï¼Œå°±æ— æ³•åŒ¹é…å‘¢ï¼Ÿ</span></a></h4><p>æ¯”å¦‚æœ‰ä¸€ä¸ª user è¡¨ï¼Œæˆ‘ä»¬ç»™ name å’Œ age å»ºç«‹äº†ä¸€ä¸ªè”åˆç´¢å¼• <code>(name, age)</code>ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">ALTER</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">Â TABLE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Â userÂ </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">add</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">Â INDEX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Â comidx_name_phoneÂ (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,age);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>è”åˆç´¢å¼•åœ¨ B+ æ ‘ä¸­æ˜¯å¤åˆçš„æ•°æ®ç»“æ„ï¼ŒæŒ‰ç…§ä»å·¦åˆ°å³çš„é¡ºåºä¾æ¬¡å»ºç«‹æœç´¢æ ‘ (name åœ¨å·¦è¾¹ï¼Œage åœ¨å³è¾¹)ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-e348203c-f00a-42a4-a745-b219d98ea435.jpg" alt="ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šè”åˆç´¢å¼•" tabindex="0" loading="lazy"><figcaption>ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šè”åˆç´¢å¼•</figcaption></figure><p>æ³¨æ„ï¼Œname æ˜¯æœ‰åºçš„ï¼Œage æ˜¯æ— åºçš„ã€‚å½“ name ç›¸ç­‰çš„æ—¶å€™ï¼Œage æ‰æœ‰åºã€‚</p><p>å½“æˆ‘ä»¬ä½¿ç”¨ <code>where name= &#39;å¼ ä¸‰&#39; and age = &#39;20&#39;</code> å»æŸ¥è¯¢çš„æ—¶å€™ï¼Œ B+ æ ‘ä¼šä¼˜å…ˆæ¯”è¾ƒ name æ¥ç¡®å®šä¸‹ä¸€æ­¥åº”è¯¥æœç´¢çš„æ–¹å‘ï¼Œå¾€å·¦è¿˜æ˜¯å¾€å³ã€‚</p><p>å¦‚æœ name ç›¸åŒçš„æ—¶å€™å†æ¯”è¾ƒ ageã€‚</p><p>ä½†å¦‚æœæŸ¥è¯¢æ¡ä»¶æ²¡æœ‰ nameï¼Œå°±ä¸çŸ¥é“åº”è¯¥æ€ä¹ˆæŸ¥äº†ï¼Œå› ä¸º name æ˜¯ B+æ ‘ä¸­çš„å‰ç½®æ¡ä»¶ï¼Œæ²¡æœ‰ nameï¼Œç´¢å¼•å°±æ´¾ä¸ä¸Šç”¨åœºäº†ã€‚</p><h4 id="è”åˆç´¢å¼•-a-b-where-a-1-å’Œ-where-b-1-æ•ˆæœæ˜¯ä¸€æ ·çš„å—" tabindex="-1"><a class="header-anchor" href="#è”åˆç´¢å¼•-a-b-where-a-1-å’Œ-where-b-1-æ•ˆæœæ˜¯ä¸€æ ·çš„å—"><span>è”åˆç´¢å¼• (a, b)ï¼Œwhere a = 1 å’Œ where b = 1ï¼Œæ•ˆæœæ˜¯ä¸€æ ·çš„å—</span></a></h4><p>ä¸ä¸€æ ·ã€‚</p><p><code>WHERE a = 1</code> èƒ½æœ‰æ•ˆåˆ©ç”¨è”åˆç´¢å¼•ï¼Œå› ä¸º a æ˜¯è”åˆç´¢å¼•çš„ç¬¬ä¸€ä¸ªå­—æ®µï¼Œç¬¦åˆæœ€å·¦å‰ç¼€åŒ¹é…åŸåˆ™ã€‚è€Œ <code>WHERE b = 1</code> æ— æ³•åˆ©ç”¨è¯¥è”åˆç´¢å¼•ï¼Œå› ä¸ºç¼ºå°‘ a çš„åŒ¹é…æ¡ä»¶ï¼ŒMySQL ä¼šé€‰æ‹©å…¨è¡¨æ‰«æã€‚</p><p>æˆ‘ä»¬æ¥éªŒè¯ä¸€ä¸‹ï¼Œå‡è®¾æœ‰ä¸€ä¸ª ab è¡¨ï¼Œå»ºç«‹äº†è”åˆç´¢å¼• <code>(a, b)</code>ï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> TABLE</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> ab</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    a </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">INT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    b </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">INT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    INDEX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ab_index (a, b)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ’å…¥æ•°æ®ï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">INSERT INTO</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ab (a, b) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">VALUES</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>æ‰§è¡ŒæŸ¥è¯¢ï¼š</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20241105120556.png" alt="äºŒå“¥çš„Java è¿›é˜¶ä¹‹è·¯ï¼šæœ€å·¦å‰ç¼€åŒ¹é…çš„å·®å¼‚" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„Java è¿›é˜¶ä¹‹è·¯ï¼šæœ€å·¦å‰ç¼€åŒ¹é…çš„å·®å¼‚</figcaption></figure><p>é€šè¿‡ explain å¯ä»¥çœ‹åˆ°ï¼Œ<code>WHERE a = 1</code> ä½¿ç”¨äº†è”åˆç´¢å¼•ï¼Œè€Œ <code>WHERE b = 1</code> éœ€è¦å…¨è¡¨æ‰«æï¼Œä¾æ¬¡æ£€æŸ¥æ¯ä¸€è¡Œã€‚</p><h4 id="è”åˆç´¢å¼•-ä¸‹é¢æ€ä¹ˆèµ°çš„ç´¢å¼•" tabindex="-1"><a class="header-anchor" href="#è”åˆç´¢å¼•-ä¸‹é¢æ€ä¹ˆèµ°çš„ç´¢å¼•"><span>ï¼ˆè”åˆç´¢å¼•ï¼‰ä¸‹é¢æ€ä¹ˆèµ°çš„ç´¢å¼•ï¼Ÿ</span></a></h4><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>select * from t where a = 2 and b = 2;</span></span>
<span class="line"><span>select * from t where b = 2 and c = 2;</span></span>
<span class="line"><span>select * from t where a &gt; 2 and b = 2;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è”åˆç´¢å¼•åœ¨ MySQL ä¸­çš„è¡Œä¸ºå—æœ€å·¦å‰ç¼€åŸåˆ™çš„å½±å“ã€‚å‡è®¾ t è¡¨ä¸Šæœ‰ä¸€ä¸ªè”åˆç´¢å¼• (a, b, c)ï¼Œæˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹ï¼š</p><p>ç¬¬ä¸€æ¡ SQL è¯­å¥åŒ…å«æ¡ä»¶ a = 2 å’Œ b = 2ï¼Œåˆšå¥½ç¬¦åˆè”åˆç´¢å¼•çš„å‰ä¸¤åˆ—ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20241115153445.png" alt="explainä¸­ä¹Ÿå¯ä»¥æ˜ç¡®çœ‹å‡ºæ¥ç”¨äº†ç´¢å¼•" tabindex="0" loading="lazy"><figcaption>explainä¸­ä¹Ÿå¯ä»¥æ˜ç¡®çœ‹å‡ºæ¥ç”¨äº†ç´¢å¼•</figcaption></figure><p>ç¬¬äºŒæ¡ SQL è¯­å¥ç”±äºæœªä½¿ç”¨æœ€å·¦å‰ç¼€ä¸­çš„ aï¼Œå¯èƒ½ä¼šè§¦å‘å…¨è¡¨æ‰«æã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20241115153552.png" alt="rows ä¸º 10 è¡Œï¼Œè¯´æ˜å…¨è¡¨æ‰«æäº†" tabindex="0" loading="lazy"><figcaption>rows ä¸º 10 è¡Œï¼Œè¯´æ˜å…¨è¡¨æ‰«æäº†</figcaption></figure><p>ç¬¬ä¸‰æ¡ SQL è¯­å¥åœ¨èŒƒå›´æ¡ä»¶ a &gt; 2 ä¹‹åï¼Œç´¢å¼•åä¼šåœæ­¢åŒ¹é…ï¼Œb = 2 çš„æ¡ä»¶éœ€è¦é¢å¤–è¿‡æ»¤ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20241115153636.png" alt="rows ä¸º 9 è¡Œè¯´æ˜çš„ç¡®èµ°ç´¢å¼•äº†ï¼Œä½†è¿˜éœ€è¦é¢å¤–è¿‡æ»¤" tabindex="0" loading="lazy"><figcaption>rows ä¸º 9 è¡Œè¯´æ˜çš„ç¡®èµ°ç´¢å¼•äº†ï¼Œä½†è¿˜éœ€è¦é¢å¤–è¿‡æ»¤</figcaption></figure><h4 id="è”åˆç´¢å¼•-a-b-c-where-b-1-èƒ½èµ°å—-where-a-1-èƒ½èµ°å—" tabindex="-1"><a class="header-anchor" href="#è”åˆç´¢å¼•-a-b-c-where-b-1-èƒ½èµ°å—-where-a-1-èƒ½èµ°å—"><span>è”åˆç´¢å¼• (a, b, c)ï¼Œwhere b = 1ï¼Œèƒ½èµ°å—ï¼Œwhere a = 1ï¼Œèƒ½èµ°å—</span></a></h4><p><code>WHERE b = 1</code> æ— æ³•åˆ©ç”¨è”åˆç´¢å¼•ï¼Œå› ä¸ºç¼ºå°‘ a çš„åŒ¹é…æ¡ä»¶ï¼ŒMySQL ä¼šé€‰æ‹©å…¨è¡¨æ‰«æã€‚</p><p><code>WHERE a = 1</code> èƒ½æœ‰æ•ˆåˆ©ç”¨è”åˆç´¢å¼•ï¼Œå› ä¸º a æ˜¯è”åˆç´¢å¼•çš„ç¬¬ä¸€ä¸ªå­—æ®µï¼Œç¬¦åˆæœ€å·¦å‰ç¼€åŒ¹é…åŸåˆ™ã€‚</p><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„æ¯”äºšè¿ªé¢ç»åŒå­¦ 3 Java æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šè¯´ä¸€ä¸‹æ•°æ®åº“ç´¢å¼•ï¼Œæœ€å·¦åŒ¹é…åŸåˆ™å’Œç´¢å¼•çš„ç»“æ„</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„è…¾è®¯äº‘æ™ºé¢ç»åŒå­¦ 16 ä¸€é¢é¢è¯•åŸé¢˜ï¼šè¯´è¯´æœ€å·¦å‰ç¼€åŸåˆ™</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„ç¾å›¢é¢ç»åŒå­¦ 3 Java åç«¯æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šæœ€å·¦åŒ¹é…åŸåˆ™ ç´¢å¼•å¤±æ•ˆ</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„æ‹›é“¶ç½‘ç»œç§‘æŠ€é¢ç»åŒå­¦ 9 Java åç«¯æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šMysqlè”åˆç´¢å¼•çš„è®¾è®¡åŸåˆ™</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„åŒå­¦ 1 è´å£³æ‰¾æˆ¿åç«¯æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šè”åˆç´¢å¼• (a, b)ï¼Œwhere a = 1 å’Œ where b = 1ï¼Œæ•ˆæœæ˜¯ä¸€æ ·çš„å—</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„è…¾è®¯é¢ç»åŒå­¦ 27 äº‘åå°æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šï¼ˆè”åˆç´¢å¼•ï¼‰ä¸‹é¢æ€ä¹ˆèµ°çš„ç´¢å¼•ï¼Ÿ</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„æ»´æ»´é¢ç»åŒå­¦ 3 ç½‘çº¦è½¦åç«¯å¼€å‘ä¸€é¢åŸé¢˜ï¼šè”åˆç´¢å¼• (a, b, c)ï¼Œwhere b = 1ï¼Œèƒ½èµ°å—ï¼Œwhere a = 1ï¼Œèƒ½èµ°å—</li></ol></blockquote><h3 id="_51-ä»€ä¹ˆæ˜¯ç´¢å¼•ä¸‹æ¨ä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#_51-ä»€ä¹ˆæ˜¯ç´¢å¼•ä¸‹æ¨ä¼˜åŒ–"><span>51.ä»€ä¹ˆæ˜¯ç´¢å¼•ä¸‹æ¨ä¼˜åŒ–ï¼Ÿ</span></a></h3><p>ç´¢å¼•ä¸‹æ¨<code>ï¼ˆIndex Condition Pushdown (ICP) ï¼‰</code>æ˜¯ MySQL 5.6 æ—¶æ·»åŠ çš„ï¼Œå®ƒå…è®¸åœ¨è®¿é—®ç´¢å¼•æ—¶å¯¹æ•°æ®è¿›è¡Œè¿‡æ»¤ï¼Œä»è€Œå‡å°‘å›è¡¨çš„æ¬¡æ•°ã€‚</p><p>ä¾‹å¦‚æœ‰ä¸€å¼  user è¡¨ï¼Œå»ºäº†ä¸€ä¸ªè”åˆç´¢å¼•ï¼ˆname, ageï¼‰ï¼ŒæŸ¥è¯¢è¯­å¥ï¼š<code>select * from user where name like &#39;å¼ %&#39; and age=10;</code>ï¼Œæ²¡æœ‰ç´¢å¼•ä¸‹æ¨ä¼˜åŒ–çš„æƒ…å†µä¸‹ï¼š</p><p>MySQL ä¼šå…ˆæ ¹æ® <code>name like &#39;å¼ %&#39;</code> æŸ¥æ‰¾æ¡ä»¶åŒ¹é…çš„æ•°æ®ï¼Œå¯¹äºç¬¦åˆç´¢å¼•æ¡ä»¶çš„æ¯ä¸€æ¡è®°å½•ï¼Œéƒ½ä¼šå»è®¿é—®å¯¹åº”çš„æ•°æ®è¡Œï¼Œå¹¶åœ¨ Server å±‚è¿‡æ»¤ <code>age=10</code> è¿™ä¸ªæ¡ä»¶ã€‚</p><p>è¿™æ ·å°±ç­‰äºè¯´åŠæ—¶ age ä¸ç­‰äº 10ï¼ŒMySQL ä¹Ÿä¼šæ‰§è¡Œå›è¡¨æ“ä½œã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-c58f59e0-850b-4dfd-8129-2dfc51cf4768.jpg" alt="ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šæ²¡æœ‰ä½¿ç”¨ ICP" tabindex="0" loading="lazy"><figcaption>ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šæ²¡æœ‰ä½¿ç”¨ ICP</figcaption></figure><p>æœ‰ç´¢å¼•ä¸‹æ¨çš„æƒ…å†µä¸‹ï¼ŒMySQL å¯ä»¥åœ¨å­˜å‚¨å¼•æ“å±‚æ£€æŸ¥ <code>name like &#39;å¼ %&#39; and age=10</code> çš„æ¡ä»¶ï¼Œè€Œä¸ä»…ä»…æ˜¯ <code>name like &#39;å¼ %&#39;</code>ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-a8525cf3-2d16-49a9-a7da-a19762ed16df.jpg" alt="ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šä½¿ç”¨ ICP" tabindex="0" loading="lazy"><figcaption>ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šä½¿ç”¨ ICP</figcaption></figure><p>è¿™å°±æ„å‘³ç€ä¸ç¬¦åˆ age = 10 æ¡ä»¶çš„è®°å½•å°†ä¼šåœ¨ç´¢å¼•æ‰«ææ—¶è¢«è¿‡æ»¤æ‰ï¼Œä»è€Œå‡å°‘äº†å›è¡¨çš„æ¬¡æ•°ã€‚</p><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„ç¾å›¢åŒå­¦ 9 ä¸€é¢é¢è¯•åŸé¢˜ï¼šç´¢å¼•ä¸‹æ¨</li></ol></blockquote><h3 id="_52-å¦‚ä½•æŸ¥çœ‹æ˜¯å¦ç”¨åˆ°äº†ç´¢å¼•-è¡¥å……" tabindex="-1"><a class="header-anchor" href="#_52-å¦‚ä½•æŸ¥çœ‹æ˜¯å¦ç”¨åˆ°äº†ç´¢å¼•-è¡¥å……"><span>52.å¦‚ä½•æŸ¥çœ‹æ˜¯å¦ç”¨åˆ°äº†ç´¢å¼•ï¼Ÿï¼ˆè¡¥å……ï¼‰</span></a></h3><blockquote><p>2024 å¹´ 03 æœˆ 15 æ—¥å¢è¡¥ã€‚</p></blockquote><p>å¯ä»¥é€šè¿‡ <code>EXPLAIN</code> å…³é”®å­—æ¥æŸ¥çœ‹æ˜¯å¦ä½¿ç”¨äº†ç´¢å¼•ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">EXPLAIN </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> table</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> column </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;value&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>å…¶ç»“æœä¸­çš„ <code>key</code> å€¼æ˜¾ç¤ºäº†æŸ¥è¯¢æ˜¯å¦ä½¿ç”¨ç´¢å¼•ï¼Œå¦‚æœä½¿ç”¨äº†ç´¢å¼•ï¼Œä¼šæ˜¾ç¤ºç´¢å¼•çš„åç§°ã€‚æ¯”å¦‚ä¸‹é¢è¿™ä¸ªæˆªå›¾å°±è¡¨æ˜è¯¥æŸ¥è¯¢è¯­å¥ä½¿ç”¨äº†ä¸»é”®ç´¢å¼•ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240417092646.png" alt="äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šexplain å’Œç´¢å¼•" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šexplain å’Œç´¢å¼•</figcaption></figure><h4 id="a-b-c-è”åˆç´¢å¼•-select-from-tbn-where-a-and-b-in-and-c-ä¼šèµ°ç´¢å¼•å—" tabindex="-1"><a class="header-anchor" href="#a-b-c-è”åˆç´¢å¼•-select-from-tbn-where-a-and-b-in-and-c-ä¼šèµ°ç´¢å¼•å—"><span>(A,B,C) è”åˆç´¢å¼• <code>select * from tbn where a=? and b in (?,?) and c&gt;?</code> ä¼šèµ°ç´¢å¼•å—ï¼Ÿ</span></a></h4><blockquote><p>2024 å¹´ 03 æœˆ 15 æ—¥å¢è¡¥ã€‚</p></blockquote><p>è¿™ä¸ªæŸ¥è¯¢ä¼šä½¿ç”¨åˆ°è”åˆç´¢å¼• <code>(A,B,C)</code>ï¼Œå› ä¸ºæ¡ä»¶æ˜¯æŒ‰ç…§ç´¢å¼•åˆ— <code>A</code>ã€<code>B</code>ã€<code>C</code> çš„é¡ºåºæ¥çš„ï¼Œè¿™æ˜¯ç†æƒ³çš„ä½¿ç”¨åœºæ™¯ã€‚</p><ol><li><p>å¯¹äº <code>A=?</code>ï¼šè¿™ä¸ªæ¡ä»¶æ˜¯ä¸€ä¸ªç²¾ç¡®åŒ¹é…ï¼ŒMySQL ä¼šä½¿ç”¨ç´¢å¼•æ¥å®šä½åˆ°æ»¡è¶³æ¡ä»¶ <code>A=?</code> çš„è®°å½•ã€‚</p></li><li><p>å¯¹äº <code>B IN (?, ?)</code>ï¼šè¿™ä¸ªæ¡ä»¶æŒ‡å®šäº† <code>B</code> åˆ—å¯ä»¥å–ä¸¤ä¸ªå¯èƒ½çš„å€¼ã€‚MySQL ä¼šåˆ©ç”¨ç´¢å¼•æ¥æŸ¥æ‰¾æ‰€æœ‰åŒ¹é… <code>A=?</code> ä¸” <code>B</code> åˆ—ä¸ºè¿™ä¸¤ä¸ªå€¼ä¸­ä»»æ„ä¸€ä¸ªçš„è®°å½•ã€‚</p></li><li><p>å¯¹äº <code>C&gt;?</code>ï¼šè¿™ä¸ªæ¡ä»¶æ˜¯ä¸€ä¸ªèŒƒå›´æŸ¥è¯¢ã€‚åœ¨å·²ç»æ ¹æ® <code>A</code> å’Œ <code>B</code> ç­›é€‰çš„åŸºç¡€ä¸Šï¼ŒMySQL ä¼šç»§ç»­åˆ©ç”¨ç´¢å¼•æ¥æŸ¥æ‰¾ <code>C</code> åˆ—å€¼å¤§äºæŒ‡å®šå€¼çš„è®°å½•ã€‚</p></li></ol><p>æ¥éªŒè¯ä¸€ä¸‹ã€‚</p><p>ç¬¬ä¸€æ­¥ï¼Œå»ºè¡¨ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> TABLE</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> tbn</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (A </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">INT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, B </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">INT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, C </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">INT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, D </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">TEXT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>ç¬¬äºŒæ­¥ï¼Œåˆ›å»ºç´¢å¼•ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> INDEX</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> idx_abc</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> ON</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> tbn (A, B, C);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>ç¬¬ä¸‰æ­¥ï¼Œæ’å…¥æ•°æ®ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">INSERT INTO</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> tbn </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">VALUES</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;First&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">INSERT INTO</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> tbn </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">VALUES</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;Second&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">INSERT INTO</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> tbn </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">VALUES</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;Third&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">INSERT INTO</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> tbn </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">VALUES</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;Fourth&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">INSERT INTO</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> tbn </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">VALUES</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;Fifth&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç¬¬å››æ­¥ï¼Œæ‰§è¡ŒæŸ¥è¯¢ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">EXPLAIN </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> tbn </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> A</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> AND</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> B </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">IN</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">AND</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> C</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">\G</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240315140807.png" alt="äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯</figcaption></figure><p>ä» <code>EXPLAIN</code> è¾“å‡ºç»“æœæ¥çœ‹ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ° MySQL æ˜¯å¦‚ä½•æ‰§è¡ŒæŸ¥è¯¢çš„ä¸€äº›å…³é”®ä¿¡æ¯ï¼š</p><ul><li><strong>id</strong>: æŸ¥è¯¢æ ‡è¯†ç¬¦ï¼Œè¿™é‡Œæ˜¯ <code>1</code>ã€‚</li><li><strong>select_type</strong>: æŸ¥è¯¢çš„ç±»å‹ï¼Œè¿™é‡Œæ˜¯ <code>SIMPLE</code>ï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªç®€å•çš„æŸ¥è¯¢ï¼Œæ²¡æœ‰ä½¿ç”¨å­æŸ¥è¯¢æˆ–å¤æ‚çš„è”åˆæŸ¥è¯¢ã€‚</li><li><strong>table</strong>: æ­£åœ¨æŸ¥è¯¢çš„è¡¨åï¼Œè¿™é‡Œæ˜¯ <code>tbn</code>ã€‚</li><li><strong>type</strong>: æŸ¥è¯¢ç±»å‹ï¼Œè¿™é‡Œæ˜¯ <code>range</code>ï¼Œè¡¨ç¤º MySQL ä½¿ç”¨äº†èŒƒå›´æŸ¥æ‰¾ã€‚è¿™æ˜¯å› ä¸ºæŸ¥è¯¢æ¡ä»¶åŒ…å«äº† <code>&gt;</code> æ“ä½œç¬¦ï¼Œä½¿å¾— MySQL éœ€è¦åœ¨ç´¢å¼•ä¸­æŸ¥æ‰¾æ»¡è¶³èŒƒå›´æ¡ä»¶çš„è®°å½•ã€‚</li><li><strong>possible_keys</strong>: å¯èƒ½è¢«ç”¨æ¥æ‰§è¡ŒæŸ¥è¯¢çš„ç´¢å¼•ï¼Œè¿™é‡Œæ˜¯ <code>idx_abc</code>ï¼Œè¡¨ç¤º MySQL è®¤ä¸º <code>idx_abc</code> ç´¢å¼•å¯èƒ½ä¼šç”¨äºä¼˜åŒ–æŸ¥è¯¢ã€‚</li><li><strong>key</strong>: å®é™…ç”¨æ¥æ‰§è¡ŒæŸ¥è¯¢çš„ç´¢å¼•ï¼Œä¹Ÿæ˜¯ <code>idx_abc</code>ï¼Œè¿™æ„å‘³ç€ MySQL å®é™…ä¸Šä½¿ç”¨äº† <code>idx_abc</code> è”åˆç´¢å¼•æ¥ä¼˜åŒ–æŸ¥è¯¢ã€‚</li><li><strong>key_len</strong>: ä½¿ç”¨ç´¢å¼•çš„é•¿åº¦ï¼Œè¿™é‡Œæ˜¯ <code>15</code> å­—èŠ‚ï¼Œè¿™æä¾›äº†å…³äºç´¢å¼•ä½¿ç”¨æƒ…å†µçš„ä¸€äº›ä¿¡æ¯ï¼Œæ¯”å¦‚å“ªäº›åˆ—è¢«ç”¨åœ¨äº†ç´¢å¼•ä¸­ã€‚</li><li><strong>ref</strong>: æ˜¾ç¤ºå“ªäº›åˆ—æˆ–å¸¸é‡è¢«ç”¨ä½œç´¢å¼•æŸ¥æ‰¾çš„å‚è€ƒã€‚</li><li><strong>rows</strong>: MySQL ä¼°è®¡ä¸ºäº†æ‰¾åˆ°ç»“æœéœ€è¦æ£€æŸ¥çš„è¡Œæ•°ï¼Œè¿™é‡Œæ˜¯ <code>2</code>ã€‚</li><li><strong>filtered</strong>: è¡¨ç¤ºæ ¹æ®è¡¨çš„æ¡ä»¶è¿‡æ»¤åï¼Œå‰©ä½™å¤šå°‘ç™¾åˆ†æ¯”çš„ç»“æœï¼Œè¿™é‡Œæ˜¯ <code>100.00</code>%ï¼Œæ„å‘³ç€æ‰€æœ‰æ‰«æçš„è¡Œéƒ½ä¼šè¢«è¿”å›ã€‚</li><li><strong>Extra</strong>: æä¾›äº†å…³äºæŸ¥è¯¢æ‰§è¡Œçš„é¢å¤–ä¿¡æ¯ã€‚<code>Using index condition</code> è¡¨ç¤º MySQL ä½¿ç”¨äº†ç´¢å¼•æ¡ä»¶æ¨é€ï¼ˆIndex Condition Pushdownï¼ŒICPï¼‰ï¼Œè¿™æ˜¯ MySQL çš„ä¸€ä¸ªä¼˜åŒ–æ–¹å¼ï¼Œå®ƒå…è®¸åœ¨ç´¢å¼•å±‚é¢è¿‡æ»¤æ•°æ®ï¼Œå‡å°‘è®¿é—®è¡¨æ•°æ®çš„éœ€è¦ã€‚</li></ul><h4 id="è”åˆç´¢å¼•-abc-a-1-c-1-b-1-c-1-a-1-c-1-b-1-èµ°ä¸èµ°ç´¢å¼•" tabindex="-1"><a class="header-anchor" href="#è”åˆç´¢å¼•-abc-a-1-c-1-b-1-c-1-a-1-c-1-b-1-èµ°ä¸èµ°ç´¢å¼•"><span>è”åˆç´¢å¼• abcï¼Œa=1,c=1/b=1,c=1/a=1,c=1,b=1 èµ°ä¸èµ°ç´¢å¼•ï¼Ÿ</span></a></h4><blockquote><p>2024 å¹´ 03 æœˆ 19 æ—¥å¢è¡¥</p></blockquote><p>æˆ‘ä»¬é€šè¿‡å®é™…çš„ SQL æ¥éªŒè¯ä¸€ä¸‹ã€‚</p><p>ç¤ºä¾‹ 1ï¼ˆa=1,c=1ï¼‰ï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">EXPLAIN </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> tbn </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> A</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> AND</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> C</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">\G</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240319131120.png" alt="äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯</figcaption></figure><p>key æ˜¯ idx_abcï¼Œè¡¨æ˜ a=1,c=1 ä¼šä½¿ç”¨è”åˆç´¢å¼•ã€‚ä½†å› ä¸ºç¼ºå°‘äº† B å­—æ®µçš„æ¡ä»¶ï¼Œæ‰€ä»¥ MySQL å¯èƒ½æ— æ³•åˆ©ç”¨ç´¢å¼•æ¥ç›´æ¥å®šä½åˆ°ç²¾ç¡®çš„è¡Œï¼Œè€Œæ˜¯ä½¿ç”¨ç´¢å¼•æ¥ç¼©å°æœç´¢èŒƒå›´ã€‚</p><p>æœ€ç»ˆï¼ŒMySQL éœ€è¦æ£€æŸ¥æ›´å¤šçš„è¡Œï¼ˆrows: 3ï¼‰æ¥æ‰¾åˆ°æ»¡è¶³æ‰€æœ‰æ¡ä»¶çš„ç»“æœé›†ï¼Œä½†æ€»ä½“æ¥è¯´ï¼Œä½¿ç”¨ç´¢å¼•æ˜æ˜¾æ¯”å…¨è¡¨æ‰«æè¦é«˜æ•ˆå¾—å¤šã€‚</p><p>ç¤ºä¾‹ 2ï¼ˆb=1,c=1ï¼‰ï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">EXPLAIN </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> tbn </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> B</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> AND</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> C</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">\G</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240319131245.png" alt="äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯</figcaption></figure><p>key æ˜¯ NULLï¼Œè¡¨æ˜ b=1,c=1 ä¸ä¼šä½¿ç”¨è”åˆç´¢å¼•ã€‚è¿™æ˜¯å› ä¸ºæŸ¥è¯¢æ¡ä»¶ä¸­æ¶‰åŠçš„å­—æ®µ B å’Œ C æ²¡æœ‰éµå¾ªä¹‹å‰å®šä¹‰çš„è”åˆç´¢å¼• idx_abcï¼ˆAã€Bã€C é¡ºåºï¼‰çš„æœ€å·¦å‰ç¼€åŸåˆ™ã€‚</p><p>åœ¨ idx_abc ç´¢å¼•ä¸­ï¼ŒA æ˜¯æœ€å·¦è¾¹çš„åˆ—ï¼Œä½†æ˜¯æŸ¥è¯¢æ²¡æœ‰åŒ…å« Aï¼Œå› æ­¤ MySQL æ— æ³•åˆ©ç”¨è¿™ä¸ªç´¢å¼•ã€‚</p><p>ç¤ºä¾‹ 3ï¼ˆa=1,c=1,b=1ï¼‰ï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">EXPLAIN </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> tbn </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> A</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> AND</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> C</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> AND</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> B</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">\G</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240319131306.png" alt="äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯</figcaption></figure><p>key æ˜¯ idx_abcï¼Œè¡¨æ˜ a=1,c=1,b=1 ä¼šä½¿ç”¨è”åˆç´¢å¼•ã€‚</p><p>å¹¶ä¸” rows=1ï¼Œå› ä¸ºæŸ¥è¯¢æ¡ä»¶åŒ…å«äº†è”åˆç´¢å¼• idx_abc ä¸­æ‰€æœ‰åˆ—çš„ç­‰å€¼æ¡ä»¶ï¼Œå¹¶ä¸”æ¡ä»¶çš„é¡ºåºä¸ç´¢å¼•åˆ—çš„é¡ºåºç›¸åŒ¹é…ï¼Œä½¿å¾—æŸ¥è¯¢èƒ½å¤Ÿå‡†ç¡®ã€å¿«é€Ÿåœ°å®šä½åˆ°ç›®æ ‡æ•°æ®ã€‚</p><h4 id="è”åˆç´¢å¼•çš„ä¸€ä¸ªåœºæ™¯é¢˜-a-b-c-è”åˆç´¢å¼•-b-c-æ˜¯å¦ä¼šèµ°ç´¢å¼•å—" tabindex="-1"><a class="header-anchor" href="#è”åˆç´¢å¼•çš„ä¸€ä¸ªåœºæ™¯é¢˜-a-b-c-è”åˆç´¢å¼•-b-c-æ˜¯å¦ä¼šèµ°ç´¢å¼•å—"><span>è”åˆç´¢å¼•çš„ä¸€ä¸ªåœºæ™¯é¢˜ï¼š(a,b,c)è”åˆç´¢å¼•ï¼Œ(b,c)æ˜¯å¦ä¼šèµ°ç´¢å¼•å—ï¼Ÿ</span></a></h4><blockquote><p>2024 å¹´ 04 æœˆ 06 æ—¥å¢è¡¥</p></blockquote><p>æ ¹æ®æœ€å·¦å‰ç¼€åŸåˆ™ï¼Œ(b,c) æŸ¥è¯¢ä¸ä¼šèµ°ç´¢å¼•ã€‚</p><p>å› ä¸ºè”åˆç´¢å¼• (a,b,c) ä¸­ï¼Œa æ˜¯æœ€å·¦è¾¹çš„åˆ—ï¼Œè”åˆç´¢å¼•åœ¨åˆ›å»ºç´¢å¼•æ ‘çš„æ—¶å€™éœ€è¦å…ˆæœ‰ aï¼Œç„¶åæ‰ä¼šæœ‰ b å’Œ cã€‚è€ŒæŸ¥è¯¢æ¡ä»¶ä¸­æ²¡æœ‰åŒ…å« aï¼Œæ‰€ä»¥ MySQL æ— æ³•åˆ©ç”¨è¿™ä¸ªç´¢å¼•ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">EXPLAIN </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> tbn </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> B</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> AND</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> C</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">\G</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240408092425.png" alt="äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯</figcaption></figure><h4 id="å»ºç«‹è”åˆç´¢å¼•-a-b-c-where-c-5-æ˜¯å¦ä¼šç”¨åˆ°ç´¢å¼•-ä¸ºä»€ä¹ˆ" tabindex="-1"><a class="header-anchor" href="#å»ºç«‹è”åˆç´¢å¼•-a-b-c-where-c-5-æ˜¯å¦ä¼šç”¨åˆ°ç´¢å¼•-ä¸ºä»€ä¹ˆ"><span>å»ºç«‹è”åˆç´¢å¼•(a,b,c)ï¼Œwhere c = 5 æ˜¯å¦ä¼šç”¨åˆ°ç´¢å¼•ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ</span></a></h4><blockquote><p>2024 å¹´ 04 æœˆ 08 æ—¥å¢è¡¥</p></blockquote><p>åœ¨è¿™ä¸ªæŸ¥è¯¢ä¸­ï¼Œåªæœ‰ç´¢å¼•çš„ç¬¬ä¸‰åˆ— c è¢«ç”¨ä½œæŸ¥è¯¢æ¡ä»¶ï¼Œè€Œå‰ä¸¤åˆ— a å’Œ b æ²¡æœ‰è¢«ä½¿ç”¨ã€‚è¿™ä¸ç¬¦åˆæœ€å·¦å‰ç¼€åŸåˆ™ï¼Œå› æ­¤ MySQL ä¸ä¼šä½¿ç”¨è”åˆç´¢å¼• (a,b,c)ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">EXPLAIN </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> tbn </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> C</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">\G</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240408092646.png" alt="äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯</figcaption></figure><h4 id="sqlä¸­ä½¿ç”¨like-å¦‚æœéµå¾ªæœ€å·¦å‰ç¼€åŒ¹é…-æŸ¥è¯¢æ˜¯ä¸æ˜¯ä¸€å®šä¼šç”¨åˆ°ç´¢å¼•" tabindex="-1"><a class="header-anchor" href="#sqlä¸­ä½¿ç”¨like-å¦‚æœéµå¾ªæœ€å·¦å‰ç¼€åŒ¹é…-æŸ¥è¯¢æ˜¯ä¸æ˜¯ä¸€å®šä¼šç”¨åˆ°ç´¢å¼•"><span>sqlä¸­ä½¿ç”¨likeï¼Œå¦‚æœéµå¾ªæœ€å·¦å‰ç¼€åŒ¹é…ï¼ŒæŸ¥è¯¢æ˜¯ä¸æ˜¯ä¸€å®šä¼šç”¨åˆ°ç´¢å¼•ï¼Ÿ</span></a></h4><blockquote><p>2024 å¹´ 11 æœˆ 04 æ—¥å¢è¡¥</p></blockquote><p>æ—¢ç„¶éµå¾ªæœ€å·¦å‰ç¼€åŒ¹é…ï¼Œè¯´æ˜ä¸€å®šæ˜¯è”åˆç´¢å¼•ï¼Œé‚£ä¹ˆæŸ¥è¯¢æ˜¯ä¸€å®šä¼šç”¨åˆ°ç´¢å¼•çš„ã€‚</p><p>ä½†å¦‚æœæŸ¥è¯¢æ¡ä»¶ä¸­çš„ like é€šé…ç¬¦ % å‡ºç°åœ¨æœç´¢å­—ç¬¦ä¸²çš„å¼€å§‹ä½ç½®ï¼Œå¦‚ <code>age = 18 and name LIKE &#39;%xxx&#39;</code>ï¼ŒMySQL ä¼šå…ˆä½¿ç”¨è”åˆç´¢å¼• age_name æ‰¾åˆ° age ç¬¦åˆæ¡ä»¶çš„æ‰€æœ‰è¡Œï¼Œç„¶åå†è¿›è¡Œ name å­—æ®µçš„è¿‡æ»¤ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20241104212447.png" alt="äºŒå“¥çš„java è¿›é˜¶ä¹‹è·¯ï¼šè”åˆç´¢å¼•å‰ç¼€é€šé…ç¬¦" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„java è¿›é˜¶ä¹‹è·¯ï¼šè”åˆç´¢å¼•å‰ç¼€é€šé…ç¬¦</figcaption></figure><p><code>type: ref</code> è¡¨ç¤ºä½¿ç”¨ç´¢å¼•æŸ¥æ‰¾åŒ¹é…æŸä¸ªå€¼çš„æ‰€æœ‰è¡Œã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20241104212743.png" alt="äºŒå“¥çš„java è¿›é˜¶ä¹‹è·¯ï¼š6 è¡Œæ•°æ®" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„java è¿›é˜¶ä¹‹è·¯ï¼š6 è¡Œæ•°æ®</figcaption></figure><p><code>rows: 3</code> è¡¨ç¤ºé¢„è®¡æ‰«æ 3 è¡Œã€‚<code>filtered: 16.67</code> è¡¨ç¤ºåœ¨å‰é¢çš„ rows ä¸­ï¼Œå¤§çº¦æœ‰ 16.67% çš„è¡Œæ»¡è¶³ WHERE æ¡ä»¶ã€‚</p><p>å¦‚æœæ˜¯åç¼€é€šé…ç¬¦ï¼Œå¦‚ <code>age = 18 and name LIKE &#39;xxx%&#39;</code>ï¼ŒMySQL ä¼šç›´æ¥ä½¿ç”¨è”åˆç´¢å¼• age_name æ‰¾åˆ°æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„è¡Œã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20241104213135.png" alt="äºŒå“¥çš„java è¿›é˜¶ä¹‹è·¯ï¼šè”åˆç´¢å¼•åç¼€é€šé…ç¬¦" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„java è¿›é˜¶ä¹‹è·¯ï¼šè”åˆç´¢å¼•åç¼€é€šé…ç¬¦</figcaption></figure><p>type ä¸º rangeï¼Œè¡¨ç¤º MySQL ä½¿ç”¨äº†ç´¢å¼•èŒƒå›´æ‰«æï¼Œ<code>filtered ä¸º 100.00%</code>ï¼Œè¡¨ç¤ºåœ¨æ‰«æçš„è¡Œä¸­ï¼Œæ‰€æœ‰çš„è¡Œéƒ½æ»¡è¶³ WHERE æ¡ä»¶ã€‚</p><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å­—èŠ‚è·³åŠ¨å•†ä¸šåŒ–ä¸€é¢çš„åŸé¢˜ï¼š(A,B,C) è”åˆç´¢å¼• <code>select * from tbn where a=? and b in (?,?) and c&gt;?</code> ä¼šèµ°ç´¢å¼•å—ï¼Ÿ</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„äº¬ä¸œåŒå­¦ 10 åç«¯å®ä¹ ä¸€é¢çš„åŸé¢˜ï¼šè”åˆç´¢å¼• abcï¼Œa=1,c=1/b=1,c=1/a=1,c=1,b=1 èµ°ä¸èµ°ç´¢å¼•</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å¿«æ‰‹é¢ç»åŒå­¦ 7 Java åç«¯æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šè”åˆç´¢å¼•çš„ä¸€ä¸ªåœºæ™¯é¢˜ï¼š(a,b,c)è”åˆç´¢å¼•ï¼Œ(b,c)æ˜¯å¦ä¼šèµ°ç´¢å¼•</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å­—èŠ‚è·³åŠ¨é¢ç»åŒå­¦ 1 Java åç«¯æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šå»ºç«‹è”åˆç´¢å¼•(a,b,c)ï¼Œwhere c = 5 æ˜¯å¦ä¼šç”¨åˆ°ç´¢å¼•ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„ç¾å›¢é¢ç»åŒå­¦ 15 ç‚¹è¯„åç«¯æŠ€æœ¯é¢è¯•åŸé¢˜ï¼šsqlä¸­ä½¿ç”¨likeï¼Œå¦‚æœéµå¾ªæœ€å·¦å‰ç¼€åŒ¹é…ï¼ŒæŸ¥è¯¢æ˜¯ä¸æ˜¯ä¸€å®šä¼šç”¨åˆ°ç´¢å¼•</li></ol></blockquote><p>GitHub ä¸Šæ ‡æ˜Ÿ 10000+ çš„å¼€æºçŸ¥è¯†åº“ã€Š<a href="https://github.com/itwanger/toBeBetterJavaer" target="_blank" rel="noopener noreferrer">äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯</a>ã€‹ç¬¬ä¸€ç‰ˆ PDF ç»ˆäºæ¥äº†ï¼åŒ…æ‹¬ Java åŸºç¡€è¯­æ³•ã€æ•°ç»„&amp;å­—ç¬¦ä¸²ã€OOPã€é›†åˆæ¡†æ¶ã€Java IOã€å¼‚å¸¸å¤„ç†ã€Java æ–°ç‰¹æ€§ã€ç½‘ç»œç¼–ç¨‹ã€NIOã€å¹¶å‘ç¼–ç¨‹ã€JVM ç­‰ç­‰ï¼Œå…±è®¡ 32 ä¸‡ä½™å­—ï¼Œ500+å¼ æ‰‹ç»˜å›¾ï¼Œå¯ä»¥è¯´æ˜¯é€šä¿—æ˜“æ‡‚ã€é£è¶£å¹½é»˜â€¦â€¦è¯¦æƒ…æˆ³ï¼š<a href="https://javabetter.cn/overview/" target="_blank" rel="noopener noreferrer">å¤ªèµäº†ï¼ŒGitHub ä¸Šæ ‡æ˜Ÿ 10000+ çš„ Java æ•™ç¨‹</a></p><p>å¾®ä¿¡æœ <strong>æ²‰é»˜ç‹äºŒ</strong> æˆ–æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨äºŒå“¥çš„åŸåˆ›å…¬ä¼—å·æ²‰é»˜ç‹äºŒï¼Œå›å¤ <strong>222</strong> å³å¯å…è´¹é¢†å–ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/gongzhonghao.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="é”" tabindex="-1"><a class="header-anchor" href="#é”"><span>é”</span></a></h2><h3 id="_53-mysql-ä¸­æœ‰å“ªå‡ ç§é”-åˆ—ä¸¾ä¸€ä¸‹" tabindex="-1"><a class="header-anchor" href="#_53-mysql-ä¸­æœ‰å“ªå‡ ç§é”-åˆ—ä¸¾ä¸€ä¸‹"><span>53.MySQL ä¸­æœ‰å“ªå‡ ç§é”ï¼Œåˆ—ä¸¾ä¸€ä¸‹ï¼Ÿ</span></a></h3><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-a07e4525-ccc1-4287-aec5-ebf3f277857c.jpg" alt="ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šMySQL ä¸­çš„é”" tabindex="0" loading="lazy"><figcaption>ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šMySQL ä¸­çš„é”</figcaption></figure><p>æŒ‰é”ç²’åº¦åˆ’åˆ†çš„è¯ï¼ŒMySQL çš„é”æœ‰ï¼š</p><ul><li>è¡¨é”ï¼šå¼€é”€å°ï¼ŒåŠ é”å¿«ï¼›é”å®šåŠ›åº¦å¤§ï¼Œå‘ç”Ÿé”å†²çªæ¦‚ç‡é«˜ï¼Œå¹¶å‘åº¦æœ€ä½ï¼›ä¸ä¼šå‡ºç°æ­»é”ã€‚</li><li>è¡Œé”ï¼šå¼€é”€å¤§ï¼ŒåŠ é”æ…¢ï¼›ä¼šå‡ºç°æ­»é”ï¼›é”å®šç²’åº¦å°ï¼Œå‘ç”Ÿé”å†²çªçš„æ¦‚ç‡ä½ï¼Œå¹¶å‘åº¦é«˜ã€‚</li><li>é¡µé”ï¼šå¼€é”€å’ŒåŠ é”é€Ÿåº¦ä»‹äºè¡¨é”å’Œè¡Œé”ä¹‹é—´ï¼›ä¼šå‡ºç°æ­»é”ï¼›é”å®šç²’åº¦ä»‹äºè¡¨é”å’Œè¡Œé”ä¹‹é—´ï¼Œå¹¶å‘åº¦ä¸€èˆ¬ã€‚</li></ul><p>æŒ‰å…¼å®¹æ€§åˆ’åˆ†çš„è¯ï¼ŒMySQL çš„é”æœ‰ï¼š</p><ul><li>å…±äº«é”ï¼ˆS Lockï¼‰ï¼Œä¹Ÿå«è¯»é”ï¼ˆread lockï¼‰ï¼Œç›¸äº’ä¸é˜»å¡ã€‚</li><li>æ’ä»–é”ï¼ˆX Lockï¼‰ï¼Œä¹Ÿå«å†™é”ï¼ˆwrite lockï¼‰ï¼Œæ’å®ƒé”æ˜¯é˜»å¡çš„ï¼Œåœ¨ä¸€å®šæ—¶é—´å†…ï¼Œåªæœ‰ä¸€ä¸ªè¯·æ±‚èƒ½æ‰§è¡Œå†™å…¥ï¼Œå¹¶é˜»æ­¢å…¶å®ƒé”è¯»å–æ­£åœ¨å†™å…¥çš„æ•°æ®ã€‚</li></ul><p>æŒ‰åŠ é”æœºåˆ¶åˆ’åˆ†çš„è¯ï¼ŒMySQL çš„é”æœ‰ï¼š</p><p>â‘ ã€ä¹è§‚é”</p><p>ä¹è§‚é”åŸºäºè¿™æ ·çš„å‡è®¾ï¼šå†²çªåœ¨ç³»ç»Ÿä¸­å‡ºç°çš„é¢‘ç‡è¾ƒä½ï¼Œå› æ­¤åœ¨æ•°æ®åº“äº‹åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œä¸ä¼šé¢‘ç¹åœ°å»é”å®šèµ„æºã€‚ç›¸åï¼Œå®ƒåœ¨æäº¤æ›´æ–°çš„æ—¶å€™æ‰æ£€æŸ¥æ˜¯å¦æœ‰å…¶ä»–äº‹åŠ¡å·²ç»ä¿®æ”¹äº†æ•°æ®ã€‚</p><p>å¯ä»¥é€šè¿‡åœ¨æ•°æ®è¡¨ä¸­ä½¿ç”¨ç‰ˆæœ¬å·ï¼ˆVersionï¼‰æˆ–æ—¶é—´æˆ³ï¼ˆTimestampï¼‰æ¥å®ç°ï¼Œæ¯æ¬¡è¯»å–è®°å½•æ—¶ï¼ŒåŒæ—¶è·å–ç‰ˆæœ¬å·æˆ–æ—¶é—´æˆ³ï¼Œæ›´æ–°æ—¶æ£€æŸ¥ç‰ˆæœ¬å·æˆ–æ—¶é—´æˆ³æ˜¯å¦å‘ç”Ÿå˜åŒ–ã€‚</p><p>å¦‚æœæ²¡æœ‰å˜åŒ–ï¼Œåˆ™æ‰§è¡Œæ›´æ–°å¹¶å¢åŠ ç‰ˆæœ¬å·æˆ–æ›´æ–°æ—¶é—´æˆ³ï¼›å¦‚æœæ£€æµ‹åˆ°å†²çªï¼ˆå³ç‰ˆæœ¬å·æˆ–æ—¶é—´æˆ³ä¸ä¹‹å‰è¯»å–çš„ä¸åŒï¼‰ï¼Œåˆ™æ‹’ç»æ›´æ–°ã€‚</p><p>â‘¡ã€æ‚²è§‚é”</p><p>æ‚²è§‚é”å‡è®¾å†²çªæ˜¯å¸¸è§çš„ï¼Œå› æ­¤åœ¨æ•°æ®å¤„ç†è¿‡ç¨‹ä¸­ï¼Œå®ƒä¼šä¸»åŠ¨é”å®šæ•°æ®ï¼Œé˜²æ­¢å…¶ä»–äº‹åŠ¡è¿›è¡Œä¿®æ”¹ã€‚</p><p>å¯ä»¥ç›´æ¥ä½¿ç”¨æ•°æ®åº“çš„é”æœºåˆ¶ï¼Œå¦‚è¡Œé”æˆ–è¡¨é”ï¼Œæ¥é”å®šè¢«è®¿é—®çš„æ•°æ®ã€‚å¸¸è§çš„å®ç°æ˜¯ <code>SELECT FOR UPDATE</code> è¯­å¥ï¼Œå®ƒåœ¨è¯»å–æ•°æ®æ—¶å°±åŠ ä¸Šäº†é”ï¼Œç›´åˆ°å½“å‰äº‹åŠ¡æäº¤æˆ–å›æ»šåæ‰é‡Šæ”¾ã€‚</p><h4 id="å¦‚ä½•è§£å†³åº“å­˜è¶…å–é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#å¦‚ä½•è§£å†³åº“å­˜è¶…å–é—®é¢˜"><span>å¦‚ä½•è§£å†³åº“å­˜è¶…å–é—®é¢˜ï¼Ÿ</span></a></h4><p>æŒ‰ç…§ä¹è§‚é”çš„æ–¹å¼ï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">UPDATE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> inventory </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SET</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> count </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> count - </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">version</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> version</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> + </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> product_id </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> AND</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> version</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> current_version;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>æŒ‰ç…§æ‚²è§‚é”çš„æ–¹å¼ï¼š</p><p>åœ¨äº‹åŠ¡å¼€å§‹æ—¶ç›´æ¥é”å®šåº“å­˜è®°å½•ï¼Œç›´åˆ°äº‹åŠ¡ç»“æŸã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">START TRANSACTION</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> inventory </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> product_id </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> FOR</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> UPDATE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">UPDATE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> inventory </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SET</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> count </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> count - </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> product_id </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">COMMIT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å°å…¬å¸é¢ç»åˆé›†åŒå­¦ 1 Java åç«¯é¢è¯•åŸé¢˜ï¼šä¹è§‚é”å’Œæ‚²è§‚é”ï¼Œåº“å­˜çš„è¶…å–é—®é¢˜çš„åŸå› å’Œè§£å†³æ–¹æ¡ˆï¼Ÿ</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„äº¬ä¸œåŒå­¦ 4 äº‘å®ä¹ é¢è¯•åŸé¢˜ï¼šmysqlä¸€å…±æœ‰å“ªäº›é”</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„ç¾å›¢é¢ç»åŒå­¦ 15 ç‚¹è¯„åç«¯æŠ€æœ¯é¢è¯•åŸé¢˜ï¼šé—®äº†ä¸€ä¸‹mysqlçš„é”å’ŒMVCC</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„é˜¿é‡Œç³»é¢ç»åŒå­¦ 19 é¥¿äº†ä¹ˆé¢è¯•åŸé¢˜ï¼šMySQLé”</li></ol></blockquote><h3 id="_54-å…¨å±€é”å’Œè¡¨çº§é”äº†è§£å—-è¡¥å……" tabindex="-1"><a class="header-anchor" href="#_54-å…¨å±€é”å’Œè¡¨çº§é”äº†è§£å—-è¡¥å……"><span>54.å…¨å±€é”å’Œè¡¨çº§é”äº†è§£å—ï¼Ÿï¼ˆè¡¥å……ï¼‰</span></a></h3><blockquote><p>2024 å¹´ 07 æœˆ 15 æ—¥å¢è¡¥ã€‚</p></blockquote><p>å…¨å±€é”å°±æ˜¯å¯¹æ•´ä¸ªæ•°æ®åº“å®ä¾‹è¿›è¡ŒåŠ é”ï¼Œåœ¨ MySQL ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ <code>FLUSH TABLES WITH READ LOCK</code> å‘½ä»¤æ¥è·å–å…¨å±€è¯»é”ã€‚</p><p>å…¨å±€é”çš„ä½œç”¨æ˜¯ä¿è¯åœ¨å¤‡ä»½æ•°æ®åº“æ—¶ï¼Œæ•°æ®ä¸ä¼šå‘ç”Ÿå˜åŒ–ã€æ•°æ®æ›´æ–°è¯­å¥ï¼ˆå¢åˆ æ”¹ï¼‰ã€æ•°æ®å®šä¹‰è¯­å¥ï¼ˆå»ºè¡¨ã€ä¿®æ”¹è¡¨ç»“æ„ç­‰ï¼‰å’Œæ›´æ–°äº‹åŠ¡çš„æäº¤è¯­å¥ã€‘ã€‚å½“æˆ‘ä»¬éœ€è¦å¤‡ä»½æ•°æ®åº“æ—¶ï¼Œå¯ä»¥å…ˆè·å–å…¨å±€è¯»é”ï¼Œç„¶åå†æ‰§è¡Œå¤‡ä»½æ“ä½œã€‚</p><h4 id="è¡¨é”äº†è§£å—" tabindex="-1"><a class="header-anchor" href="#è¡¨é”äº†è§£å—"><span>è¡¨é”äº†è§£å—ï¼Ÿ</span></a></h4><p>è¡¨é”å°±æ˜¯é”ä½æ•´ä¸ªè¡¨ã€‚åœ¨ MySQL ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ <code>LOCK TABLES</code> å‘½ä»¤æ¥é”å®šè¡¨ã€‚</p><p>è¡¨é”å¯ä»¥åˆ†ä¸ºè¯»é”ï¼ˆå…±äº«é”ï¼‰å’Œå†™é”ï¼ˆæ’ä»–é”ï¼‰ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">LOCK TABLES your_table </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">READ</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- æ‰§è¡Œè¯»æ“ä½œ</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">UNLOCK</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> TABLES;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¯»é”å…è®¸å¤šä¸ªäº‹åŠ¡åŒæ—¶è¯»å–è¢«é”å®šçš„è¡¨ï¼Œä½†ä¸å…è®¸ä»»ä½•äº‹åŠ¡è¿›è¡Œå†™æ“ä½œã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">LOCK TABLES your_table WRITE;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- æ‰§è¡Œå†™æ“ä½œ</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">UNLOCK</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> TABLES;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å†™é”å…è®¸ä¸€ä¸ªäº‹åŠ¡å¯¹è¡¨è¿›è¡Œè¯»å†™æ“ä½œï¼Œå…¶ä»–äº‹åŠ¡ä¸èƒ½å¯¹è¯¥è¡¨è¿›è¡Œä»»ä½•æ“ä½œï¼ˆè¯»æˆ–å†™ï¼‰ã€‚</p><p>åœ¨è¿›è¡Œå¤§è§„æ¨¡çš„æ•°æ®å¯¼å…¥ã€å¯¼å‡ºæˆ–åˆ é™¤æ“ä½œæ—¶ï¼Œä¸ºäº†é˜²æ­¢å…¶ä»–äº‹åŠ¡å¯¹æ•°æ®è¿›è¡Œå¹¶å‘æ“ä½œï¼Œå¯ä»¥ä½¿ç”¨è¡¨é”ã€‚</p><p>æˆ–è€…åœ¨è¿›è¡Œè¡¨ç»“æ„å˜æ›´ï¼ˆå¦‚æ·»åŠ åˆ—ã€ä¿®æ”¹åˆ—ç±»å‹ï¼‰æ—¶ï¼Œä¸ºäº†ç¡®ä¿å˜æ›´æœŸé—´æ²¡æœ‰å…¶ä»–äº‹åŠ¡è®¿é—®æˆ–ä¿®æ”¹è¯¥è¡¨ï¼Œå¯ä»¥ä½¿ç”¨è¡¨é”ã€‚</p><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„ç¾å›¢é¢ç»åŒå­¦ 3 Java åç«¯æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šæ•°æ®åº“ä¸­çš„å…¨å±€é” è¡¨é” è¡Œçº§é” æ¯ç§é”çš„åº”ç”¨åœºæ™¯æœ‰å“ªäº›</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„åŒå­¦ 30 è…¾è®¯éŸ³ä¹é¢è¯•åŸé¢˜ï¼šmysqlçš„è¡¨çº§é”æœ‰å‡ ç§</li></ol></blockquote><h3 id="_55-è¯´è¯´-mysql-çš„è¡Œé”" tabindex="-1"><a class="header-anchor" href="#_55-è¯´è¯´-mysql-çš„è¡Œé”"><span>55.è¯´è¯´ MySQL çš„è¡Œé”ï¼Ÿ</span></a></h3><p>è¡Œçº§é”ï¼ˆRow Lockï¼‰æ˜¯æ•°æ®åº“é”æœºåˆ¶ä¸­æœ€ç»†ç²’åº¦çš„é”ï¼Œä¸»è¦ç”¨äºå¯¹å•è¡Œæ•°æ®è¿›è¡ŒåŠ é”ï¼Œä»¥ç¡®ä¿æ•°æ®çš„ä¸€è‡´æ€§å’Œå®Œæ•´æ€§ã€‚</p><p>åœ¨ MySQL ä¸­ï¼ŒInnoDB å­˜å‚¨å¼•æ“æ”¯æŒè¡Œçº§é”ã€‚é€šè¿‡ <code>SELECT ... FOR UPDATE</code> å¯ä»¥åŠ æ’ä»–é”ï¼Œé€šè¿‡ <code>LOCK IN SHARE MODE</code> å¯ä»¥åŠ å…±äº«é”ã€‚</p><p>æ¯”å¦‚è¯´ï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">START TRANSACTION</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- åŠ æ’ä»–é”ï¼Œé”å®šæŸä¸€è¡Œ</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> your_table </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> id </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> FOR</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> UPDATE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- å¯¹è¯¥è¡Œè¿›è¡Œæ“ä½œ</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">UPDATE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> your_table </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SET</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> column1 </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;new_value&#39;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> id </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">COMMIT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">START TRANSACTION</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- åŠ å…±äº«é”ï¼Œé”å®šæŸä¸€è¡Œ</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> your_table </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> id </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> LOCK </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">IN</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> SHARE MODE;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- åªèƒ½è¯»å–è¯¥è¡Œï¼Œä¸èƒ½ä¿®æ”¹</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">COMMIT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨é«˜å¹¶å‘ç¯å¢ƒä¸­ï¼Œè¡Œçº§é”èƒ½å¤Ÿæé«˜ç³»ç»Ÿçš„å¹¶å‘æ€§èƒ½ï¼Œå› ä¸ºé”å®šçš„ç²’åº¦è¾ƒå°ï¼Œåªä¼šé”ä½ç‰¹å®šçš„è¡Œï¼Œä¸ä¼šå½±å“å…¶ä»–è¡Œçš„æ“ä½œã€‚</p><h4 id="select-for-update-åŠ é”æœ‰ä»€ä¹ˆéœ€è¦æ³¨æ„çš„" tabindex="-1"><a class="header-anchor" href="#select-for-update-åŠ é”æœ‰ä»€ä¹ˆéœ€è¦æ³¨æ„çš„"><span>select for update åŠ é”æœ‰ä»€ä¹ˆéœ€è¦æ³¨æ„çš„ï¼Ÿ</span></a></h4><p>å¦‚æœæŸ¥è¯¢æ¡ä»¶ä½¿ç”¨äº†ç´¢å¼•ï¼ˆç‰¹åˆ«æ˜¯ä¸»é”®ç´¢å¼•æˆ–å”¯ä¸€ç´¢å¼•ï¼‰ï¼ŒSELECT FOR UPDATE ä¼šé”å®šç‰¹å®šçš„è¡Œï¼Œå³è¡Œçº§é”ï¼Œè¿™æ ·é”çš„ç²’åº¦è¾ƒå°ï¼Œä¸ä¼šå½±å“æœªæ¶‰åŠçš„è¡Œæˆ–å…¶ä»–å¹¶å‘æ“ä½œã€‚</p><p>ä½†å¦‚æœæŸ¥è¯¢æ¡ä»¶æœªä½¿ç”¨ç´¢å¼•ï¼ŒSELECT FOR UPDATE å¯èƒ½é”å®šæ•´ä¸ªè¡¨æˆ–å¤§é‡çš„è¡Œï¼Œå› ä¸ºæŸ¥è¯¢éœ€è¦æ‰§è¡Œå…¨è¡¨æ‰«æã€‚</p><p>å‡è®¾æœ‰ä¸€å¼ åä¸º orders çš„è¡¨ï¼ŒåŒ…å«ä»¥ä¸‹æ•°æ®ï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> TABLE</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> orders</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    id </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">INT</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> PRIMARY KEY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    order_no </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">VARCHAR</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">255</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    amount </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">DECIMAL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    status</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> VARCHAR</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">50</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    INDEX</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (order_no)  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- order_no ä¸Šæœ‰ç´¢å¼•</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¡¨ä¸­çš„æ•°æ®æ˜¯è¿™æ ·çš„ï¼š</p><table><thead><tr><th>id</th><th>order_no</th><th>amount</th><th>status</th></tr></thead><tbody><tr><td>1</td><td>10001</td><td>50.00</td><td>pending</td></tr><tr><td>2</td><td>10002</td><td>75.00</td><td>pending</td></tr><tr><td>3</td><td>10003</td><td>100.00</td><td>pending</td></tr><tr><td>4</td><td>10004</td><td>150.00</td><td>completed</td></tr><tr><td>5</td><td>10005</td><td>200.00</td><td>pending</td></tr></tbody></table><p>å¦‚æœæˆ‘ä»¬é€šè¿‡ä¸»é”®ç´¢å¼•æ‰§è¡Œ SELECT FOR UPDATEï¼Œåªä¼šé”å®šç‰¹å®šçš„è¡Œï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">START TRANSACTION</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> orders </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> id </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> FOR</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> UPDATE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- å¯¹ id=1 çš„è¡Œè¿›è¡Œæ“ä½œ</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">COMMIT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç”±äº id æ˜¯ä¸»é”®ï¼Œæ‰€ä»¥åªä¼šé”å®š <code>id=1</code> è¿™è¡Œï¼Œä¸ä¼šå½±å“å…¶ä»–è¡Œçš„æ“ä½œã€‚å…¶ä»–äº‹åŠ¡ä¾ç„¶å¯ä»¥å¯¹ id = 2, 3, 4, 5 ç­‰è¡Œæ‰§è¡Œæ›´æ–°æ“ä½œï¼Œå› ä¸ºå®ƒä»¬æ²¡æœ‰è¢«é”å®šã€‚</p><p>å¦‚æœä½¿ç”¨ order_no ç´¢å¼•æ‰§è¡Œ SELECT FOR UPDATEï¼Œä¹Ÿåªä¼šé”å®šç‰¹å®šçš„è¡Œï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">START TRANSACTION</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> orders </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> order_no </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;10001&#39;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> FOR</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> UPDATE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- å¯¹ order_no=10001 çš„è¡Œè¿›è¡Œæ“ä½œ</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">COMMIT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å› ä¸º order_no ä¸Šæœ‰ç´¢å¼•ï¼Œæ‰€ä»¥åªä¼šé”å®š <code>order_no=10001</code> è¿™è¡Œï¼Œä¸ä¼šå½±å“å…¶ä»–è¡Œçš„æ“ä½œã€‚</p><p>ä½†å¦‚æœæŸ¥è¯¢ <code>status=&#39;pending&#39;</code>ï¼Œè€Œ status ä¸Šæ²¡æœ‰ç´¢å¼•ï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">START TRANSACTION</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> orders </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">WHERE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> status</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;pending&#39;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> FOR</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> UPDATE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- å¯¹ status=pending çš„è¡Œè¿›è¡Œæ“ä½œ</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">COMMIT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æŸ¥è¯¢éœ€è¦æ‰§è¡Œå…¨è¡¨æ‰«æã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒSELECT FOR UPDATE å¯èƒ½ä¼šé”å®šè¡¨ä¸­æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„è®°å½•ï¼Œç”šè‡³æ˜¯æ•´ä¸ªè¡¨ï¼Œå› ä¸º MySQL éœ€è¦æ£€æŸ¥æ¯ä¸€è¡Œçš„ statusã€‚</p><p>è¿™ä¼šå½±å“è¡¨ä¸­çš„å¤§éƒ¨åˆ†è®°å½•ï¼Œå…¶ä»–äº‹åŠ¡å°†æ— æ³•ä¿®æ”¹è¿™äº›è®°å½•ï¼Œç›´åˆ°å½“å‰äº‹åŠ¡ç»“æŸã€‚</p><h4 id="è¯´è¯´-innodb-çš„è¡Œé”å®ç°" tabindex="-1"><a class="header-anchor" href="#è¯´è¯´-innodb-çš„è¡Œé”å®ç°"><span>è¯´è¯´ InnoDB çš„è¡Œé”å®ç°ï¼Ÿ</span></a></h4><p>æˆ‘ä»¬æ‹¿è¿™ä¹ˆä¸€ä¸ªç”¨æˆ·è¡¨æ¥è¡¨ç¤ºè¡Œçº§é”ï¼Œå…¶ä¸­æ’å…¥äº† 4 è¡Œæ•°æ®ï¼Œä¸»é”®å€¼åˆ†åˆ«æ˜¯ 1,6,8,12ï¼Œç°åœ¨ç®€åŒ–å®ƒçš„èšç°‡ç´¢å¼•ç»“æ„ï¼Œåªä¿ç•™æ•°æ®è®°å½•ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-013afdbe-889b-4ed0-ae68-c8c9882570d9.jpg" alt="ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šç®€åŒ–çš„ä¸»é”®ç´¢å¼•" tabindex="0" loading="lazy"><figcaption>ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šç®€åŒ–çš„ä¸»é”®ç´¢å¼•</figcaption></figure><p>InnoDB çš„è¡Œé”çš„ä¸»è¦å®ç°å¦‚ä¸‹ï¼š</p><p>â‘ ã€<strong>Record Lock è®°å½•é”</strong></p><p>è®°å½•é”å°±æ˜¯ç›´æ¥é”å®šæŸè¡Œè®°å½•ã€‚å½“æˆ‘ä»¬ä½¿ç”¨å”¯ä¸€æ€§çš„ç´¢å¼•(åŒ…æ‹¬å”¯ä¸€ç´¢å¼•å’Œèšç°‡ç´¢å¼•)è¿›è¡Œç­‰å€¼æŸ¥è¯¢ä¸”ç²¾å‡†åŒ¹é…åˆ°ä¸€æ¡è®°å½•æ—¶ï¼Œæ­¤æ—¶å°±ä¼šç›´æ¥å°†è¿™æ¡è®°å½•é”å®šã€‚ä¾‹å¦‚<code>select * from t where id =6 for update;</code>å°±ä¼šå°†<code>id=6</code>çš„è®°å½•é”å®šã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-8989ac27-e442-4c14-81ad-6bc133d78bfd.jpg" alt="ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šè®°å½•é”" tabindex="0" loading="lazy"><figcaption>ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šè®°å½•é”</figcaption></figure><p>â‘¢ã€<strong>Next-key Lock ä¸´é”®é”</strong></p><p>ä¸´é”®æŒ‡çš„æ˜¯é—´éš™åŠ ä¸Šå®ƒå³è¾¹çš„è®°å½•ç»„æˆçš„<strong>å·¦å¼€å³é—­åŒºé—´</strong>ã€‚æ¯”å¦‚ä¸Šè¿°çš„<code>(1,6]ã€(6,8]</code>ç­‰ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-ae8a21cc-8b52-467d-9173-4e01b24e04b9.jpg" alt="ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šä¸´é”®é”" tabindex="0" loading="lazy"><figcaption>ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šä¸´é”®é”</figcaption></figure><p>ä¸´é”®é”å°±æ˜¯è®°å½•é”(Record Locks)å’Œé—´éš™é”(Gap Locks)çš„ç»“åˆï¼Œå³é™¤äº†é”ä½è®°å½•æœ¬èº«ï¼Œè¿˜è¦å†é”ä½ç´¢å¼•ä¹‹é—´çš„é—´éš™ã€‚å½“æˆ‘ä»¬ä½¿ç”¨èŒƒå›´æŸ¥è¯¢ï¼Œå¹¶ä¸”å‘½ä¸­äº†éƒ¨åˆ†<code>record</code>è®°å½•ï¼Œæ­¤æ—¶é”ä½çš„å°±æ˜¯ä¸´é”®åŒºé—´ã€‚</p><p>æ³¨æ„ï¼Œä¸´é”®é”é”ä½çš„åŒºé—´ä¼šåŒ…å«æœ€åä¸€ä¸ª record çš„å³è¾¹çš„ä¸´é”®åŒºé—´ã€‚</p><p>ä¾‹å¦‚ <code>select * from t where id &gt; 5 and id &lt;= 7 for update;</code> ä¼šé”ä½<code>(4,7]ã€(7,+âˆ)</code>ã€‚</p><p>MySQL é»˜è®¤è¡Œé”ç±»å‹å°±æ˜¯<code>ä¸´é”®é”(Next-Key Locks)</code>ã€‚å½“ä½¿ç”¨å”¯ä¸€æ€§ç´¢å¼•ï¼Œç­‰å€¼æŸ¥è¯¢åŒ¹é…åˆ°ä¸€æ¡è®°å½•çš„æ—¶å€™ï¼Œä¸´é”®é”(Next-Key Locks)ä¼šé€€åŒ–æˆè®°å½•é”ï¼›æ²¡æœ‰åŒ¹é…åˆ°ä»»ä½•è®°å½•çš„æ—¶å€™ï¼Œé€€åŒ–æˆé—´éš™é”ã€‚</p><p><code>é—´éš™é”(Gap Locks)</code>å’Œ<code>ä¸´é”®é”(Next-Key Locks)</code>éƒ½æ˜¯ç”¨æ¥è§£å†³å¹»è¯»é—®é¢˜çš„ï¼Œåœ¨<code>å·²æäº¤è¯»ï¼ˆREAD COMMITTEDï¼‰</code>éš”ç¦»çº§åˆ«ä¸‹ï¼Œ<code>é—´éš™é”(Gap Locks)</code>å’Œ<code>ä¸´é”®é”(Next-Key Locks)</code>éƒ½ä¼šå¤±æ•ˆï¼</p><p>ä¸Šé¢æ˜¯è¡Œé”çš„ä¸‰ç§å®ç°ç®—æ³•ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œåœ¨è¡Œä¸Šè¿˜å­˜åœ¨æ’å…¥æ„å‘é”ã€‚</p><p>â‘£ã€<strong>Insert Intention Lock æ’å…¥æ„å‘é”</strong></p><p>ä¸€ä¸ªäº‹åŠ¡åœ¨æ’å…¥ä¸€æ¡è®°å½•æ—¶éœ€è¦åˆ¤æ–­ä¸€ä¸‹æ’å…¥ä½ç½®æ˜¯ä¸æ˜¯è¢«åˆ«çš„äº‹åŠ¡åŠ äº†æ„å‘é” ï¼Œå¦‚æœæœ‰çš„è¯ï¼Œæ’å…¥æ“ä½œéœ€è¦ç­‰å¾…ï¼Œç›´åˆ°æ‹¥æœ‰ gap é” çš„é‚£ä¸ªäº‹åŠ¡æäº¤ã€‚ä½†æ˜¯äº‹åŠ¡åœ¨ç­‰å¾…çš„æ—¶å€™ä¹Ÿéœ€è¦åœ¨å†…å­˜ä¸­ç”Ÿæˆä¸€ä¸ª é”ç»“æ„ ï¼Œè¡¨æ˜æœ‰äº‹åŠ¡æƒ³åœ¨æŸä¸ª é—´éš™ ä¸­æ’å…¥æ–°è®°å½•ï¼Œä½†æ˜¯ç°åœ¨åœ¨ç­‰å¾…ã€‚è¿™ç§ç±»å‹çš„é”å‘½åä¸º Insert Intention Locks ï¼Œä¹Ÿå°±æ˜¯æ’å…¥æ„å‘é” ã€‚</p><p>å‡å¦‚æˆ‘ä»¬æœ‰ä¸ª T1 äº‹åŠ¡ï¼Œç»™(1,6)åŒºé—´åŠ ä¸Šäº†æ„å‘é”ï¼Œç°åœ¨æœ‰ä¸ª T2 äº‹åŠ¡ï¼Œè¦æ’å…¥ä¸€ä¸ªæ•°æ®ï¼Œid ä¸º 4ï¼Œå®ƒä¼šè·å–ä¸€ä¸ªï¼ˆ1,6ï¼‰åŒºé—´çš„æ’å…¥æ„å‘é”ï¼Œåˆæœ‰æœ‰ä¸ª T3 äº‹åŠ¡ï¼Œæƒ³è¦æ’å…¥ä¸€ä¸ªæ•°æ®ï¼Œid ä¸º 3ï¼Œå®ƒä¹Ÿä¼šè·å–ä¸€ä¸ªï¼ˆ1,6ï¼‰åŒºé—´çš„æ’å…¥æ„å‘é”ï¼Œä½†æ˜¯ï¼Œè¿™ä¸¤ä¸ªæ’å…¥æ„å‘é”é”ä¸ä¼šäº’æ–¥ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-751425cb-daba-4da1-bab6-f843254cad3d.jpg" alt="ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šæ’å…¥æ„å‘é”" tabindex="0" loading="lazy"><figcaption>ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šæ’å…¥æ„å‘é”</figcaption></figure><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„ç¾å›¢é¢ç»åŒå­¦ 3 Java åç«¯æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šæ•°æ®åº“ä¸­çš„å…¨å±€é” è¡¨é” è¡Œçº§é” æ¯ç§é”çš„åº”ç”¨åœºæ™¯æœ‰å“ªäº›</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„æ‹›é“¶ç½‘ç»œç§‘æŠ€é¢ç»åŒå­¦ 9 Java åç«¯æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šselect for update åŠ é”æœ‰ä»€ä¹ˆéœ€è¦æ³¨æ„çš„</li></ol></blockquote><h3 id="_85-é—´éš™é”äº†è§£å—-è¡¥å……" tabindex="-1"><a class="header-anchor" href="#_85-é—´éš™é”äº†è§£å—-è¡¥å……"><span>85. é—´éš™é”äº†è§£å—ï¼Ÿï¼ˆè¡¥å……ï¼‰</span></a></h3><blockquote><p>2024 å¹´ 12 æœˆ 15 æ—¥å¢è¡¥ã€‚</p></blockquote><p>é—´éš™é”ç”¨äºåœ¨èŒƒå›´æŸ¥è¯¢æ—¶é”å®šè®°å½•ä¹‹é—´çš„â€œé—´éš™â€ï¼Œé˜²æ­¢å…¶ä»–äº‹åŠ¡åœ¨è¯¥èŒƒå›´å†…æ’å…¥æ–°è®°å½•ã€‚</p><p>å‡è®¾è¡¨ test_gaplock æœ‰ idã€ageã€name ä¸‰ä¸ªå­—æ®µï¼Œå…¶ä¸­ id æ˜¯ä¸»é”®ï¼Œage ä¸Šæœ‰ç´¢å¼•ï¼Œå¹¶æ’å…¥äº† 4 æ¡æ•°æ®ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> TABLE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> `</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">test_gaplock</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">` (</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  `id`</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">11</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">NOT NULL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  `age`</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">11</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">DEFAULT</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> NULL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  `name`</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> varchar</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">20</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">DEFAULT</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> NULL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  PRIMARY KEY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">`id`</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  KEY</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> `age`</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">`age`</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) ENGINE</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">InnoDB;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">insert into</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> test_gaplock </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">values</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;å¼ ä¸‰&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">6</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">6</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;å´è€äºŒ&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">8</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">8</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;èµµå››&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">12</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">12</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;ç†Šå¤§&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é—´éš™é”ä¼šé”ä½ä»¥ä¸‹èŒƒå›´ï¼š</p><ul><li>(âˆ’âˆ, 1)ï¼šåœ¨æœ€å°è®°å½•ä¹‹å‰çš„é—´éš™ã€‚</li><li>(1, 6)ã€(6, 8)ã€(8, 12)ï¼šè®°å½•ä¹‹é—´çš„é—´éš™ã€‚</li><li>(12, +âˆ)ï¼šåœ¨æœ€å¤§è®°å½•ä¹‹åçš„é—´éš™ã€‚</li></ul><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-d60f3a42-4b0f-4612-b7ad-65191fecb852.jpg" alt="ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šé—´éš™é”" tabindex="0" loading="lazy"><figcaption>ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šé—´éš™é”</figcaption></figure><p>å‡è®¾æœ‰ä¸¤ä¸ªäº‹åŠ¡ï¼ŒT1 æ‰§è¡Œä»¥ä¸‹è¯­å¥ï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">START TRANSACTION</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> test_gaplock </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> age </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 5</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> FOR</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> UPDATE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>T2 æ‰§è¡Œä»¥ä¸‹è¯­å¥ï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">START TRANSACTION</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">INSERT INTO</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> test_gaplock </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">VALUES</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">7</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">7</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;ç‹äº”&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>T1 ä¼šé”ä½ (6, 8) çš„é—´éš™ï¼Œé˜²æ­¢å…¶ä»–äº‹åŠ¡åœ¨è¿™ä¸ªèŒƒå›´å†…æ’å…¥æ–°è®°å½•ã€‚</p><p>T2 åœ¨æ’å…¥ (7, 7, &#39;ç‹äº”&#39;) æ—¶ï¼Œä¼šè¢«é˜»å¡ï¼Œå¯ä»¥åœ¨å¦å¤–ä¸€ä¸ªå›è¯ä¸­æ‰§è¡Œ <code>SHOW ENGINE INNODB STATUS</code> æŸ¥çœ‹é—´éš™é”çš„ä¿¡æ¯ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20241215095640.png" alt="äºŒå“¥çš„Java è¿›é˜¶ä¹‹è·¯ï¼šé—´éš™é”" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„Java è¿›é˜¶ä¹‹è·¯ï¼šé—´éš™é”</figcaption></figure><p>æ¨èé˜…è¯»ï¼š<a href="https://www.51cto.com/article/779551.html" target="_blank" rel="noopener noreferrer">å…­ä¸ªæ¡ˆä¾‹ææ‡‚é—´éš™é”</a>ã€<a href="https://blog.csdn.net/javaanddonet/article/details/111187345" target="_blank" rel="noopener noreferrer">MySQLä¸­é—´éš™é”çš„åŠ é”æœºåˆ¶</a></p><h4 id="æ‰§è¡Œä»€ä¹ˆå‘½ä»¤ä¼šåŠ ä¸Šé—´éš™é”" tabindex="-1"><a class="header-anchor" href="#æ‰§è¡Œä»€ä¹ˆå‘½ä»¤ä¼šåŠ ä¸Šé—´éš™é”"><span>æ‰§è¡Œä»€ä¹ˆå‘½ä»¤ä¼šåŠ ä¸Šé—´éš™é”ï¼Ÿ</span></a></h4><p>å½“èŒƒå›´æŸ¥è¯¢ä¸é”å®šæ“ä½œï¼ˆå¦‚ FOR UPDATEï¼‰ç»“åˆæ—¶ï¼ŒInnoDB ä¼šå¯¹æŸ¥è¯¢èŒƒå›´å†…çš„è®°å½•é—´éš™åŠ ä¸Šé—´éš™é”ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> table</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> column </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 10</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> and</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> column </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 20</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> FOR</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> UPDATE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„é˜¿é‡Œäº‘é¢ç»åŒå­¦ 22 é¢ç»ï¼šmysqlçš„ä»€ä¹ˆå‘½ä»¤ä¼šåŠ ä¸Šé—´éš™é”</li></ol></blockquote><h3 id="_56-æ„å‘é”æ˜¯ä»€ä¹ˆçŸ¥é“å—" tabindex="-1"><a class="header-anchor" href="#_56-æ„å‘é”æ˜¯ä»€ä¹ˆçŸ¥é“å—"><span>56.æ„å‘é”æ˜¯ä»€ä¹ˆçŸ¥é“å—ï¼Ÿ</span></a></h3><p>æ„å‘é”æ˜¯ä¸€ä¸ªè¡¨çº§é”ï¼Œä¸è¦å’Œæ’å…¥æ„å‘é”ææ··ã€‚</p><p>æ„å‘é”çš„å‡ºç°æ˜¯ä¸ºäº†æ”¯æŒ InnoDB çš„å¤šç²’åº¦é”ï¼Œå®ƒè§£å†³çš„æ˜¯è¡¨é”å’Œè¡Œé”å…±å­˜çš„é—®é¢˜ã€‚</p><p>å½“æˆ‘ä»¬éœ€è¦ç»™ä¸€ä¸ªè¡¨åŠ è¡¨é”çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®å»åˆ¤æ–­è¡¨ä¸­æœ‰æ²¡æœ‰æ•°æ®è¡Œè¢«é”å®šï¼Œä»¥ç¡®å®šæ˜¯å¦èƒ½åŠ æˆåŠŸã€‚</p><p>å‡å¦‚æ²¡æœ‰æ„å‘é”ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¾—éå†è¡¨ä¸­æ‰€æœ‰æ•°æ®è¡Œæ¥åˆ¤æ–­æœ‰æ²¡æœ‰è¡Œé”ï¼›</p><p>æœ‰äº†æ„å‘é”è¿™ä¸ªè¡¨çº§é”ä¹‹åï¼Œåˆ™æˆ‘ä»¬ç›´æ¥åˆ¤æ–­ä¸€æ¬¡å°±çŸ¥é“è¡¨ä¸­æ˜¯å¦æœ‰æ•°æ®è¡Œè¢«é”å®šäº†ã€‚</p><p>æœ‰äº†æ„å‘é”ä¹‹åï¼Œè¦æ‰§è¡Œçš„äº‹åŠ¡ A åœ¨ç”³è¯·è¡Œé”ï¼ˆå†™é”ï¼‰ä¹‹å‰ï¼Œæ•°æ®åº“ä¼šè‡ªåŠ¨å…ˆç»™äº‹åŠ¡ A ç”³è¯·è¡¨çš„æ„å‘æ’ä»–é”ã€‚å½“äº‹åŠ¡ B å»ç”³è¯·è¡¨çš„äº’æ–¥é”æ—¶å°±ä¼šå¤±è´¥ï¼Œå› ä¸ºè¡¨ä¸Šæœ‰æ„å‘æ’ä»–é”ä¹‹åäº‹åŠ¡ B ç”³è¯·è¡¨çš„äº’æ–¥é”æ—¶ä¼šè¢«é˜»å¡ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-31f7f49c-1e5a-4d42-b8b3-e022b3ba82ae.jpg" alt="æ„å‘é”" tabindex="0" loading="lazy"><figcaption>æ„å‘é”</figcaption></figure><h3 id="_57-mysql-çš„ä¹è§‚é”å’Œæ‚²è§‚é”äº†è§£å—" tabindex="-1"><a class="header-anchor" href="#_57-mysql-çš„ä¹è§‚é”å’Œæ‚²è§‚é”äº†è§£å—"><span>57.MySQL çš„ä¹è§‚é”å’Œæ‚²è§‚é”äº†è§£å—ï¼Ÿ</span></a></h3><p>æ‚²è§‚é”è®¤ä¸ºå®ƒä¿æŠ¤çš„æ•°æ®æ˜¯éå¸¸æ•æ„Ÿçš„ï¼Œæ¯æ—¶æ¯åˆ»éƒ½æœ‰å¯èƒ½è¢«æ”¹åŠ¨ï¼Œä¸€ä¸ªäº‹åŠ¡åœ¨æ‹¿åˆ°æ‚²è§‚é”åï¼Œå…¶ä»–äº‹åŠ¡ä¸èƒ½å¯¹è¯¥æ•°æ®è¿›è¡Œä¿®æ”¹ï¼Œç›´åˆ°å®ƒæäº¤æˆ–å›æ»šåã€‚</p><p>MySQL ä¸­çš„è¡Œé”ã€è¡¨é”éƒ½æ˜¯æ‚²è§‚é”ã€‚</p><p>ä¹è§‚é”åˆ™è®¤ä¸ºæ•°æ®çš„å˜åŠ¨ä¸ä¼šå¤ªé¢‘ç¹ã€‚é€šå¸¸é€šè¿‡ç‰ˆæœ¬å·(version)æˆ–è€…æ—¶é—´æˆ³(timestamp)æ¥å®ç°ã€‚</p><p>äº‹åŠ¡æ‹¿åˆ°æ•°æ®åï¼Œä¼šå°†æ•°æ®çš„ç‰ˆæœ¬å·ä¹Ÿå–å‡ºæ¥(æ¯”å¦‚è¯´æ ‡è®°ä¸º v1)ï¼Œå½“æ•°æ®å˜åŠ¨å®Œæƒ³è¦æ›´æ–°åˆ°è¡¨ä¸­æ—¶ï¼Œä¼šå°†æœ€æ–°çš„ç‰ˆæœ¬ v2 å’Œ v1 è¿›è¡Œå¯¹æ¯”ï¼Œå¦‚æœ v1=v2ï¼Œè¯´æ˜åœ¨æ•°æ®å˜åŠ¨æœŸé—´ï¼Œæ²¡æœ‰å…¶ä»–äº‹åŠ¡å¯¹æ•°æ®è¿›è¡Œä¿®æ”¹ã€‚</p><p>æ­¤æ—¶ï¼Œäº‹åŠ¡æäº¤å°±ä¼šæˆåŠŸï¼Œå¹¶ä¸” version ä¼šåŠ  1ï¼Œä»¥æ­¤æ¥è¡¨æ˜æ•°æ®å·²å˜åŠ¨ã€‚</p><p>å¦‚æœ v1 ä¸ç­‰äº v2ï¼Œè¯´æ˜æ•°æ®å˜åŠ¨æœŸé—´ï¼Œæ•°æ®è¢«å…¶ä»–äº‹åŠ¡ä¿®æ”¹äº†ï¼Œæ­¤æ—¶éœ€è¦é€šçŸ¥ç”¨æˆ·é‡æ–°æ“ä½œã€‚</p><p>æ‚²è§‚é”æ˜¯ MySQL è‡ªå¸¦çš„ï¼Œè€Œä¹è§‚é”é€šå¸¸éœ€è¦å¼€å‘è€…è‡ªå·±å»å®ç°ã€‚</p><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„äº¬ä¸œé¢ç»åŒå­¦ 5 Java åç«¯æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šä¹è§‚é”ä¸æ‚²è§‚é”</li></ol></blockquote><h3 id="_58-é‡åˆ°è¿‡æ­»é”é—®é¢˜å—-ä½ æ˜¯å¦‚ä½•è§£å†³çš„" tabindex="-1"><a class="header-anchor" href="#_58-é‡åˆ°è¿‡æ­»é”é—®é¢˜å—-ä½ æ˜¯å¦‚ä½•è§£å†³çš„"><span>58.é‡åˆ°è¿‡æ­»é”é—®é¢˜å—ï¼Œä½ æ˜¯å¦‚ä½•è§£å†³çš„ï¼Ÿ</span></a></h3><p>æœ‰ï¼Œä¸€æ¬¡å…¸å‹çš„åœºæ™¯æ˜¯åœ¨<a href="https://javabetter.cn/zhishixingqiu/paicoding.html" target="_blank" rel="noopener noreferrer">æŠ€æœ¯æ´¾</a>é¡¹ç›®ä¸­ï¼Œä¸¤ä¸ªäº‹åŠ¡åˆ†åˆ«æ›´æ–°ä¸¤å¼ è¡¨ï¼Œä½†æ˜¯æ›´æ–°é¡ºåºä¸ä¸€è‡´ï¼Œå¯¼è‡´äº†æ­»é”ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- åˆ›å»ºè¡¨/æ’å…¥æ•°æ®</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> TABLE</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> account</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    id </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">INT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> AUTO_INCREMENT </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">PRIMARY KEY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    balance </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">INT</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> NOT NULL</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">INSERT INTO</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> account (balance) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">VALUES</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">100</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">200</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- äº‹åŠ¡ 1</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">START TRANSACTION</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- é”ä½ id=1 çš„è¡Œ</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">UPDATE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> account </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SET</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> balance </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> balance - </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> id </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- ç­‰å¾…é”ä½ id=2 çš„è¡Œï¼ˆäº‹åŠ¡ 2 å·²é”ä½ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">UPDATE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> account </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SET</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> balance </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> balance + </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> id </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- äº‹åŠ¡ 2</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">START TRANSACTION</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- é”ä½ id=2 çš„è¡Œ</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">UPDATE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> account </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SET</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> balance </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> balance - </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> id </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- ç­‰å¾…é”ä½ id=1 çš„è¡Œï¼ˆäº‹åŠ¡ 1 å·²é”ä½ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">UPDATE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> account </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SET</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> balance </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> balance + </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">10</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> id </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸¤ä¸ªäº‹åŠ¡è®¿é—®ç›¸åŒçš„èµ„æºï¼Œä½†æ˜¯è®¿é—®é¡ºåºä¸åŒï¼Œå¯¼è‡´äº†æ­»é”ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20241201101426.png" alt="æ­»é”" tabindex="0" loading="lazy"><figcaption>æ­»é”</figcaption></figure><p>è§£å†³æ–¹æ³•ï¼š</p><p>ç¬¬ä¸€æ­¥ï¼Œä½¿ç”¨ <code>SHOW ENGINE INNODB STATUS\G;</code> æŸ¥çœ‹æ­»é”ä¿¡æ¯ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20241201101704.png" alt="æŸ¥çœ‹æ­»é”" tabindex="0" loading="lazy"><figcaption>æŸ¥çœ‹æ­»é”</figcaption></figure><p>ç¬¬äºŒæ­¥ï¼Œè°ƒæ•´äº‹åŠ¡çš„èµ„æºè®¿é—®é¡ºåºï¼Œä¿æŒä¸€è‡´ã€‚</p><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„è™¾çš®é¢ç»åŒå­¦ 13 ä¸€é¢é¢è¯•åŸé¢˜ï¼šé‡åˆ°è¿‡mysqlæ­»é”æˆ–è€…æ•°æ®ä¸å®‰å…¨å—</li></ol></blockquote><p>GitHub ä¸Šæ ‡æ˜Ÿ 10000+ çš„å¼€æºçŸ¥è¯†åº“ã€Š<a href="https://github.com/itwanger/toBeBetterJavaer" target="_blank" rel="noopener noreferrer">äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯</a>ã€‹ç¬¬ä¸€ç‰ˆ PDF ç»ˆäºæ¥äº†ï¼åŒ…æ‹¬ Java åŸºç¡€è¯­æ³•ã€æ•°ç»„&amp;å­—ç¬¦ä¸²ã€OOPã€é›†åˆæ¡†æ¶ã€Java IOã€å¼‚å¸¸å¤„ç†ã€Java æ–°ç‰¹æ€§ã€ç½‘ç»œç¼–ç¨‹ã€NIOã€å¹¶å‘ç¼–ç¨‹ã€JVM ç­‰ç­‰ï¼Œå…±è®¡ 32 ä¸‡ä½™å­—ï¼Œ500+å¼ æ‰‹ç»˜å›¾ï¼Œå¯ä»¥è¯´æ˜¯é€šä¿—æ˜“æ‡‚ã€é£è¶£å¹½é»˜â€¦â€¦è¯¦æƒ…æˆ³ï¼š<a href="https://javabetter.cn/overview/" target="_blank" rel="noopener noreferrer">å¤ªèµäº†ï¼ŒGitHub ä¸Šæ ‡æ˜Ÿ 10000+ çš„ Java æ•™ç¨‹</a></p><p>å¾®ä¿¡æœ <strong>æ²‰é»˜ç‹äºŒ</strong> æˆ–æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨äºŒå“¥çš„åŸåˆ›å…¬ä¼—å·æ²‰é»˜ç‹äºŒï¼Œå›å¤ <strong>222</strong> å³å¯å…è´¹é¢†å–ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/gongzhonghao.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="äº‹åŠ¡" tabindex="-1"><a class="header-anchor" href="#äº‹åŠ¡"><span>äº‹åŠ¡</span></a></h2><h3 id="_59-mysql-äº‹åŠ¡çš„å››å¤§ç‰¹æ€§è¯´ä¸€ä¸‹" tabindex="-1"><a class="header-anchor" href="#_59-mysql-äº‹åŠ¡çš„å››å¤§ç‰¹æ€§è¯´ä¸€ä¸‹"><span>59.MySQL äº‹åŠ¡çš„å››å¤§ç‰¹æ€§è¯´ä¸€ä¸‹ï¼Ÿ</span></a></h3><p>äº‹åŠ¡æ˜¯ä¸€æ¡æˆ–å¤šæ¡ SQL è¯­å¥ç»„æˆçš„æ‰§è¡Œå•å…ƒï¼Œè¦ä¹ˆå…¨éƒ¨æ‰§è¡ŒæˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥ï¼Œä¸ä¼šå‡ºç°éƒ¨åˆ†æ‰§è¡Œçš„æƒ…å†µã€‚</p><p>äº‹åŠ¡å…·æœ‰å››ä¸ªåŸºæœ¬ç‰¹æ€§ï¼Œä¹Ÿå°±æ˜¯é€šå¸¸æ‰€è¯´çš„ ACID ç‰¹æ€§ï¼Œå³åŸå­æ€§ã€ä¸€è‡´æ€§ã€éš”ç¦»æ€§å’ŒæŒä¹…æ€§ã€‚ä¸»è¦ä½œç”¨æ˜¯ä¿è¯æ•°æ®åº“æ“ä½œçš„ä¸€è‡´æ€§ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-eaafb8b8-fbe6-42c0-9cc2-f2e04631b56c.jpg" alt="ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šäº‹åŠ¡å››å¤§ç‰¹æ€§" tabindex="0" loading="lazy"><figcaption>ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šäº‹åŠ¡å››å¤§ç‰¹æ€§</figcaption></figure><h4 id="ä»€ä¹ˆæ˜¯åŸå­æ€§" tabindex="-1"><a class="header-anchor" href="#ä»€ä¹ˆæ˜¯åŸå­æ€§"><span>ä»€ä¹ˆæ˜¯åŸå­æ€§ï¼Ÿ</span></a></h4><p>åŸå­æ€§å­æ€§æ„å‘³ç€äº‹åŠ¡ä¸­çš„æ‰€æœ‰æ“ä½œè¦ä¹ˆå…¨éƒ¨å®Œæˆï¼Œè¦ä¹ˆå…¨éƒ¨ä¸å®Œæˆï¼Œå®ƒæ˜¯ä¸å¯åˆ†å‰²çš„å•ä½ã€‚å¦‚æœäº‹åŠ¡ä¸­çš„ä»»ä½•ä¸€ä¸ªæ“ä½œå¤±è´¥äº†ï¼Œæ•´ä¸ªäº‹åŠ¡éƒ½ä¼šå›æ»šåˆ°äº‹åŠ¡å¼€å§‹ä¹‹å‰çš„çŠ¶æ€ï¼Œå¦‚åŒè¿™äº›æ“ä½œä»æœªè¢«æ‰§è¡Œè¿‡ä¸€æ ·ã€‚</p><h4 id="ä»€ä¹ˆæ˜¯ä¸€è‡´æ€§" tabindex="-1"><a class="header-anchor" href="#ä»€ä¹ˆæ˜¯ä¸€è‡´æ€§"><span>ä»€ä¹ˆæ˜¯ä¸€è‡´æ€§ï¼Ÿ</span></a></h4><p>ä¸€è‡´æ€§ç¡®ä¿äº‹åŠ¡ä»ä¸€ä¸ªä¸€è‡´çš„çŠ¶æ€è½¬æ¢åˆ°å¦ä¸€ä¸ªä¸€è‡´çš„çŠ¶æ€ã€‚</p><p>æ¯”å¦‚åœ¨é“¶è¡Œè½¬è´¦äº‹åŠ¡ä¸­ï¼Œæ— è®ºå‘ç”Ÿä»€ä¹ˆï¼Œè½¬è´¦å‰åä¸¤ä¸ªè´¦æˆ·çš„æ€»é‡‘é¢åº”ä¿æŒä¸å˜ã€‚å‡å¦‚ A è´¦æˆ·ï¼ˆ100 å—ï¼‰ç»™ B è´¦æˆ·ï¼ˆ10 å—ï¼‰è½¬äº† 10 å—é’±ï¼Œä¸ç®¡æˆåŠŸä¸å¦ï¼ŒA å’Œ B çš„æ€»é‡‘é¢éƒ½æ˜¯ 110 å—ã€‚</p><h4 id="ä»€ä¹ˆæ˜¯éš”ç¦»æ€§" tabindex="-1"><a class="header-anchor" href="#ä»€ä¹ˆæ˜¯éš”ç¦»æ€§"><span>ä»€ä¹ˆæ˜¯éš”ç¦»æ€§ï¼Ÿ</span></a></h4><p>éš”ç¦»æ€§æ„å‘³ç€å¹¶å‘æ‰§è¡Œçš„äº‹åŠ¡æ˜¯å½¼æ­¤éš”ç¦»çš„ï¼Œä¸€ä¸ªäº‹åŠ¡çš„æ‰§è¡Œä¸ä¼šè¢«å…¶ä»–äº‹åŠ¡å¹²æ‰°ã€‚å°±æ˜¯äº‹åŠ¡ä¹‹é—´æ˜¯äº•æ°´ä¸çŠ¯æ²³æ°´çš„ã€‚</p><p>éš”ç¦»æ€§ä¸»è¦æ˜¯ä¸ºäº†è§£å†³äº‹åŠ¡å¹¶å‘æ‰§è¡Œæ—¶å¯èƒ½å‡ºç°çš„é—®é¢˜ï¼Œå¦‚è„è¯»ã€ä¸å¯é‡å¤è¯»ã€å¹»è¯»ç­‰ã€‚</p><p>æ•°æ®åº“ç³»ç»Ÿé€šè¿‡äº‹åŠ¡éš”ç¦»çº§åˆ«ï¼ˆå¦‚è¯»æœªæäº¤ã€è¯»å·²æäº¤ã€å¯é‡å¤è¯»ã€ä¸²è¡ŒåŒ–ï¼‰æ¥å®ç°äº‹åŠ¡çš„éš”ç¦»æ€§ã€‚</p><h4 id="ä»€ä¹ˆæ˜¯æŒä¹…æ€§" tabindex="-1"><a class="header-anchor" href="#ä»€ä¹ˆæ˜¯æŒä¹…æ€§"><span>ä»€ä¹ˆæ˜¯æŒä¹…æ€§ï¼Ÿ</span></a></h4><p>æŒä¹…æ€§ç¡®ä¿äº‹åŠ¡ä¸€æ—¦æäº¤ï¼Œå®ƒå¯¹æ•°æ®åº“æ‰€åšçš„æ›´æ”¹å°±æ˜¯æ°¸ä¹…æ€§çš„ï¼Œå³ä½¿å‘ç”Ÿç³»ç»Ÿå´©æºƒï¼Œæ•°æ®åº“ä¹Ÿèƒ½æ¢å¤åˆ°æœ€è¿‘ä¸€æ¬¡æäº¤çš„çŠ¶æ€ã€‚é€šå¸¸ï¼ŒæŒä¹…æ€§æ˜¯é€šè¿‡æ•°æ®åº“çš„æ¢å¤å’Œæ—¥å¿—æœºåˆ¶æ¥å®ç°çš„ï¼Œç¡®ä¿æäº¤çš„äº‹åŠ¡æ›´æ”¹ä¸ä¼šä¸¢å¤±ã€‚</p><p>ç®€çŸ­ä¸€ç‚¹çš„å›ç­”å¯ä»¥æ˜¯ï¼š</p><ul><li><strong>åŸå­æ€§</strong>ï¼šäº‹åŠ¡çš„æ‰€æœ‰æ“ä½œè¦ä¹ˆå…¨éƒ¨æäº¤æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥å›æ»šï¼Œå¯¹äºä¸€ä¸ªäº‹åŠ¡ä¸­çš„æ“ä½œä¸èƒ½åªæ‰§è¡Œå…¶ä¸­ä¸€éƒ¨åˆ†ã€‚</li><li><strong>ä¸€è‡´æ€§</strong>ï¼šäº‹åŠ¡åº”ç¡®ä¿æ•°æ®åº“çš„çŠ¶æ€ä»ä¸€ä¸ªä¸€è‡´çŠ¶æ€è½¬å˜ä¸ºå¦ä¸€ä¸ªä¸€è‡´çŠ¶æ€ã€‚ä¸€è‡´æ€§ä¸ä¸šåŠ¡è§„åˆ™æœ‰å…³ï¼Œæ¯”å¦‚é“¶è¡Œè½¬è´¦ï¼Œä¸è®ºäº‹åŠ¡æˆåŠŸè¿˜æ˜¯å¤±è´¥ï¼Œè½¬è´¦åŒæ–¹çš„æ€»é‡‘é¢åº”è¯¥æ˜¯ä¸å˜çš„ã€‚</li><li><strong>éš”ç¦»æ€§</strong>ï¼šå¤šä¸ªå¹¶å‘äº‹åŠ¡ä¹‹é—´éœ€è¦ç›¸äº’éš”ç¦»ï¼Œå³ä¸€ä¸ªäº‹åŠ¡çš„æ‰§è¡Œä¸èƒ½è¢«å…¶ä»–äº‹åŠ¡å¹²æ‰°ã€‚</li><li><strong>æŒä¹…æ€§</strong>ï¼šä¸€æ—¦äº‹åŠ¡æäº¤ï¼Œåˆ™å…¶æ‰€åšçš„ä¿®æ”¹å°†æ°¸ä¹…ä¿å­˜åˆ°æ•°æ®åº“ä¸­ã€‚å³ä½¿å‘ç”Ÿç³»ç»Ÿå´©æºƒï¼Œä¿®æ”¹çš„æ•°æ®ä¹Ÿä¸ä¼šä¸¢å¤±ã€‚</li></ul><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„äº¬ä¸œåŒå­¦ 10 åç«¯å®ä¹ ä¸€é¢çš„åŸé¢˜ï¼šäº‹åŠ¡çš„å››ä¸ªç‰¹æ€§ï¼Œæ€ä¹ˆç†è§£äº‹åŠ¡ä¸€è‡´æ€§</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„ç¾å›¢é¢ç»åŒå­¦ 16 æš‘æœŸå®ä¹ ä¸€é¢é¢è¯•åŸé¢˜ï¼šMySQL äº‹åŠ¡æ˜¯ä»€ä¹ˆï¼Œé»˜è®¤éš”ç¦»çº§åˆ«ï¼Œä»€ä¹ˆæ˜¯å¯é‡å¤è¯»ï¼Ÿ</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„è…¾è®¯é¢ç»åŒå­¦ 23 QQ åå°æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šMySQL äº‹åŠ¡ï¼Œéš”ç¦»çº§åˆ«</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å­—èŠ‚è·³åŠ¨é¢ç»åŒå­¦ 1 Java åç«¯æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šä»€ä¹ˆæ˜¯æ•°æ®åº“äº‹åŠ¡ï¼Ÿäº‹åŠ¡çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„ OPPO é¢ç»åŒå­¦ 1 é¢è¯•åŸé¢˜ï¼šå¯¹MySQLäº‹åŠ¡çš„ç†è§£</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„vivo é¢ç»åŒå­¦ 10 æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šäº‹åŠ¡çš„æ¦‚å¿µ</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„åŒå­¦ 1 è´å£³æ‰¾æˆ¿åç«¯æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šäº‹åŠ¡ACID</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å­—èŠ‚è·³åŠ¨åŒå­¦ 17 åç«¯æŠ€æœ¯é¢è¯•åŸé¢˜ï¼šä»€ä¹ˆæ˜¯äº‹åŠ¡ äº‹åŠ¡ä¸ºä»€ä¹ˆè¦æœ‰éš”ç¦»çº§åˆ« å¹»è¯»æ˜¯ä»€ä¹ˆ ä»€ä¹ˆæ—¶å€™è¦è§£å†³å¹»è¯» ä»€ä¹ˆæ—¶å€™ä¸ç”¨è§£å†³</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å­—èŠ‚è·³åŠ¨é¢ç»åŒå­¦19ç•ªèŒ„å°è¯´ä¸€é¢é¢è¯•åŸé¢˜ï¼šMySQLä¸­çš„äº‹åŠ¡</li></ol></blockquote><h3 id="_60-acid-é ä»€ä¹ˆä¿è¯çš„å‘¢" tabindex="-1"><a class="header-anchor" href="#_60-acid-é ä»€ä¹ˆä¿è¯çš„å‘¢"><span>60.ACID é ä»€ä¹ˆä¿è¯çš„å‘¢ï¼Ÿ</span></a></h3><p>MySQL é€šè¿‡äº‹åŠ¡ã€undo logã€redo log æ¥ç¡®ä¿ ACIDã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20230919103025.png" alt="äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šACID çš„ä¿è¯æœºåˆ¶" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šACID çš„ä¿è¯æœºåˆ¶</figcaption></figure><h4 id="å¦‚ä½•ä¿è¯åŸå­æ€§" tabindex="-1"><a class="header-anchor" href="#å¦‚ä½•ä¿è¯åŸå­æ€§"><span>å¦‚ä½•ä¿è¯åŸå­æ€§ï¼Ÿ</span></a></h4><p>MySQL é€šè¿‡ undo log æ¥ç¡®ä¿åŸå­æ€§ï¼ˆAtomicityï¼‰ã€‚</p><p>å½“äº‹åŠ¡å¼€å§‹æ—¶ï¼ŒMySQL ä¼šåœ¨<code>undo log</code>ä¸­è®°å½•äº‹åŠ¡å¼€å§‹å‰çš„æ—§å€¼ã€‚å¦‚æœäº‹åŠ¡æ‰§è¡Œå¤±è´¥ï¼ŒMySQL ä¼šä½¿ç”¨<code>undo log</code>ä¸­çš„æ—§å€¼æ¥å›æ»šäº‹åŠ¡å¼€å§‹å‰çš„çŠ¶æ€ï¼›å¦‚æœäº‹åŠ¡æ‰§è¡ŒæˆåŠŸï¼ŒMySQL ä¼šåœ¨æŸä¸ªæ—¶é—´èŠ‚ç‚¹å°†<code>undo log</code>åˆ é™¤ã€‚</p><h4 id="å¦‚ä½•ä¿è¯ä¸€è‡´æ€§" tabindex="-1"><a class="header-anchor" href="#å¦‚ä½•ä¿è¯ä¸€è‡´æ€§"><span>å¦‚ä½•ä¿è¯ä¸€è‡´æ€§ï¼Ÿ</span></a></h4><p>å¦‚æœå…¶ä»–ä¸‰ä¸ªç‰¹æ€§éƒ½å¾—åˆ°äº†ä¿è¯ï¼Œé‚£ä¹ˆä¸€è‡´æ€§å°±è‡ªç„¶è€Œç„¶å¾—åˆ°ä¿è¯äº†ã€‚</p><h4 id="å¦‚ä½•ä¿è¯éš”ç¦»æ€§" tabindex="-1"><a class="header-anchor" href="#å¦‚ä½•ä¿è¯éš”ç¦»æ€§"><span>å¦‚ä½•ä¿è¯éš”ç¦»æ€§ï¼Ÿ</span></a></h4><p>MySQL å®šä¹‰äº†å¤šç§éš”ç¦»çº§åˆ«ï¼Œé€šè¿‡ MVCC æ¥ç¡®ä¿æ¯ä¸ªäº‹åŠ¡éƒ½æœ‰ä¸“å±è‡ªå·±çš„æ•°æ®ç‰ˆæœ¬ï¼Œä»è€Œå®ç°éš”ç¦»æ€§ï¼ˆIsolationï¼‰ã€‚</p><p>åœ¨ MVCC ä¸­ï¼Œæ¯è¡Œè®°å½•éƒ½æœ‰ä¸€ä¸ªç‰ˆæœ¬å·ï¼Œå½“äº‹åŠ¡å°è¯•è¯»å–è®°å½•æ—¶ï¼Œä¼šæ ¹æ®äº‹åŠ¡çš„éš”ç¦»çº§åˆ«å’Œè®°å½•çš„ç‰ˆæœ¬å·æ¥å†³å®šæ˜¯å¦å¯ä»¥è¯»å–ã€‚</p><h4 id="å¦‚ä½•ä¿è¯æŒä¹…æ€§" tabindex="-1"><a class="header-anchor" href="#å¦‚ä½•ä¿è¯æŒä¹…æ€§"><span>å¦‚ä½•ä¿è¯æŒä¹…æ€§ï¼Ÿ</span></a></h4><p>redo log æ˜¯ä¸€ç§ç‰©ç†æ—¥å¿—ï¼Œå½“æ‰§è¡Œå†™æ“ä½œæ—¶ï¼ŒMySQL ä¼šå…ˆå°†æ›´æ”¹è®°å½•åˆ° redo log ä¸­ã€‚å½“ redo log å¡«æ»¡æ—¶ï¼ŒMySQL å†å°†è¿™äº›æ›´æ”¹å†™å…¥æ•°æ®æ–‡ä»¶ä¸­ã€‚</p><p>å¦‚æœ MySQL åœ¨å†™å…¥æ•°æ®æ–‡ä»¶æ—¶å‘ç”Ÿå´©æºƒï¼Œå¯ä»¥é€šè¿‡ redo log æ¥æ¢å¤æ•°æ®æ–‡ä»¶ï¼Œä»è€Œç¡®ä¿æŒä¹…æ€§ï¼ˆDurabilityï¼‰ã€‚</p><h4 id="äº‹åŠ¡ä¼šä¸ä¼šè‡ªåŠ¨æäº¤" tabindex="-1"><a class="header-anchor" href="#äº‹åŠ¡ä¼šä¸ä¼šè‡ªåŠ¨æäº¤"><span>äº‹åŠ¡ä¼šä¸ä¼šè‡ªåŠ¨æäº¤ï¼Ÿ</span></a></h4><p>åœ¨ MySQL ä¸­ï¼Œé»˜è®¤æƒ…å†µä¸‹äº‹åŠ¡æ˜¯ è‡ªåŠ¨æäº¤ çš„ã€‚æ¯æ‰§è¡Œä¸€æ¡ SQL è¯­å¥ï¼ˆå¦‚ INSERTã€UPDATEï¼‰ï¼Œéƒ½ä¼šè¢«å½“ä½œä¸€ä¸ªäº‹åŠ¡è‡ªåŠ¨æäº¤ã€‚</p><p>å¦‚æœéœ€è¦æ‰‹åŠ¨æ§åˆ¶äº‹åŠ¡ï¼Œå¯ä»¥ä½¿ç”¨ START TRANSACTION å¼€å¯äº‹åŠ¡ï¼Œå¹¶é€šè¿‡ COMMIT æˆ– ROLLBACK å®Œæˆäº‹åŠ¡ã€‚</p><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„ç¾å›¢åŒå­¦ 2 ä¼˜é€‰ç‰©æµè°ƒåº¦æŠ€æœ¯ 2 é¢é¢è¯•åŸé¢˜ï¼šMySQL ACID å“ªäº›æœºåˆ¶æ¥ä¿è¯</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„ç™¾åº¦åŒå­¦ 4 é¢è¯•åŸé¢˜ï¼šäº‹åŠ¡ä¼šä¸ä¼šè‡ªåŠ¨æäº¤?</li></ol></blockquote><h3 id="_61-äº‹åŠ¡çš„éš”ç¦»çº§åˆ«æœ‰å“ªäº›" tabindex="-1"><a class="header-anchor" href="#_61-äº‹åŠ¡çš„éš”ç¦»çº§åˆ«æœ‰å“ªäº›"><span>61.äº‹åŠ¡çš„éš”ç¦»çº§åˆ«æœ‰å“ªäº›ï¼Ÿ</span></a></h3><p>äº‹åŠ¡çš„éš”ç¦»çº§åˆ«å®šäº†ä¸€ä¸ªäº‹åŠ¡å¯èƒ½å—å…¶ä»–äº‹åŠ¡å½±å“çš„ç¨‹åº¦ï¼ŒMySQL æ”¯æŒå››ç§éš”ç¦»çº§åˆ«ï¼Œåˆ†åˆ«æ˜¯ï¼šè¯»æœªæäº¤ã€è¯»å·²æäº¤ã€å¯é‡å¤è¯»å’Œä¸²è¡ŒåŒ–ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-99942529-4a91-420b-9ce2-4149e747f64d.jpg" alt="ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šäº‹åŠ¡çš„å››ä¸ªéš”ç¦»çº§åˆ«" tabindex="0" loading="lazy"><figcaption>ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šäº‹åŠ¡çš„å››ä¸ªéš”ç¦»çº§åˆ«</figcaption></figure><h4 id="ä»€ä¹ˆæ˜¯è¯»æœªæäº¤" tabindex="-1"><a class="header-anchor" href="#ä»€ä¹ˆæ˜¯è¯»æœªæäº¤"><span>ä»€ä¹ˆæ˜¯è¯»æœªæäº¤ï¼Ÿ</span></a></h4><p>è¯»æœªæäº¤æ˜¯æœ€ä½çš„éš”ç¦»çº§åˆ«ï¼Œåœ¨è¿™ä¸ªçº§åˆ«ï¼Œå½“å‰äº‹åŠ¡å¯ä»¥è¯»å–æœªè¢«å…¶ä»–äº‹åŠ¡æäº¤çš„æ•°æ®ï¼Œä»¥è‡³äºä¼šå‡ºç°â€œè„è¯»â€ã€â€œä¸å¯é‡å¤è¯»â€å’Œâ€œå¹»è¯»â€çš„é—®é¢˜ã€‚</p><h4 id="ä»€ä¹ˆæ˜¯è¯»å·²æäº¤" tabindex="-1"><a class="header-anchor" href="#ä»€ä¹ˆæ˜¯è¯»å·²æäº¤"><span>ä»€ä¹ˆæ˜¯è¯»å·²æäº¤ï¼Ÿ</span></a></h4><p>åœ¨è¯»å·²æäº¤çº§åˆ«ï¼Œå½“å‰äº‹åŠ¡åªèƒ½è¯»å–å·²ç»è¢«å…¶ä»–äº‹åŠ¡æäº¤çš„æ•°æ®ï¼Œå¯ä»¥é¿å…â€œè„è¯»â€ç°è±¡ã€‚ä½†ä¸å¯é‡å¤è¯»å’Œå¹»è¯»é—®é¢˜ä»ç„¶å­˜åœ¨ã€‚</p><h4 id="ä»€ä¹ˆæ˜¯å¯é‡å¤è¯»" tabindex="-1"><a class="header-anchor" href="#ä»€ä¹ˆæ˜¯å¯é‡å¤è¯»"><span>ä»€ä¹ˆæ˜¯å¯é‡å¤è¯»ï¼Ÿ</span></a></h4><p>å¯é‡å¤è¯»æ˜¯æŒ‡ä¸€ä¸ªäº‹åŠ¡åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­çœ‹åˆ°çš„æ•°æ®ï¼Œä¸€ç›´è·Ÿè¿™ä¸ªäº‹åŠ¡å¯åŠ¨æ—¶çœ‹åˆ°çš„æ•°æ®æ˜¯ä¸€è‡´çš„ã€‚</p><p><strong>å¯é‡å¤è¯»æ˜¯ MySQL é»˜è®¤çš„éš”ç¦»çº§åˆ«</strong>ï¼Œé¿å…äº†â€œè„è¯»â€å’Œâ€œä¸å¯é‡å¤è¯»â€ï¼Œä¹Ÿèƒ½åœ¨ä¸€å®šç¨‹åº¦ä¸Šé¿å…å¹»è¯»ã€‚</p><h4 id="ä»€ä¹ˆæ˜¯ä¸²è¡ŒåŒ–" tabindex="-1"><a class="header-anchor" href="#ä»€ä¹ˆæ˜¯ä¸²è¡ŒåŒ–"><span>ä»€ä¹ˆæ˜¯ä¸²è¡ŒåŒ–ï¼Ÿ</span></a></h4><p>ä¸²è¡ŒåŒ–æ˜¯æœ€é«˜çš„éš”ç¦»çº§åˆ«ï¼Œé€šè¿‡å¼ºåˆ¶äº‹åŠ¡ä¸²è¡Œæ‰§è¡Œæ¥è§£å†³â€œè„è¯»â€ã€â€œä¸å¯é‡å¤è¯»â€å’Œâ€œå¹»è¯»â€é—®é¢˜ã€‚ä½†ä¼šå¯¼è‡´å¤§é‡çš„é”ç«äº‰é—®é¢˜ã€‚</p><h4 id="a-äº‹åŠ¡æœªæäº¤-b-äº‹åŠ¡ä¸ŠæŸ¥è¯¢åˆ°çš„æ˜¯æ—§å€¼è¿˜æ˜¯æ–°å€¼" tabindex="-1"><a class="header-anchor" href="#a-äº‹åŠ¡æœªæäº¤-b-äº‹åŠ¡ä¸ŠæŸ¥è¯¢åˆ°çš„æ˜¯æ—§å€¼è¿˜æ˜¯æ–°å€¼"><span>A äº‹åŠ¡æœªæäº¤ï¼ŒB äº‹åŠ¡ä¸ŠæŸ¥è¯¢åˆ°çš„æ˜¯æ—§å€¼è¿˜æ˜¯æ–°å€¼ï¼Ÿ</span></a></h4><p>åœ¨ MySQL çš„é»˜è®¤éš”ç¦»çº§åˆ«ï¼ˆå¯é‡å¤è¯»ï¼‰ä¸‹ï¼Œå¦‚æœäº‹åŠ¡ A ä¿®æ”¹äº†æ•°æ®ä½†æœªæäº¤ï¼Œäº‹åŠ¡ B å°†çœ‹åˆ°ä¿®æ”¹ä¹‹å‰çš„æ•°æ®ã€‚</p><p>è¿™æ˜¯å› ä¸ºåœ¨å¯é‡å¤è¯»éš”ç¦»çº§åˆ«ä¸‹ï¼ŒMySQL å°†é€šè¿‡å¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶ï¼ˆMVCCï¼‰æœºåˆ¶æ¥ä¿è¯ä¸€ä¸ªäº‹åŠ¡ä¸ä¼šçœ‹åˆ°å…¶ä»–äº‹åŠ¡æœªæäº¤çš„æ•°æ®ï¼Œä»è€Œç¡®ä¿è¯»ä¸€è‡´æ€§ã€‚</p><h4 id="æ€ä¹ˆæ›´æ”¹äº‹åŠ¡çš„éš”ç¦»çº§åˆ«" tabindex="-1"><a class="header-anchor" href="#æ€ä¹ˆæ›´æ”¹äº‹åŠ¡çš„éš”ç¦»çº§åˆ«"><span>æ€ä¹ˆæ›´æ”¹äº‹åŠ¡çš„éš”ç¦»çº§åˆ«ï¼Ÿ</span></a></h4><p>ä½¿ç”¨ <code>SET SESSION TRANSACTION ISOLATION LEVEL</code> å¯ä»¥ä¿®æ”¹å½“å‰è¿æ¥çš„éš”ç¦»çº§åˆ«ï¼Œåªå½±å“å½“å‰ä¼šè¯ã€‚</p><p>ä½¿ç”¨ <code>SET GLOBAL TRANSACTION ISOLATION LEVEL</code> å¯ä»¥ä¿®æ”¹å…¨å±€éš”ç¦»çº§åˆ«ï¼Œå½±å“æ–°çš„è¿æ¥ï¼Œä½†ä¸ä¼šæ”¹å˜ç°æœ‰ä¼šè¯ã€‚</p><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„ç¾å›¢é¢ç»åŒå­¦ 16 æš‘æœŸå®ä¹ ä¸€é¢é¢è¯•åŸé¢˜ï¼šMySQL äº‹åŠ¡æ˜¯ä»€ä¹ˆï¼Œé»˜è®¤éš”ç¦»çº§åˆ«ï¼Œä»€ä¹ˆæ˜¯å¯é‡å¤è¯»ï¼Ÿ</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„è…¾è®¯é¢ç»åŒå­¦ 23 QQ åå°æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šMySQL äº‹åŠ¡ï¼Œéš”ç¦»çº§åˆ«</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å¿«æ‰‹é¢ç»åŒå­¦ 7 Java åç«¯æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šè¯´ä¸€ä¸‹äº‹åŠ¡çš„å››å¤§éš”ç¦»çº§åˆ«ï¼Œåˆ†åˆ«è§£å†³ä»€ä¹ˆé—®é¢˜</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å­—èŠ‚è·³åŠ¨é¢ç»åŒå­¦ 1 Java åç«¯æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šMySQL é»˜è®¤éš”ç¦»çº§åˆ«ï¼Ÿ</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„ç¾å›¢é¢ç»åŒå­¦ 2 Java åç«¯æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šè¯´è¯´ MySQL äº‹åŠ¡çš„éš”ç¦»çº§åˆ«ï¼Œå¦‚ä½•å®ç°ï¼Ÿ</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å°å…¬å¸é¢ç»åˆé›†åŒå­¦ 1 Java åç«¯é¢è¯•åŸé¢˜ï¼šMySQL çš„å››ä¸ªéš”ç¦»çº§åˆ«ä»¥åŠé»˜è®¤éš”ç¦»çº§åˆ«ï¼Ÿ</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„ 360 é¢ç»åŒå­¦ 3 Java åç«¯æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šæ•°æ®åº“éš”ç¦»çº§åˆ«æœ‰å“ªäº›ï¼Ÿmysql æ˜¯å±äºå“ªä¸ªéš”ç¦»çº§åˆ«</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„è”æƒ³é¢ç»åŒå­¦ 7 é¢è¯•åŸé¢˜ï¼šMysql å››ä¸ªéš”ç¦»çº§åˆ«ï¼ŒMVCC å®ç°</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„oppo é¢ç»åŒå­¦ 8 åç«¯å¼€å‘ç§‹æ‹›ä¸€é¢é¢è¯•åŸé¢˜ï¼šè®²è®²Mysqlçš„å››ä¸ªéš”ç¦»çº§åˆ«</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„æ¯”äºšè¿ªé¢ç»åŒå­¦ 12 Java æŠ€æœ¯é¢è¯•åŸé¢˜ï¼šmysqlçš„éš”ç¦»çº§åˆ«æœ‰å“ªäº›</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„è…¾è®¯é¢ç»åŒå­¦ 27 äº‘åå°æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šäº‹åŠ¡çš„éš”ç¦»çº§åˆ«ï¼Ÿè¿™äº›éš”ç¦»çº§åˆ«æ˜¯æ€ä¹ˆä¿è¯æ•°æ®çš„ä¸€è‡´æ€§çš„ï¼Ÿé»˜è®¤çš„äº‹åŠ¡éš”ç¦»çº§åˆ«æ˜¯å•¥ï¼Ÿï¼ˆMVCCï¼‰æ€ä¹ˆæ›´æ”¹äº‹åŠ¡çš„éš”ç¦»çº§åˆ«ï¼Ÿ</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å­—èŠ‚è·³åŠ¨é¢ç»åŒå­¦19ç•ªèŒ„å°è¯´ä¸€é¢é¢è¯•åŸé¢˜ï¼šäº‹åŠ¡éš”ç¦»çº§åˆ«ï¼Œå“ªä¸ªæ˜¯é»˜è®¤çš„ï¼Œç‰¹ç‚¹</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„è™¾çš®é¢ç»åŒå­¦ 13 ä¸€é¢é¢è¯•åŸé¢˜ï¼šmysqläº‹åŠ¡éš”ç¦»çº§åˆ«</li></ol></blockquote><h3 id="_62-ä»€ä¹ˆæ˜¯è„è¯»ã€ä¸å¯é‡å¤è¯»ã€å¹»è¯»å‘¢" tabindex="-1"><a class="header-anchor" href="#_62-ä»€ä¹ˆæ˜¯è„è¯»ã€ä¸å¯é‡å¤è¯»ã€å¹»è¯»å‘¢"><span>62.ä»€ä¹ˆæ˜¯è„è¯»ã€ä¸å¯é‡å¤è¯»ã€å¹»è¯»å‘¢ï¼Ÿ</span></a></h3><p>è„è¯»æŒ‡çš„æ˜¯ä¸€ä¸ªäº‹åŠ¡èƒ½å¤Ÿè¯»å–å¦ä¸€ä¸ªäº‹åŠ¡å°šæœªæäº¤çš„æ•°æ®ã€‚å¦‚æœè¯»åˆ°çš„æ•°æ®åœ¨ä¹‹åè¢«å›æ»šäº†ï¼Œé‚£ä¹ˆç¬¬ä¸€ä¸ªäº‹åŠ¡è¯»å–åˆ°çš„å°±æ˜¯æ— æ•ˆçš„æ•°æ®ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- äº‹åŠ¡ A</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">START TRANSACTION</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">UPDATE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employees </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SET</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> salary </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 5000</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> id </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- äº‹åŠ¡ B</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">START TRANSACTION</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> salary </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employees </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> id </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- è¯»å–åˆ° salary = 5000 (è„è¯»)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">ROLLBACK</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸å¯é‡å¤è¯»æŒ‡çš„æ˜¯åœ¨åŒä¸€äº‹åŠ¡ä¸­æ‰§è¡Œç›¸åŒçš„æŸ¥è¯¢æ—¶ï¼Œè¿”å›çš„ç»“æœé›†ä¸åŒã€‚è¿™æ˜¯ç”±äºåœ¨äº‹åŠ¡è¿‡ç¨‹ä¸­ï¼Œå¦ä¸€ä¸ªäº‹åŠ¡ä¿®æ”¹äº†æ•°æ®å¹¶æäº¤ã€‚</p><p>æ¯”å¦‚è¯´äº‹åŠ¡ A åœ¨ç¬¬ä¸€æ¬¡è¯»å–æŸä¸ªå€¼åï¼Œäº‹åŠ¡ B ä¿®æ”¹äº†è¿™ä¸ªå€¼å¹¶æäº¤ï¼Œäº‹åŠ¡ A å†æ¬¡è¯»å–æ—¶ï¼Œå‘ç°å€¼å·²ç»æ”¹å˜ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- äº‹åŠ¡ A</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">START TRANSACTION</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> salary </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employees </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> id </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- è¯»å–åˆ° salary = 3000</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- äº‹åŠ¡ B</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">START TRANSACTION</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">UPDATE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employees </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SET</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> salary </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 5000</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> id </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">COMMIT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- äº‹åŠ¡ A å†æ¬¡è¯»å–</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> salary </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employees </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> id </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- è¯»å–åˆ° salary = 5000 (ä¸å¯é‡å¤è¯»)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">COMMIT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¹»è¯»æŒ‡çš„æ˜¯åœ¨åŒä¸€äº‹åŠ¡ä¸­æ‰§è¡Œç›¸åŒçš„æŸ¥è¯¢æ—¶ï¼Œè¿”å›çš„ç»“æœé›†ä¸­å‡ºç°äº†ä¹‹å‰æ²¡æœ‰çš„æ•°æ®è¡Œã€‚è¿™æ˜¯å› ä¸ºåœ¨äº‹åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå¦å¤–ä¸€ä¸ªäº‹åŠ¡æ’å…¥äº†æ–°çš„æ•°æ®ã€‚</p><p>æ¯”å¦‚è¯´äº‹åŠ¡ A åœ¨ç¬¬ä¸€æ¬¡æŸ¥è¯¢æŸä¸ªæ¡ä»¶èŒƒå›´çš„æ•°æ®è¡Œåï¼Œäº‹åŠ¡ B æ’å…¥äº†ä¸€æ¡æ–°æ•°æ®ä¸”ç¬¦åˆæ¡ä»¶èŒƒå›´ï¼Œäº‹åŠ¡ A å†æ¬¡æŸ¥è¯¢æ—¶ï¼Œå‘ç°å¤šäº†ä¸€æ¡æ•°æ®ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- äº‹åŠ¡ A</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">START TRANSACTION</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employees </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> department </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;HR&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- è¯»å–åˆ° 10 æ¡è®°å½•</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- äº‹åŠ¡ B</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">START TRANSACTION</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">INSERT INTO</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employees (id, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, department) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">VALUES</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">11</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;John Doe&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;HR&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">COMMIT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- äº‹åŠ¡ A å†æ¬¡æŸ¥è¯¢</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> employees </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> department </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;HR&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- è¯»å–åˆ° 11 æ¡è®°å½• (å¹»è¯»)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">COMMIT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>éœ€è¦è§£å†³å¹»è¯»çš„åœºæ™¯ä¸€èˆ¬æ˜¯å¯¹æ•°æ®ä¸€è‡´æ€§è¦æ±‚è¾ƒé«˜çš„ä¸šåŠ¡ï¼Œä¾‹å¦‚é“¶è¡Œè½¬è´¦ã€åº“å­˜ç®¡ç†ç­‰ï¼Œè€Œåœ¨ä¸€äº›åªè¦æ±‚æœ€ç»ˆä¸€è‡´æ€§çš„åº”ç”¨åœºæ™¯ä¸­ï¼ˆå¦‚ç»Ÿè®¡åŠŸèƒ½ï¼‰ï¼Œå¯ä»¥å¿½ç•¥å¹»è¯»é—®é¢˜ã€‚</p><h4 id="å¦‚ä½•é¿å…å¹»è¯»" tabindex="-1"><a class="header-anchor" href="#å¦‚ä½•é¿å…å¹»è¯»"><span>å¦‚ä½•é¿å…å¹»è¯»ï¼Ÿ</span></a></h4><p>â‘ ã€ç›´æ¥ä½¿ç”¨æœ€é«˜çš„éš”ç¦»çº§åˆ«ä¸²è¡ŒåŒ–ï¼Œä½†ä¼šå¯¼è‡´å¤§é‡çš„é”ç«äº‰ã€‚</p><p>â‘¡ã€ä½¿ç”¨é—´éš™é”ï¼Œé˜²æ­¢å…¶ä»–äº‹åŠ¡åœ¨é—´éš™èŒƒå›´å†…æ’å…¥æ•°æ®ã€‚</p><p>â‘¢ã€åœ¨å¯é‡å¤è¯»çš„éš”ç¦»çº§åˆ«ä¸‹ï¼ŒMVCC æœºåˆ¶ä¼šä¸ºæ¯ä¸ªäº‹åŠ¡ç»´æŠ¤ä¸€ä¸ªå¿«ç…§ï¼Œäº‹åŠ¡åœ¨è¯»å–æ•°æ®æ—¶ï¼Œåªèƒ½è¯»å–åˆ°å¿«ç…§ä¸­çš„æ•°æ®ï¼Œè€Œä¸ä¼šè¯»å–åˆ°å…¶ä»–äº‹åŠ¡æ’å…¥çš„æ•°æ®ã€‚</p><h4 id="ä¸åŒçš„éš”ç¦»çº§åˆ«-åœ¨å¹¶å‘äº‹åŠ¡ä¸‹å¯èƒ½ä¼šå‘ç”Ÿä»€ä¹ˆé—®é¢˜" tabindex="-1"><a class="header-anchor" href="#ä¸åŒçš„éš”ç¦»çº§åˆ«-åœ¨å¹¶å‘äº‹åŠ¡ä¸‹å¯èƒ½ä¼šå‘ç”Ÿä»€ä¹ˆé—®é¢˜"><span>ä¸åŒçš„éš”ç¦»çº§åˆ«ï¼Œåœ¨å¹¶å‘äº‹åŠ¡ä¸‹å¯èƒ½ä¼šå‘ç”Ÿä»€ä¹ˆé—®é¢˜ï¼Ÿ</span></a></h4><table><thead><tr><th>éš”ç¦»çº§åˆ«</th><th>è„è¯»</th><th>ä¸å¯é‡å¤è¯»</th><th>å¹»è¯»</th></tr></thead><tbody><tr><td>Read Uncommited è¯»å–æœªæäº¤</td><td>æ˜¯</td><td>æ˜¯</td><td>æ˜¯</td></tr><tr><td>Read Commited è¯»å–å·²æäº¤</td><td>å¦</td><td>æ˜¯</td><td>æ˜¯</td></tr><tr><td>Repeatable Read å¯é‡å¤è¯»</td><td>å¦</td><td>å¦</td><td>æ˜¯</td></tr><tr><td>Serialzable å¯ä¸²è¡ŒåŒ–</td><td>å¦</td><td>å¦</td><td>å¦</td></tr></tbody></table><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„äº¬ä¸œé¢ç»åŒå­¦ 7 äº¬ä¸œåˆ°å®¶é¢è¯•åŸé¢˜ï¼šmysqläº‹åŠ¡éš”ç¦»çº§åˆ«ï¼Œé»˜è®¤éš”ç¦»çº§åˆ«ï¼Œå¦‚ä½•é¿å…å¹»è¯»</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„é˜¿é‡Œäº‘é¢ç»åŒå­¦ 22 é¢ç»ï¼šäº‹åŠ¡éš”ç¦»çº§åˆ«ï¼Œå¹»è¯»å’Œè„è¯»çš„åŒºåˆ«ï¼Œå¦‚ä½•é˜²æ­¢å¹»è¯»ï¼Œäº‹åŠ¡çš„mvccæœºåˆ¶</li></ol></blockquote><h3 id="_63-äº‹åŠ¡çš„éš”ç¦»çº§åˆ«æ˜¯å¦‚ä½•å®ç°çš„" tabindex="-1"><a class="header-anchor" href="#_63-äº‹åŠ¡çš„éš”ç¦»çº§åˆ«æ˜¯å¦‚ä½•å®ç°çš„"><span>63.äº‹åŠ¡çš„éš”ç¦»çº§åˆ«æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ</span></a></h3><p>è¯»æœªæäº¤ä¸æä¾›ä»»ä½•é”æœºåˆ¶æ¥ä¿æŠ¤è¯»å–çš„æ•°æ®ï¼Œå…è®¸è¯»å–æœªæäº¤çš„æ•°æ®ï¼ˆå³è„è¯»ï¼‰ã€‚</p><p>è¯»å·²æäº¤å’Œå¯é‡å¤è¯»é€šè¿‡ MVCC æœºåˆ¶ä¸­çš„ ReadView æ¥å®ç°ã€‚</p><ul><li>è¯»å·²æäº¤ï¼šæ¯æ¬¡è¯»å–æ•°æ®å‰éƒ½ç”Ÿæˆä¸€ä¸ª ReadViewï¼Œä¿è¯æ¯æ¬¡è¯»æ“ä½œéƒ½æ˜¯æœ€æ–°çš„æ•°æ®ã€‚</li><li>å¯é‡å¤è¯»ï¼šåªåœ¨ç¬¬ä¸€æ¬¡è¯»æ“ä½œæ—¶ç”Ÿæˆä¸€ä¸ª ReadViewï¼Œåç»­è¯»æ“ä½œéƒ½ä½¿ç”¨è¿™ä¸ª ReadViewï¼Œä¿è¯äº‹åŠ¡å†…è¯»å–çš„æ•°æ®æ˜¯ä¸€è‡´çš„ã€‚</li></ul><p>ä¸²è¡ŒåŒ–çº§åˆ«ä¸‹ï¼Œäº‹åŠ¡åœ¨è¯»æ“ä½œæ—¶ï¼Œå¿…é¡»å…ˆåŠ è¡¨çº§å…±äº«é”ï¼Œç›´åˆ°äº‹åŠ¡ç»“æŸæ‰é‡Šæ”¾ï¼›äº‹åŠ¡åœ¨å†™æ“ä½œæ—¶ï¼Œå¿…é¡»å…ˆåŠ è¡¨çº§æ’ä»–é”ï¼Œç›´åˆ°äº‹åŠ¡ç»“æŸæ‰é‡Šæ”¾ã€‚</p><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„ç¾å›¢é¢ç»åŒå­¦ 2 Java åç«¯æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šè¯´è¯´ MySQL äº‹åŠ¡çš„éš”ç¦»çº§åˆ«ï¼Œå¦‚ä½•å®ç°ï¼Ÿ</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å¾—ç‰©é¢ç»åŒå­¦ 9 é¢è¯•é¢˜ç›®åŸé¢˜ï¼šMysqléš”ç¦»æœºåˆ¶æœ‰å“ªäº›ï¼Ÿæ€ä¹ˆå®ç°çš„ï¼Ÿå¯ä¸²è¡ŒåŒ–æ˜¯æ€ä¹ˆé¿å…çš„ä¸‰ä¸ªäº‹åŠ¡é—®é¢˜ï¼Ÿ</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„æ»´æ»´é¢ç»åŒå­¦ 3 ç½‘çº¦è½¦åç«¯å¼€å‘ä¸€é¢åŸé¢˜ï¼šå¯é‡å¤è¯»çº§åˆ«æ˜¯æ€ä¹ˆå®ç°çš„</li></ol></blockquote><h3 id="_64-mvcc-äº†è§£å—-æ€ä¹ˆå®ç°çš„" tabindex="-1"><a class="header-anchor" href="#_64-mvcc-äº†è§£å—-æ€ä¹ˆå®ç°çš„"><span>64.MVCC äº†è§£å—ï¼Ÿæ€ä¹ˆå®ç°çš„ï¼Ÿ</span></a></h3><p>MVCC æŒ‡çš„æ˜¯å¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶ï¼Œç®€å•æ¥è¯´ï¼Œå°±æ˜¯ç»™æˆ‘ä»¬çš„ MySQL æ•°æ®æ‹ä¸ªâ€œå¿«ç…§â€ï¼Œå®šæ ¼æŸä¸ªæ—¶åˆ»æ•°æ®åº“çš„çŠ¶æ€ã€‚</p><p>åœ¨ MySQL ä¸­ï¼ŒMVCC æ˜¯é€šè¿‡ç‰ˆæœ¬é“¾å’Œ ReadView æœºåˆ¶æ¥å®ç°çš„ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20241215073837.png" alt="å¤©ç‘•ï¼šundo log ç‰ˆæœ¬é“¾å’Œ ReadView" tabindex="0" loading="lazy"><figcaption>å¤©ç‘•ï¼šundo log ç‰ˆæœ¬é“¾å’Œ ReadView</figcaption></figure><ol><li>æ¯æ¡è®°å½•åŒ…å«ä¸¤ä¸ªéšè—åˆ—ï¼šæœ€è¿‘ä¿®æ”¹çš„äº‹åŠ¡ ID å’ŒæŒ‡å‘ Undo Log çš„æŒ‡é’ˆï¼Œç”¨äºæ„æˆç‰ˆæœ¬é“¾ã€‚</li><li>æ¯æ¬¡æ›´æ–°æ•°æ®æ—¶ï¼Œä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„æ•°æ®ç‰ˆæœ¬ï¼Œå¹¶å°†æ—§ç‰ˆæœ¬çš„æ•°æ®ä¿å­˜åˆ° Undo Log ä¸­ã€‚</li><li>æ¯æ¬¡è¯»å–æ•°æ®æ—¶ï¼Œä¼šç”Ÿæˆä¸€ä¸ª ReadViewï¼Œç”¨äºåˆ¤æ–­å“ªä¸ªç‰ˆæœ¬çš„æ•°æ®å¯¹å½“å‰äº‹åŠ¡å¯è§ã€‚</li></ol><h4 id="ä»€ä¹ˆæ˜¯ç‰ˆæœ¬é“¾" tabindex="-1"><a class="header-anchor" href="#ä»€ä¹ˆæ˜¯ç‰ˆæœ¬é“¾"><span>ä»€ä¹ˆæ˜¯ç‰ˆæœ¬é“¾ï¼Ÿ</span></a></h4><p>åœ¨ InnoDB ä¸­ï¼Œæ¯ä¸€è¡Œæ•°æ®éƒ½æœ‰ä¸¤ä¸ªéšè—çš„åˆ—ï¼šä¸€ä¸ªæ˜¯ DB_TRX_IDï¼Œå¦ä¸€ä¸ªæ˜¯ DB_ROLL_PTRã€‚</p><ul><li><code>DB_TRX_ID</code>ï¼Œä¿å­˜åˆ›å»ºè¿™ä¸ªç‰ˆæœ¬çš„äº‹åŠ¡ IDã€‚</li><li><code>DB_ROLL_PTR</code>ï¼ŒæŒ‡å‘ undo æ—¥å¿—è®°å½•çš„æŒ‡é’ˆï¼Œè¿™ä¸ªè®°å½•åŒ…å«äº†è¯¥è¡Œçš„å‰ä¸€ä¸ªç‰ˆæœ¬çš„ä¿¡æ¯ã€‚é€šè¿‡è¿™ä¸ªæŒ‡é’ˆï¼Œå¯ä»¥è®¿é—®åˆ°è¯¥è¡Œæ•°æ®çš„å†å²ç‰ˆæœ¬ã€‚</li></ul><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240415084347.png" alt="äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šç‰ˆæœ¬é“¾" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šç‰ˆæœ¬é“¾</figcaption></figure><p>å‡è®¾æœ‰ä¸€å¼ <code>hero</code>è¡¨ï¼Œè¡¨ä¸­æœ‰ä¸€è¡Œè®°å½• name ä¸ºå¼ ä¸‰ï¼Œcity ä¸ºå¸éƒ½ï¼Œæ’å…¥è¿™è¡Œè®°å½•çš„äº‹åŠ¡ id æ˜¯ 80ã€‚æ­¤æ—¶ï¼Œ<code>DB_TRX_ID</code>çš„å€¼å°±æ˜¯ 80ï¼Œ<code>DB_ROLL_PTR</code>çš„å€¼å°±æ˜¯æŒ‡å‘è¿™æ¡ insert undo æ—¥å¿—çš„æŒ‡é’ˆã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-80ebc2b3-ae63-417d-9307-f6a7811f7965.jpg" alt="ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šè¡¨è®°å½•" tabindex="0" loading="lazy"><figcaption>ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šè¡¨è®°å½•</figcaption></figure><p>æ¥ä¸‹æ¥ï¼Œå¦‚æœæœ‰ä¸¤ä¸ª<code>DB_TRX_ID</code>åˆ†åˆ«ä¸º<code>100</code>ã€<code>200</code>çš„äº‹åŠ¡å¯¹è¿™æ¡è®°å½•è¿›è¡Œäº†<code>update</code>æ“ä½œï¼Œé‚£ä¹ˆè¿™æ¡è®°å½•çš„ç‰ˆæœ¬é“¾å°±ä¼šå˜æˆä¸‹é¢è¿™æ ·ï¼š</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-bf4ff00d-01bd-4170-a17b-6919f7873ea4.jpg" alt="ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šupdate æ“ä½œ" tabindex="0" loading="lazy"><figcaption>ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šupdate æ“ä½œ</figcaption></figure><p>å½“äº‹åŠ¡æ›´æ–°ä¸€è¡Œæ•°æ®æ—¶ï¼ŒInnoDB ä¸ä¼šç›´æ¥è¦†ç›–åŸæœ‰æ•°æ®ï¼Œè€Œæ˜¯åˆ›å»ºä¸€ä¸ªæ–°çš„æ•°æ®ç‰ˆæœ¬ï¼Œå¹¶æ›´æ–° DB_TRX_ID å’Œ DB_ROLL_PTRï¼Œä½¿å¾—å®ƒä»¬æŒ‡å‘å‰ä¸€ä¸ªç‰ˆæœ¬å’Œç›¸å…³çš„ undo æ—¥å¿—ã€‚è¿™æ ·ï¼Œè€ç‰ˆæœ¬çš„æ•°æ®ä¸ä¼šä¸¢å¤±ï¼Œå¯ä»¥é€šè¿‡ç‰ˆæœ¬é“¾æ‰¾åˆ°ã€‚</p><p>ç”±äº undo æ—¥å¿—ä¼šè®°å½•æ¯ä¸€æ¬¡çš„ updateï¼Œå¹¶ä¸”æ–°æ’å…¥çš„è¡Œæ•°æ®ä¼šè®°å½•ä¸Šä¸€æ¡ undo æ—¥å¿—çš„æŒ‡é’ˆï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡è¿™ä¸ªæŒ‡é’ˆæ‰¾åˆ°ä¸Šä¸€æ¡è®°å½•ï¼Œè¿™æ ·å°±å½¢æˆäº†ä¸€ä¸ªç‰ˆæœ¬é“¾ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-765b3d83-14eb-4b56-8940-9d60bfaf1737.jpg" alt="ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šç‰ˆæœ¬é“¾" tabindex="0" loading="lazy"><figcaption>ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šç‰ˆæœ¬é“¾</figcaption></figure><h4 id="è¯´è¯´ä»€ä¹ˆæ˜¯-readview" tabindex="-1"><a class="header-anchor" href="#è¯´è¯´ä»€ä¹ˆæ˜¯-readview"><span>è¯´è¯´ä»€ä¹ˆæ˜¯ ReadViewï¼Ÿ</span></a></h4><p>ReadViewï¼ˆè¯»è§†å›¾ï¼‰æ˜¯ InnoDB ä¸ºäº†å®ç°ä¸€è‡´æ€§è¯»è€Œåˆ›å»ºçš„æ•°æ®ç»“æ„ï¼Œå®ƒç”¨äºç¡®å®šåœ¨ç‰¹å®šäº‹åŠ¡ä¸­å“ªäº›ç‰ˆæœ¬çš„è¡Œè®°å½•æ˜¯å¯è§çš„ã€‚</p><p>ReadView ä¸»è¦ç”¨æ¥å¤„ç†éš”ç¦»çº§åˆ«ä¸º&quot;å¯é‡å¤è¯»&quot;å’Œ&quot;è¯»å·²æäº¤&quot;çš„æƒ…å†µã€‚å› ä¸ºåœ¨è¿™ä¸¤ä¸ªéš”ç¦»çº§åˆ«ä¸‹ï¼Œäº‹åŠ¡åœ¨è¯»å–æ•°æ®æ—¶ï¼Œéœ€è¦ä¿è¯è¯»å–åˆ°çš„æ•°æ®æ˜¯ä¸€è‡´çš„ï¼Œå³è¯»å–åˆ°çš„æ•°æ®æ˜¯åœ¨äº‹åŠ¡å¼€å§‹æ—¶çš„ä¸€ä¸ªå¿«ç…§ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240415093703.png" alt="äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šReadView" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼šReadView</figcaption></figure><p>å½“äº‹åŠ¡å¼€å§‹æ‰§è¡Œæ—¶ï¼ŒInnoDB ä¼šä¸ºè¯¥äº‹åŠ¡åˆ›å»ºä¸€ä¸ª ReadViewï¼Œè¿™ä¸ª ReadView ä¼šè®°å½• 4 ä¸ªé‡è¦çš„ä¿¡æ¯ï¼š</p><ul><li>creator_trx_idï¼šåˆ›å»ºè¯¥ ReadView çš„äº‹åŠ¡ IDã€‚</li><li>m_idsï¼šæ‰€æœ‰æ´»è·ƒäº‹åŠ¡çš„ ID åˆ—è¡¨ï¼Œæ´»è·ƒäº‹åŠ¡æ˜¯æŒ‡é‚£äº›å·²ç»å¼€å§‹ä½†å°šæœªæäº¤çš„äº‹åŠ¡ã€‚</li><li>min_trx_idï¼šæ‰€æœ‰æ´»è·ƒäº‹åŠ¡ä¸­æœ€å°çš„äº‹åŠ¡ IDã€‚å®ƒæ˜¯ m_ids æ•°ç»„ä¸­æœ€å°çš„äº‹åŠ¡ IDã€‚</li><li>max_trx_id ï¼šäº‹åŠ¡ ID çš„æœ€å¤§å€¼åŠ ä¸€ã€‚æ¢å¥è¯è¯´ï¼Œå®ƒæ˜¯ä¸‹ä¸€ä¸ªå°†è¦ç”Ÿæˆçš„äº‹åŠ¡ IDã€‚</li></ul><h4 id="readview-æ˜¯å¦‚ä½•åˆ¤æ–­è®°å½•çš„æŸä¸ªç‰ˆæœ¬æ˜¯å¦å¯è§çš„" tabindex="-1"><a class="header-anchor" href="#readview-æ˜¯å¦‚ä½•åˆ¤æ–­è®°å½•çš„æŸä¸ªç‰ˆæœ¬æ˜¯å¦å¯è§çš„"><span>ReadView æ˜¯å¦‚ä½•åˆ¤æ–­è®°å½•çš„æŸä¸ªç‰ˆæœ¬æ˜¯å¦å¯è§çš„ï¼Ÿ</span></a></h4><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240415094939.png" alt="äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼š" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯ï¼š</figcaption></figure><p>å½“ä¸€ä¸ªäº‹åŠ¡è¯»å–æŸæ¡æ•°æ®æ—¶ï¼ŒInnoDB ä¼šæ ¹æ® ReadView ä¸­çš„ä¿¡æ¯æ¥åˆ¤æ–­è¯¥æ•°æ®çš„æŸä¸ªç‰ˆæœ¬æ˜¯å¦å¯è§ã€‚</p><p>â‘ ã€å¦‚æœæŸä¸ªæ•°æ®ç‰ˆæœ¬çš„ DB_TRX_ID å°äº min_trx_idï¼Œåˆ™è¯¥æ•°æ®ç‰ˆæœ¬åœ¨ç”Ÿæˆ ReadView ä¹‹å‰å°±å·²ç»æäº¤ï¼Œå› æ­¤å¯¹å½“å‰äº‹åŠ¡æ˜¯å¯è§çš„ã€‚</p><p>â‘¡ã€å¦‚æœæŸä¸ªæ•°æ®ç‰ˆæœ¬çš„ DB_TRX_ID å¤§äº max_trx_idï¼Œåˆ™è¡¨ç¤ºåˆ›å»ºè¯¥æ•°æ®ç‰ˆæœ¬çš„äº‹åŠ¡åœ¨ç”Ÿæˆ ReadView ä¹‹åå¼€å§‹ï¼Œå› æ­¤å¯¹å½“å‰äº‹åŠ¡æ˜¯ä¸å¯è§çš„ã€‚</p><p>â‘¢ã€å¦‚æœæŸä¸ªæ•°æ®ç‰ˆæœ¬çš„ DB_TRX_ID åœ¨ min_trx_id å’Œ max_trx_id ä¹‹é—´ï¼Œéœ€è¦åˆ¤æ–­ DB_TRX_ID æ˜¯å¦åœ¨ m_ids åˆ—è¡¨ä¸­ï¼š</p><ul><li>ä¸åœ¨ï¼Œè¡¨ç¤ºåˆ›å»ºè¯¥æ•°æ®ç‰ˆæœ¬çš„äº‹åŠ¡åœ¨ç”Ÿæˆ ReadView ä¹‹åå·²ç»æäº¤ï¼Œå› æ­¤å¯¹å½“å‰äº‹åŠ¡ä¹Ÿæ˜¯å¯è§çš„ã€‚</li><li>åœ¨ï¼Œåˆ™è¡¨ç¤ºåˆ›å»ºè¯¥æ•°æ®ç‰ˆæœ¬çš„äº‹åŠ¡ä»ç„¶æ´»è·ƒï¼Œæˆ–è€…åœ¨å½“å‰äº‹åŠ¡ç”Ÿæˆ ReadView ä¹‹åå¼€å§‹ï¼Œå› æ­¤å¯¹å½“å‰äº‹åŠ¡æ˜¯ä¸å¯è§çš„ã€‚</li></ul><blockquote><p>ä¸Šé¢è¿™ç§æ–¹å¼æœ‰ç‚¹ç»•ï¼Œæˆ‘è®²ä¸€ä¸ªç®€å•çš„è®°å¿†è§„åˆ™ã€‚</p></blockquote><p>è¯»äº‹åŠ¡å¼€å¯äº†ä¸€ä¸ª ReadViewï¼Œè¿™ä¸ª ReadView é‡Œé¢è®°å½•äº†å½“å‰æ´»è·ƒäº‹åŠ¡çš„ ID åˆ—è¡¨ï¼ˆ444ã€555ã€665ï¼‰ï¼Œä»¥åŠæœ€å°äº‹åŠ¡ IDï¼ˆ444ï¼‰å’Œæœ€å¤§äº‹åŠ¡ IDï¼ˆ666ï¼‰ã€‚å½“ç„¶è¿˜æœ‰è‡ªå·±çš„äº‹åŠ¡ ID 520ï¼Œä¹Ÿå°±æ˜¯ creator_trx_idã€‚</p><p>å®ƒè¦è¯»çš„è¿™è¡Œæ•°æ®çš„å†™äº‹åŠ¡ ID æ˜¯ xï¼Œä¹Ÿå°±æ˜¯ DB_TRX_IDã€‚</p><ul><li>å¦‚æœ x = 110ï¼Œæ˜¾ç„¶åœ¨ ReadView ç”Ÿæˆä¹‹å‰å°±æäº¤äº†ï¼Œæ‰€ä»¥è¿™è¡Œæ•°æ®æ˜¯å¯è§çš„ã€‚</li><li>å¦‚æœ x = 667ï¼Œæ˜¾ç„¶æ˜¯æœªçŸ¥ä¸–ç•Œï¼Œæ‰€ä»¥è¿™è¡Œæ•°æ®å¯¹è¯»æ“ä½œæ˜¯ä¸å¯è§çš„ã€‚</li><li>å¦‚æœ x = 519ï¼Œè™½ç„¶ 519 å¤§äº 444 å°äº 666ï¼Œä½†æ˜¯ 519 ä¸åœ¨æ´»è·ƒäº‹åŠ¡åˆ—è¡¨é‡Œï¼Œæ‰€ä»¥è¿™è¡Œæ•°æ®æ˜¯å¯è§çš„ã€‚å› ä¸º 519 æ˜¯åœ¨ 520 ç”Ÿæˆ ReadView ä¹‹å‰å°±æäº¤äº†ã€‚</li><li>å¦‚æœ x = 555ï¼Œè™½ç„¶ 555 å¤§äº 444 å°äº 666ï¼Œä½†æ˜¯ 555 åœ¨æ´»è·ƒäº‹åŠ¡åˆ—è¡¨é‡Œï¼Œæ‰€ä»¥è¿™è¡Œæ•°æ®æ˜¯ä¸å¯è§çš„ã€‚å› ä¸º 555 ä¸ç¡®å®šæœ‰æ²¡æœ‰æäº¤ã€‚</li></ul><h4 id="å¯é‡å¤è¯»å’Œè¯»å·²æäº¤åœ¨-readview-ä¸Šçš„åŒºåˆ«æ˜¯ä»€ä¹ˆ" tabindex="-1"><a class="header-anchor" href="#å¯é‡å¤è¯»å’Œè¯»å·²æäº¤åœ¨-readview-ä¸Šçš„åŒºåˆ«æ˜¯ä»€ä¹ˆ"><span>å¯é‡å¤è¯»å’Œè¯»å·²æäº¤åœ¨ ReadView ä¸Šçš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</span></a></h4><p>å¯é‡å¤è¯»ï¼ˆREPEATABLE READï¼‰å’Œè¯»å·²æäº¤ï¼ˆREAD COMMITTEDï¼‰çš„åŒºåˆ«åœ¨äºç”Ÿæˆ ReadView çš„æ—¶æœºä¸åŒã€‚</p><ul><li>å¯é‡å¤è¯»ï¼šåœ¨ç¬¬ä¸€æ¬¡è¯»å–æ•°æ®æ—¶ç”Ÿæˆä¸€ä¸ª ReadViewï¼Œè¿™ä¸ª ReadView ä¼šä¸€ç›´ä¿æŒåˆ°äº‹åŠ¡ç»“æŸï¼Œè¿™æ ·å¯ä»¥ä¿è¯åœ¨äº‹åŠ¡ä¸­å¤šæ¬¡è¯»å–åŒä¸€è¡Œæ•°æ®æ—¶ï¼Œè¯»å–åˆ°çš„æ•°æ®æ˜¯ä¸€è‡´çš„ã€‚</li><li>è¯»å·²æäº¤ï¼šæ¯æ¬¡è¯»å–æ•°æ®å‰éƒ½ç”Ÿæˆä¸€ä¸ª ReadViewï¼Œè¿™æ ·å°±èƒ½ä¿è¯æ¯æ¬¡è¯»å–çš„æ•°æ®éƒ½æ˜¯æœ€æ–°çš„ã€‚</li></ul><h4 id="å¦‚æœä¸¤ä¸ª-ab-äº‹åŠ¡å¹¶å‘ä¿®æ”¹ä¸€ä¸ªå˜é‡-é‚£ä¹ˆ-a-è¯»åˆ°çš„å€¼æ˜¯ä»€ä¹ˆ-æ€ä¹ˆåˆ†æã€‚" tabindex="-1"><a class="header-anchor" href="#å¦‚æœä¸¤ä¸ª-ab-äº‹åŠ¡å¹¶å‘ä¿®æ”¹ä¸€ä¸ªå˜é‡-é‚£ä¹ˆ-a-è¯»åˆ°çš„å€¼æ˜¯ä»€ä¹ˆ-æ€ä¹ˆåˆ†æã€‚"><span>å¦‚æœä¸¤ä¸ª AB äº‹åŠ¡å¹¶å‘ä¿®æ”¹ä¸€ä¸ªå˜é‡ï¼Œé‚£ä¹ˆ A è¯»åˆ°çš„å€¼æ˜¯ä»€ä¹ˆï¼Œæ€ä¹ˆåˆ†æã€‚</span></a></h4><p>å½“ä¸¤ä¸ªäº‹åŠ¡ A å’Œ B å¹¶å‘ä¿®æ”¹åŒä¸€ä¸ªå˜é‡æ—¶ï¼ŒA äº‹åŠ¡è¯»å–åˆ°çš„å€¼å–å†³äºå¤šä¸ªå› ç´ ï¼ŒåŒ…æ‹¬äº‹åŠ¡çš„éš”ç¦»çº§åˆ«ã€äº‹åŠ¡çš„å¼€å§‹æ—¶é—´å’Œæäº¤æ—¶é—´ç­‰ã€‚</p><ul><li>è¯»æœªæäº¤ï¼šåœ¨è¿™ä¸ªçº§åˆ«ä¸‹ï¼Œäº‹åŠ¡å¯ä»¥çœ‹åˆ°å…¶ä»–äº‹åŠ¡å°šæœªæäº¤çš„æ›´æ”¹ã€‚å¦‚æœ B æ›´æ”¹äº†ä¸€ä¸ªå˜é‡ä½†å°šæœªæäº¤ï¼ŒA å¯ä»¥è¯»åˆ°è¿™ä¸ªæ›´æ”¹çš„å€¼ã€‚</li><li>è¯»æäº¤ï¼šA åªèƒ½çœ‹åˆ° B æäº¤åçš„æ›´æ”¹ã€‚å¦‚æœ B è¿˜æ²¡æäº¤ï¼ŒA å°†çœ‹åˆ°æ›´æ”¹å‰çš„å€¼ã€‚</li><li>å¯é‡å¤è¯»ï¼šåœ¨äº‹åŠ¡å¼€å§‹åï¼ŒA æ€»æ˜¯è¯»å–åˆ°å˜é‡çš„ç›¸åŒå€¼ï¼Œå³ä½¿ B åœ¨è¿™æœŸé—´æäº¤äº†æ›´æ”¹ã€‚è¿™æ˜¯é€šè¿‡ MVCC æœºåˆ¶å®ç°çš„ã€‚</li><li>å¯ä¸²è¡ŒåŒ–ï¼šA å’Œ B çš„æ“ä½œæ˜¯ä¸²è¡Œæ‰§è¡Œçš„ï¼Œå¦‚æœ A å…ˆæ‰§è¡Œï¼Œé‚£ä¹ˆ A è¯»åˆ°çš„å€¼å°±æ˜¯ B æäº¤å‰çš„å€¼ï¼›å¦‚æœ B å…ˆæ‰§è¡Œï¼Œé‚£ä¹ˆ A è¯»åˆ°çš„å€¼å°±æ˜¯ B æäº¤åçš„å€¼ã€‚</li></ul><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„ç¾å›¢é¢ç»åŒå­¦ 2 Java åç«¯æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šè¯´è¯´ MVCCï¼Œè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å°å…¬å¸é¢ç»åˆé›†åŒå­¦ 1 Java åç«¯é¢è¯•åŸé¢˜ï¼šäº†è§£çš„ MVCC å—ï¼Ÿ</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„è”æƒ³é¢ç»åŒå­¦ 7 é¢è¯•åŸé¢˜ï¼šMysql å››ä¸ªéš”ç¦»çº§åˆ«ï¼ŒMVCC å®ç°ï¼Œå¦‚æœä¸¤ä¸ªABäº‹åŠ¡å¹¶å‘ä¿®æ”¹ä¸€ä¸ªå˜é‡ï¼Œé‚£ä¹ˆAè¯»åˆ°çš„å€¼æ˜¯ä»€ä¹ˆï¼Œæ€ä¹ˆåˆ†æï¼Œå¿«ç…§è¯»çš„åŸç†ï¼Œè¯»å·²æäº¤å’Œå¯é‡å¤è¯»åŒºåˆ«ï¼Œå…·ä½“åŸç†æ˜¯ä»€ä¹ˆã€‚</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„oppo é¢ç»åŒå­¦ 8 åç«¯å¼€å‘ç§‹æ‹›ä¸€é¢é¢è¯•åŸé¢˜ï¼šè®²è®²Mysqlçš„MVCCæœºåˆ¶</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å¿«æ‰‹åŒå­¦ 2 ä¸€é¢é¢è¯•åŸé¢˜ï¼šäº‹åŠ¡éš”ç¦»çº§åˆ«ï¼ŸMVCCæœºåˆ¶ä»‹ç»ä¸‹ï¼Ÿï¼ˆç‰ˆæœ¬é“¾ï¼‰ç‰ˆæœ¬é“¾é€šè¿‡ä»€ä¹ˆæ§åˆ¶</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„ç¾å›¢é¢ç»åŒå­¦ 15 ç‚¹è¯„åç«¯æŠ€æœ¯é¢è¯•åŸé¢˜ï¼šé—®äº†ä¸€ä¸‹mysqlçš„é”å’ŒMVCC</li></ol></blockquote><p>GitHub ä¸Šæ ‡æ˜Ÿ 10000+ çš„å¼€æºçŸ¥è¯†åº“ã€Š<a href="https://github.com/itwanger/toBeBetterJavaer" target="_blank" rel="noopener noreferrer">äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯</a>ã€‹ç¬¬ä¸€ç‰ˆ PDF ç»ˆäºæ¥äº†ï¼åŒ…æ‹¬ Java åŸºç¡€è¯­æ³•ã€æ•°ç»„&amp;å­—ç¬¦ä¸²ã€OOPã€é›†åˆæ¡†æ¶ã€Java IOã€å¼‚å¸¸å¤„ç†ã€Java æ–°ç‰¹æ€§ã€ç½‘ç»œç¼–ç¨‹ã€NIOã€å¹¶å‘ç¼–ç¨‹ã€JVM ç­‰ç­‰ï¼Œå…±è®¡ 32 ä¸‡ä½™å­—ï¼Œ500+å¼ æ‰‹ç»˜å›¾ï¼Œå¯ä»¥è¯´æ˜¯é€šä¿—æ˜“æ‡‚ã€é£è¶£å¹½é»˜â€¦â€¦è¯¦æƒ…æˆ³ï¼š<a href="https://javabetter.cn/overview/" target="_blank" rel="noopener noreferrer">å¤ªèµäº†ï¼ŒGitHub ä¸Šæ ‡æ˜Ÿ 10000+ çš„ Java æ•™ç¨‹</a></p><p>å¾®ä¿¡æœ <strong>æ²‰é»˜ç‹äºŒ</strong> æˆ–æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨äºŒå“¥çš„åŸåˆ›å…¬ä¼—å·æ²‰é»˜ç‹äºŒï¼Œå›å¤ <strong>222</strong> å³å¯å…è´¹é¢†å–ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/gongzhonghao.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="é«˜å¯ç”¨-æ€§èƒ½" tabindex="-1"><a class="header-anchor" href="#é«˜å¯ç”¨-æ€§èƒ½"><span>é«˜å¯ç”¨/æ€§èƒ½</span></a></h2><h3 id="_65-æ•°æ®åº“è¯»å†™åˆ†ç¦»äº†è§£å—" tabindex="-1"><a class="header-anchor" href="#_65-æ•°æ®åº“è¯»å†™åˆ†ç¦»äº†è§£å—"><span>65.æ•°æ®åº“è¯»å†™åˆ†ç¦»äº†è§£å—ï¼Ÿ</span></a></h3><p>è¯»å†™åˆ†ç¦»çš„åŸºæœ¬åŸç†æ˜¯å°†æ•°æ®åº“è¯»å†™æ“ä½œåˆ†æ•£åˆ°ä¸åŒçš„èŠ‚ç‚¹ä¸Šï¼Œä¸‹é¢æ˜¯åŸºæœ¬æ¶æ„å›¾ï¼š</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-31df767c-db05-4de4-a05b-a45bcf76c1bf.jpg" alt="è¯»å†™åˆ†ç¦»" tabindex="0" loading="lazy"><figcaption>è¯»å†™åˆ†ç¦»</figcaption></figure><p>è¯»å†™åˆ†ç¦»çš„åŸºæœ¬å®ç°æ˜¯:</p><ul><li>æ•°æ®åº“æœåŠ¡å™¨æ­å»ºä¸»ä»é›†ç¾¤ï¼Œä¸€ä¸»ä¸€ä»ã€ä¸€ä¸»å¤šä»éƒ½å¯ä»¥ã€‚</li><li>æ•°æ®åº“ä¸»æœºè´Ÿè´£è¯»å†™æ“ä½œï¼Œä»æœºåªè´Ÿè´£è¯»æ“ä½œã€‚</li><li>æ•°æ®åº“ä¸»æœºé€šè¿‡å¤åˆ¶å°†æ•°æ®åŒæ­¥åˆ°ä»æœºï¼Œæ¯å°æ•°æ®åº“æœåŠ¡å™¨éƒ½å­˜å‚¨äº†æ‰€æœ‰çš„ä¸šåŠ¡æ•°æ®ã€‚</li><li>ä¸šåŠ¡æœåŠ¡å™¨å°†å†™æ“ä½œå‘ç»™æ•°æ®åº“ä¸»æœºï¼Œå°†è¯»æ“ä½œå‘ç»™æ•°æ®åº“ä»æœºã€‚</li></ul><h3 id="_66-è¯»å†™åˆ†ç¦»çš„åˆ†é…æ€ä¹ˆå®ç°å‘¢" tabindex="-1"><a class="header-anchor" href="#_66-è¯»å†™åˆ†ç¦»çš„åˆ†é…æ€ä¹ˆå®ç°å‘¢"><span>66.è¯»å†™åˆ†ç¦»çš„åˆ†é…æ€ä¹ˆå®ç°å‘¢ï¼Ÿ</span></a></h3><p>å°†è¯»å†™æ“ä½œåŒºåˆ†å¼€æ¥ï¼Œç„¶åè®¿é—®ä¸åŒçš„æ•°æ®åº“æœåŠ¡å™¨ï¼Œä¸€èˆ¬æœ‰ä¸¤ç§æ–¹å¼ï¼šç¨‹åºä»£ç å°è£…å’Œä¸­é—´ä»¶å°è£…ã€‚</p><ol><li>ç¨‹åºä»£ç å°è£…</li></ol><p>ç¨‹åºä»£ç å°è£…æŒ‡åœ¨ä»£ç ä¸­æŠ½è±¡ä¸€ä¸ªæ•°æ®è®¿é—®å±‚ï¼ˆæ‰€ä»¥æœ‰çš„æ–‡ç« ä¹Ÿç§°è¿™ç§æ–¹å¼ä¸º &quot;ä¸­é—´å±‚å°è£…&quot; ï¼‰ ï¼Œå®ç°è¯»å†™æ“ä½œåˆ†ç¦»å’Œæ•°æ®åº“æœåŠ¡å™¨è¿æ¥çš„ç®¡ç†ã€‚ä¾‹å¦‚ï¼ŒåŸºäº Hibernate è¿›è¡Œç®€å•å°è£…ï¼Œå°±å¯ä»¥å®ç°è¯»å†™åˆ†ç¦»ï¼š</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-771eb01f-3f1a-4437-8e1b-affe4de36ec3.jpg" alt="ä¸šåŠ¡ä»£ç å°è£…" tabindex="0" loading="lazy"><figcaption>ä¸šåŠ¡ä»£ç å°è£…</figcaption></figure><p>ç›®å‰å¼€æºçš„å®ç°æ–¹æ¡ˆä¸­ï¼Œæ·˜å®çš„ TDDL ï¼ˆTaobao Distributed Data Layer, å¤–å·ï¼šå¤´éƒ½å¤§äº†ï¼‰æ˜¯æ¯”è¾ƒæœ‰åçš„ã€‚</p><ol start="2"><li>ä¸­é—´ä»¶å°è£…</li></ol><p>ä¸­é—´ä»¶å°è£…æŒ‡çš„æ˜¯ç‹¬ç«‹ä¸€å¥—ç³»ç»Ÿå‡ºæ¥ï¼Œå®ç°è¯»å†™æ“ä½œåˆ†ç¦»å’Œæ•°æ®åº“æœåŠ¡å™¨è¿æ¥çš„ç®¡ç†ã€‚ä¸­é—´ä»¶å¯¹ä¸šåŠ¡æœåŠ¡å™¨æä¾› SQL å…¼å®¹çš„åè®®ï¼Œä¸šåŠ¡æœåŠ¡å™¨æ— é¡»è‡ªå·±è¿›è¡Œè¯»å†™åˆ†ç¦»ã€‚</p><p>å¯¹äºä¸šåŠ¡æœåŠ¡å™¨æ¥è¯´ï¼Œè®¿é—®ä¸­é—´ä»¶å’Œè®¿é—®æ•°æ®åº“æ²¡æœ‰åŒºåˆ«ï¼Œäº‹å®ä¸Šåœ¨ä¸šåŠ¡æœåŠ¡å™¨çœ‹æ¥ï¼Œä¸­é—´ä»¶å°±æ˜¯ä¸€ä¸ªæ•°æ®åº“æœåŠ¡å™¨ã€‚</p><p>å…¶åŸºæœ¬æ¶æ„æ˜¯ï¼š</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-f2313613-25bd-4065-8f63-969a4b5757a7.jpg" alt="æ•°æ®åº“ä¸­é—´ä»¶" tabindex="0" loading="lazy"><figcaption>æ•°æ®åº“ä¸­é—´ä»¶</figcaption></figure><h3 id="_67-ä¸»ä»å¤åˆ¶åŸç†äº†è§£å—" tabindex="-1"><a class="header-anchor" href="#_67-ä¸»ä»å¤åˆ¶åŸç†äº†è§£å—"><span>67.ä¸»ä»å¤åˆ¶åŸç†äº†è§£å—ï¼Ÿ</span></a></h3><p>MySQL çš„ä¸»ä»å¤åˆ¶ï¼ˆMaster-Slave Replicationï¼‰æ˜¯ä¸€ç§æ•°æ®åŒæ­¥æœºåˆ¶ï¼Œç”¨äºå°†æ•°æ®ä»ä¸€ä¸ªä¸»æ•°æ®åº“ï¼ˆmasterï¼‰å¤åˆ¶åˆ°ä¸€ä¸ªæˆ–å¤šä¸ªä»æ•°æ®åº“ï¼ˆslaveï¼‰ã€‚</p><p>å¹¿æ³›ç”¨äºæ•°æ®å¤‡ä»½ã€ç¾éš¾æ¢å¤å’Œæ•°æ®åˆ†æç­‰åœºæ™¯ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-1bfbfcb5-2392-4f98-be1b-a66204da09e5.jpg" alt="ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šä¸»ä»å¤åˆ¶" tabindex="0" loading="lazy"><figcaption>ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šä¸»ä»å¤åˆ¶</figcaption></figure><p>å¤åˆ¶è¿‡ç¨‹çš„ä¸»è¦æ­¥éª¤æœ‰ï¼š</p><ul><li>åœ¨ä¸»æœåŠ¡å™¨ä¸Šï¼Œæ‰€æœ‰ä¿®æ”¹æ•°æ®çš„è¯­å¥ï¼ˆå¦‚ INSERTã€UPDATEã€DELETEï¼‰ä¼šè¢«è®°å½•åˆ°äºŒè¿›åˆ¶æ—¥å¿—ä¸­ã€‚</li><li>ä¸»æœåŠ¡å™¨ä¸Šçš„ä¸€ä¸ªçº¿ç¨‹ï¼ˆäºŒè¿›åˆ¶æ—¥å¿—è½¬å‚¨çº¿ç¨‹ï¼‰è´Ÿè´£è¯»å–äºŒè¿›åˆ¶æ—¥å¿—çš„å†…å®¹å¹¶å‘é€ç»™ä»æœåŠ¡å™¨ã€‚</li><li>ä»æœåŠ¡å™¨æ¥æ”¶åˆ°äºŒè¿›åˆ¶æ—¥å¿—æ•°æ®åï¼Œä¼šå°†è¿™äº›æ•°æ®å†™å…¥è‡ªå·±çš„ä¸­ç»§æ—¥å¿—ï¼ˆRelay Logï¼‰ã€‚ä¸­ç»§æ—¥å¿—æ˜¯ä»æœåŠ¡å™¨ä¸Šçš„ä¸€ä¸ªæœ¬åœ°å­˜å‚¨ã€‚</li><li>ä»æœåŠ¡å™¨ä¸Šæœ‰ä¸€ä¸ª SQL çº¿ç¨‹ä¼šè¯»å–ä¸­ç»§æ—¥å¿—ï¼Œå¹¶åœ¨æœ¬åœ°æ•°æ®åº“ä¸Šæ‰§è¡Œï¼Œä»è€Œå°†æ›´æ”¹åº”ç”¨åˆ°ä»æ•°æ®åº“ä¸­ï¼Œå®ŒæˆåŒæ­¥ã€‚</li></ul><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„è…¾è®¯äº‘æ™ºé¢ç»åŒå­¦ 16 ä¸€é¢é¢è¯•åŸé¢˜ï¼šMySQL çš„ä¸»ä»å¤åˆ¶è¿‡ç¨‹</li></ol></blockquote><h3 id="_68-ä¸»ä»åŒæ­¥å»¶è¿Ÿæ€ä¹ˆå¤„ç†" tabindex="-1"><a class="header-anchor" href="#_68-ä¸»ä»åŒæ­¥å»¶è¿Ÿæ€ä¹ˆå¤„ç†"><span>68.ä¸»ä»åŒæ­¥å»¶è¿Ÿæ€ä¹ˆå¤„ç†ï¼Ÿ</span></a></h3><p><strong>ä¸»ä»åŒæ­¥å»¶è¿Ÿçš„åŸå› </strong></p><p>ä¸€ä¸ªæœåŠ¡å™¨å¼€æ”¾ï¼®ä¸ªé“¾æ¥ç»™å®¢æˆ·ç«¯æ¥è¿æ¥çš„ï¼Œè¿™æ ·æœ‰ä¼šæœ‰å¤§å¹¶å‘çš„æ›´æ–°æ“ä½œ, ä½†æ˜¯ä»æœåŠ¡å™¨çš„é‡Œé¢è¯»å– binlog çš„çº¿ç¨‹ä»…æœ‰ä¸€ä¸ªï¼Œå½“æŸä¸ª SQL åœ¨ä»æœåŠ¡å™¨ä¸Šæ‰§è¡Œçš„æ—¶é—´ç¨é•¿ æˆ–è€…ç”±äºæŸä¸ª SQL è¦è¿›è¡Œé”è¡¨å°±ä¼šå¯¼è‡´ï¼Œä¸»æœåŠ¡å™¨çš„ SQL å¤§é‡ç§¯å‹ï¼Œæœªè¢«åŒæ­¥åˆ°ä»æœåŠ¡å™¨é‡Œã€‚è¿™å°±å¯¼è‡´äº†ä¸»ä»ä¸ä¸€è‡´ï¼Œ ä¹Ÿå°±æ˜¯ä¸»ä»å»¶è¿Ÿã€‚</p><p><strong>ä¸»ä»åŒæ­¥å»¶è¿Ÿçš„è§£å†³åŠæ³•</strong></p><p>è§£å†³ä¸»ä»å¤åˆ¶å»¶è¿Ÿæœ‰å‡ ç§å¸¸è§çš„æ–¹æ³•:</p><ol><li>å†™æ“ä½œåçš„è¯»æ“ä½œæŒ‡å®šå‘ç»™æ•°æ®åº“ä¸»æœåŠ¡å™¨</li></ol><p>ä¾‹å¦‚ï¼Œæ³¨å†Œè´¦å·å®Œæˆåï¼Œç™»å½•æ—¶è¯»å–è´¦å·çš„è¯»æ“ä½œä¹Ÿå‘ç»™æ•°æ®åº“ä¸»æœåŠ¡å™¨ã€‚è¿™ç§æ–¹å¼å’Œä¸šåŠ¡å¼ºç»‘å®šï¼Œå¯¹ä¸šåŠ¡çš„ä¾µå…¥å’Œå½±å“è¾ƒå¤§ï¼Œå¦‚æœå“ªä¸ªæ–°æ¥çš„ç¨‹åºå‘˜ä¸çŸ¥é“è¿™æ ·å†™ä»£ç ï¼Œå°±ä¼šå¯¼è‡´ä¸€ä¸ª bugã€‚</p><ol start="2"><li>è¯»ä»æœºå¤±è´¥åå†è¯»ä¸€æ¬¡ä¸»æœº</li></ol><p>è¿™å°±æ˜¯é€šå¸¸æ‰€è¯´çš„ &quot;äºŒæ¬¡è¯»å–&quot; ï¼ŒäºŒæ¬¡è¯»å–å’Œä¸šåŠ¡æ— ç»‘å®šï¼Œåªéœ€è¦å¯¹åº•å±‚æ•°æ®åº“è®¿é—®çš„ API è¿›è¡Œå°è£…å³å¯ï¼Œå®ç°ä»£ä»·è¾ƒå°ï¼Œä¸è¶³ä¹‹å¤„åœ¨äºå¦‚æœæœ‰å¾ˆå¤šäºŒæ¬¡è¯»å–ï¼Œå°†å¤§å¤§å¢åŠ ä¸»æœºçš„è¯»æ“ä½œå‹åŠ›ã€‚ä¾‹å¦‚ï¼Œé»‘å®¢æš´åŠ›ç ´è§£è´¦å·ï¼Œä¼šå¯¼è‡´å¤§é‡çš„äºŒæ¬¡è¯»å–æ“ä½œï¼Œä¸»æœºå¯èƒ½é¡¶ä¸ä½è¯»æ“ä½œçš„å‹åŠ›ä»è€Œå´©æºƒã€‚</p><ol start="3"><li>å…³é”®ä¸šåŠ¡è¯»å†™æ“ä½œå…¨éƒ¨æŒ‡å‘ä¸»æœºï¼Œéå…³é”®ä¸šåŠ¡é‡‡ç”¨è¯»å†™åˆ†ç¦»</li></ol><p>ä¾‹å¦‚ï¼Œå¯¹äºä¸€ä¸ªç”¨æˆ·ç®¡ç†ç³»ç»Ÿæ¥è¯´ï¼Œæ³¨å†Œ + ç™»å½•çš„ä¸šåŠ¡è¯»å†™æ“ä½œå…¨éƒ¨è®¿é—®ä¸»æœºï¼Œç”¨æˆ·çš„ä»‹ç»ã€çˆ°å¥½ã€ç­‰çº§ç­‰ä¸šåŠ¡ï¼Œå¯ä»¥é‡‡ç”¨è¯»å†™åˆ†ç¦»ï¼Œå› ä¸ºå³ä½¿ç”¨æˆ·æ”¹äº†è‡ªå·±çš„è‡ªæˆ‘ä»‹ç»ï¼Œåœ¨æŸ¥è¯¢æ—¶å´çœ‹åˆ°äº†è‡ªæˆ‘ä»‹ç»è¿˜æ˜¯æ—§çš„ï¼Œä¸šåŠ¡å½±å“ä¸ä¸èƒ½ç™»å½•ç›¸æ¯”å°±å°å¾ˆå¤šï¼Œè¿˜å¯ä»¥å¿å—ã€‚</p><h3 id="_69-ä½ ä»¬ä¸€èˆ¬æ˜¯æ€ä¹ˆåˆ†åº“çš„å‘¢" tabindex="-1"><a class="header-anchor" href="#_69-ä½ ä»¬ä¸€èˆ¬æ˜¯æ€ä¹ˆåˆ†åº“çš„å‘¢"><span>69.ä½ ä»¬ä¸€èˆ¬æ˜¯æ€ä¹ˆåˆ†åº“çš„å‘¢ï¼Ÿ</span></a></h3><p>åˆ†åº“åˆ†è¡¨æ˜¯ä¸ºäº†è§£å†³å•åº“å•è¡¨æ•°æ®é‡è¿‡å¤§å¯¼è‡´æ•°æ®åº“æ€§èƒ½ä¸‹é™çš„ä¸€ç§è§£å†³æ–¹æ¡ˆã€‚</p><p>åˆ†åº“çš„ç­–ç•¥æœ‰ä¸¤ç§ï¼š</p><p>â‘ ã€å‚ç›´åˆ†åº“ï¼šæŒ‰ç…§ä¸šåŠ¡æ¨¡å—å°†ä¸åŒçš„è¡¨æ‹†åˆ†åˆ°ä¸åŒçš„åº“ä¸­ï¼Œä¾‹å¦‚ï¼Œç”¨æˆ·è¡¨ã€è®¢å•è¡¨ã€å•†å“è¡¨ç­‰åˆ†åˆ°ä¸åŒçš„åº“ä¸­ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-2a43af18-617b-4502-b66a-894c2ff4c6c3.jpg" alt="ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šå‚ç›´åˆ†åº“" tabindex="0" loading="lazy"><figcaption>ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šå‚ç›´åˆ†åº“</figcaption></figure><p>â‘¡ã€æ°´å¹³åˆ†åº“ï¼šæŒ‰ç…§ä¸€å®šçš„ç­–ç•¥å°†ä¸€ä¸ªè¡¨ä¸­çš„æ•°æ®æ‹†åˆ†åˆ°å¤šä¸ªåº“ä¸­ï¼Œä¾‹å¦‚ï¼ŒæŒ‰ç…§ç”¨æˆ· id çš„ hash å€¼å°†ç”¨æˆ·è¡¨æ‹†åˆ†åˆ°ä¸åŒçš„åº“ä¸­ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-debe0fb1-d7f7-4ef2-8c99-13c9377138b6.jpg" alt="ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šæ°´å¹³åˆ†åº“" tabindex="0" loading="lazy"><figcaption>ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šæ°´å¹³åˆ†åº“</figcaption></figure><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å¿«æ‰‹é¢ç»åŒå­¦ 7 Java åç«¯æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šåˆ†åº“åˆ†è¡¨äº†è§£å—</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„åä¸ºé¢ç»åŒå­¦ 8 æŠ€æœ¯äºŒé¢é¢è¯•åŸé¢˜ï¼šè¯´è¯´åˆ†åº“åˆ†è¡¨çš„å‡†åˆ™</li></ol></blockquote><h3 id="_70-é‚£ä½ ä»¬æ˜¯æ€ä¹ˆåˆ†è¡¨çš„" tabindex="-1"><a class="header-anchor" href="#_70-é‚£ä½ ä»¬æ˜¯æ€ä¹ˆåˆ†è¡¨çš„"><span>70.é‚£ä½ ä»¬æ˜¯æ€ä¹ˆåˆ†è¡¨çš„ï¼Ÿ</span></a></h3><p>åœ¨<a href="https://javabetter.cn/zhishixingqiu/paicoding.html" target="_blank" rel="noopener noreferrer">æŠ€æœ¯æ´¾å®æˆ˜é¡¹ç›®</a>ä¸­ï¼Œæˆ‘ä»¬å°†æ–‡ç« çš„åŸºæœ¬ä¿¡æ¯å’Œæ–‡ç« è¯¦æƒ…åšäº†å‚ç›´åˆ†è¡¨å¤„ç†ï¼Œå› ä¸ºæ–‡ç« çš„è¯¦æƒ…ä¼šå ç”¨æ¯”è¾ƒå¤§çš„ç©ºé—´ï¼Œå¹¶ä¸”æ›´æ–°é¢‘ç¹ï¼Œè€Œæ–‡ç« çš„åŸºæœ¬ä¿¡æ¯å ç”¨çš„ç©ºé—´æ¯”è¾ƒå°ï¼Œä¸”æ›´æ–°é¢‘ç‡è¾ƒä½ã€‚</p><p>å‚ç›´æ‹†åˆ†å¯ä»¥å‡è½»å•è¡¨çš„æŸ¥è¯¢å’Œæ›´æ–°å‹åŠ›ã€‚</p><p>å½“å•è¡¨æ•°æ®å¢é‡è¿‡å¿«ï¼Œæ¯”å¦‚è¯´å•è¡¨è¶…è¿‡ 500 ä¸‡æ¡æ•°æ®ï¼Œå°±å¯ä»¥è€ƒè™‘æ°´å¹³åˆ†è¡¨äº†ã€‚æ¯”å¦‚è¯´æˆ‘ä»¬å¯ä»¥å°†æ–‡ç« è¡¨æ‹†åˆ†æˆå¤šä¸ªè¡¨ï¼Œå¦‚ article_0ã€article_9999ã€article_19999 ç­‰ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-7cba6ce0-c8bb-4f51-9c3b-e5a44e724c79.jpg" alt="ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šè¡¨æ‹†åˆ†" tabindex="0" loading="lazy"><figcaption>ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šè¡¨æ‹†åˆ†</figcaption></figure><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å¿«æ‰‹é¢ç»åŒå­¦ 7 Java åç«¯æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šåˆ†åº“åˆ†è¡¨äº†è§£å—</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„åä¸ºé¢ç»åŒå­¦ 8 æŠ€æœ¯äºŒé¢é¢è¯•åŸé¢˜ï¼šè¯´è¯´åˆ†åº“åˆ†è¡¨çš„å‡†åˆ™</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„è…¾è®¯é¢ç»åŒå­¦ 29 Java åç«¯ä¸€é¢åŸé¢˜ï¼šè¡¨å­˜æ»¡äº†ä¹‹åæ€ä¹ˆæ‰©è¡¨ï¼Ÿ</li></ol></blockquote><h3 id="_71-åˆ†ç‰‡ç­–ç•¥æœ‰å“ªå‡ ç§" tabindex="-1"><a class="header-anchor" href="#_71-åˆ†ç‰‡ç­–ç•¥æœ‰å“ªå‡ ç§"><span>71.åˆ†ç‰‡ç­–ç•¥æœ‰å“ªå‡ ç§ï¼Ÿ</span></a></h3><p>å¸¸è§çš„åˆ†ç‰‡ç­–ç•¥æœ‰ä¸‰ç§ï¼Œåˆ†åˆ«æ˜¯èŒƒå›´åˆ†ç‰‡ã€Hash åˆ†ç‰‡å’Œé…ç½®è·¯ç”±åˆ†ç‰‡ã€‚</p><p>èŒƒå›´åˆ†ç‰‡æ˜¯æ ¹æ®æŸä¸ªå­—æ®µçš„å€¼èŒƒå›´è¿›è¡Œåˆ†åº“åˆ†è¡¨ã€‚è¿™ç§æ–¹å¼é€‚ç”¨äºåˆ†ç‰‡é”®å…·æœ‰é¡ºåºæ€§æˆ–è¿ç»­æ€§çš„åœºæ™¯ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-b3882ca3-1d04-44e2-9015-7e6c867255a0.jpg" alt="ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šèŒƒå›´åˆ†ç‰‡" tabindex="0" loading="lazy"><figcaption>ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šèŒƒå›´åˆ†ç‰‡</figcaption></figure><p>æ¯”å¦‚è¯´å°† user_id ä½œä¸ºåˆ†ç‰‡é”®ï¼š</p><ul><li>1 ~ 10000 â†’ db1.user_1</li><li>10001 ~ 20000 â†’ db2.user_2</li></ul><p>Hash åˆ†ç‰‡æ˜¯æŒ‡é€šè¿‡å¯¹åˆ†ç‰‡é”®çš„å€¼è¿›è¡Œå“ˆå¸Œè¿ç®—ï¼Œå°†æ•°æ®å‡åŒ€åˆ†å¸ƒåˆ°å¤šä¸ªåˆ†ç‰‡ä¸­ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-e01e7757-c337-48c8-95db-2f7cfd2bc036.jpg" alt="ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šHash åˆ†ç‰‡" tabindex="0" loading="lazy"><figcaption>ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šHash åˆ†ç‰‡</figcaption></figure><p>å‡å¦‚æˆ‘ä»¬ä¸€å¼€å§‹è§„åˆ’å¥½äº† 4 ä¸ªæ•°æ®è¡¨ï¼Œé‚£ä¹ˆè·¯ç”±ç®—æ³•å¯ä»¥ç®€å•åœ°é€šè¿‡å–æ¨¡æ¥å®ç°ï¼š</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> String</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> getTableNameByHash</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">long</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> userId) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    int</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> tableIndex </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">) (userId </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">%</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 4</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;user_&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> +</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> tableIndex</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é…ç½®è·¯ç”±åˆ†ç‰‡æ˜¯é€šè¿‡è·¯ç”±é…ç½®æ¥ç¡®å®šæ•°æ®åº”è¯¥å­˜å‚¨åœ¨å“ªä¸ªè¡¨ï¼Œé€‚ç”¨äºåˆ†ç‰‡é”®ä¸è§„å¾‹çš„åœºæ™¯ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-fcd34332-d38d-455a-875d-d4afd37cac72.jpg" alt="ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šé…ç½®è·¯ç”±" tabindex="0" loading="lazy"><figcaption>ä¸‰åˆ†æ¶é¢æ¸£é€†è¢­ï¼šé…ç½®è·¯ç”±</figcaption></figure><p>æ¯”å¦‚è¯´æˆ‘ä»¬å¯ä»¥é€šè¿‡ order_router è¡¨æ¥ç¡®å®šè®¢å•æ•°æ®å­˜å‚¨åœ¨å“ªä¸ªè¡¨ä¸­ï¼š</p><table><thead><tr><th>order_id</th><th>table_id</th></tr></thead><tbody><tr><td>xxxx</td><td>table_1</td></tr><tr><td>yyyy</td><td>table_2</td></tr><tr><td>zzzz</td><td>table_3</td></tr></tbody></table><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„è…¾è®¯é¢ç»åŒå­¦ 24 é¢è¯•åŸé¢˜ï¼šé¡¹ç›®ä¸­çš„æ°´å¹³åˆ†è¡¨æ˜¯æ€ä¹ˆåšçš„ï¼Ÿåˆ†ç‰‡é”®å…·ä½“æ˜¯æ€ä¹ˆè®¾ç½®çš„ï¼Ÿ</li><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„è…¾è®¯é¢ç»åŒå­¦ 29 Java åç«¯ä¸€é¢åŸé¢˜ï¼šåˆ†åº“åˆ†è¡¨å…·ä½“çš„åˆ†ç‰‡ç­–ç•¥æ˜¯æ€ä¹ˆåšçš„ï¼Ÿ</li></ol></blockquote><h3 id="_72-ä¸åœæœºæ‰©å®¹æ€ä¹ˆå®ç°" tabindex="-1"><a class="header-anchor" href="#_72-ä¸åœæœºæ‰©å®¹æ€ä¹ˆå®ç°"><span>72.ä¸åœæœºæ‰©å®¹æ€ä¹ˆå®ç°ï¼Ÿ</span></a></h3><p>å®é™…ä¸Šï¼Œä¸åœæœºæ‰©å®¹ï¼Œå®æ“èµ·æ¥æ˜¯ä¸ªéå¸¸éº»çƒ¦è€Œä¸”å¾ˆæœ‰é£é™©çš„æ“ä½œï¼Œå½“ç„¶ï¼Œé¢è¯•å›ç­”èµ·æ¥å°±ç®€å•å¾ˆå¤šã€‚</p><ul><li><strong>ç¬¬ä¸€é˜¶æ®µï¼šåœ¨çº¿åŒå†™ï¼ŒæŸ¥è¯¢èµ°è€åº“</strong></li></ul><ol><li>å»ºç«‹å¥½æ–°çš„åº“è¡¨ç»“æ„ï¼Œæ•°æ®å†™å…¥ä¹…åº“çš„åŒæ—¶ï¼Œä¹Ÿå†™å…¥æ‹†åˆ†çš„æ–°åº“</li><li>æ•°æ®è¿ç§»ï¼Œä½¿ç”¨æ•°æ®è¿ç§»ç¨‹åºï¼Œå°†æ—§åº“ä¸­çš„å†å²æ•°æ®è¿ç§»åˆ°æ–°åº“</li><li>ä½¿ç”¨å®šæ—¶ä»»åŠ¡ï¼Œæ–°æ—§åº“çš„æ•°æ®å¯¹æ¯”ï¼ŒæŠŠå·®å¼‚è¡¥é½</li></ol><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-2d4d94c9-e816-47fc-93dd-a835b1318099.jpg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ul><li><strong>ç¬¬äºŒé˜¶æ®µï¼šåœ¨çº¿åŒå†™ï¼ŒæŸ¥è¯¢èµ°æ–°åº“</strong></li></ul><ol><li>å®Œæˆäº†å†å²æ•°æ®çš„åŒæ­¥å’Œæ ¡éªŒ</li><li>æŠŠå¯¹æ•°æ®çš„è¯»åˆ‡æ¢åˆ°æ–°åº“</li></ol><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-5cf01486-72c1-4eab-9f6e-a19c31569f46.jpg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ul><li><strong>ç¬¬ä¸‰é˜¶æ®µï¼šæ—§åº“ä¸‹çº¿</strong></li></ul><ol><li>æ—§åº“ä¸å†å†™å…¥æ–°çš„æ•°æ®</li><li>ç»è¿‡ä¸€æ®µæ—¶é—´ï¼Œç¡®å®šæ—§åº“æ²¡æœ‰è¯·æ±‚ä¹‹åï¼Œå°±å¯ä»¥ä¸‹çº¿è€åº“</li></ol><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/sidebar/sanfene/mysql-a122d6d5-fff2-4ccd-8ddb-a9282eb2e2da.jpg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="_73-æ€ä¹ˆåˆ†åº“åˆ†è¡¨" tabindex="-1"><a class="header-anchor" href="#_73-æ€ä¹ˆåˆ†åº“åˆ†è¡¨"><span>73.æ€ä¹ˆåˆ†åº“åˆ†è¡¨ï¼Ÿ</span></a></h3><p>å¦‚æœè¡¨çš„å­—æ®µè¿‡å¤šï¼Œæˆ‘ä¼šæŒ‰å­—æ®µçš„è®¿é—®é¢‘ç‡æˆ–åŠŸèƒ½ç›¸å…³æ€§æ‹†åˆ†æˆå¤šä¸ªè¡¨ï¼Œå‡å°‘å•è¡¨å®½åº¦ã€‚</p><p>å¦‚æœå•è¡¨æ•°æ®é‡è¿‡å¤§ï¼Œæˆ‘ä¼šæŒ‰ ID æˆ–æ—¶é—´å°†æ•°æ®åˆ†åˆ°å¤šå¼ è¡¨ä¸­ã€‚æ¯”å¦‚è®¢å•è¡¨å¯ä»¥æŒ‰ <code>user_id % N</code> è¿›è¡Œæ°´å¹³åˆ†è¡¨ã€‚</p><p>å¦‚æœä¸šåŠ¡æ¨¡å—è¾ƒå¤šï¼Œæˆ‘ä¼šå°†ä¸åŒæ¨¡å—çš„è¡¨åˆ†å¸ƒåˆ°ä¸åŒçš„æ•°æ®åº“ä¸­ï¼Œæ¯”å¦‚ç”¨æˆ·ç›¸å…³çš„è¡¨æ”¾åœ¨ä¸€ä¸ªåº“ï¼Œè®¢å•ç›¸å…³çš„è¡¨æ”¾åœ¨å¦ä¸€ä¸ªåº“ã€‚</p><p>å¦‚æœå•åº“æ•°æ®é‡è¿‡å¤§ï¼Œæˆ‘ä¼šæŒ‰ç”¨æˆ· ID èŒƒå›´æˆ–å“ˆå¸Œå€¼å°†æ•°æ®åˆ†å¸ƒåˆ°å¤šä¸ªåº“ä¸­ã€‚</p><h4 id="å¸¸ç”¨çš„åˆ†åº“åˆ†è¡¨ä¸­é—´ä»¶æœ‰å“ªäº›" tabindex="-1"><a class="header-anchor" href="#å¸¸ç”¨çš„åˆ†åº“åˆ†è¡¨ä¸­é—´ä»¶æœ‰å“ªäº›"><span>å¸¸ç”¨çš„åˆ†åº“åˆ†è¡¨ä¸­é—´ä»¶æœ‰å“ªäº›ï¼Ÿ</span></a></h4><p>å¸¸ç”¨çš„åˆ†åº“åˆ†è¡¨ä¸­é—´ä»¶æœ‰ Sharding-JDBC å’Œ Mycatã€‚</p><p>â‘ ã€Sharding-JDBC æœ€åˆç”±å½“å½“å¼€æºï¼Œåæ¥è´¡çŒ®ç»™äº† Apacheï¼Œä¸»è¦åœ¨ Java çš„ JDBC å±‚æä¾›é¢å¤–çš„æœåŠ¡ã€‚æ— éœ€é¢å¤–éƒ¨ç½²å’Œä¾èµ–ï¼Œå¯ç†è§£ä¸ºå¢å¼ºç‰ˆçš„ JDBC é©±åŠ¨ï¼Œå®Œå…¨å…¼å®¹ JDBC å’Œå„ç§ ORM æ¡†æ¶ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20241207120214.png" alt="AWSï¼šSharding-JDBC" tabindex="0" loading="lazy"><figcaption>AWSï¼šSharding-JDBC</figcaption></figure><p>â‘¡ã€Mycat æ˜¯ç”±é˜¿é‡Œå·´å·´çš„ä¸€æ¬¾äº§å“ Cobar è¡ç”Ÿè€Œæ¥ï¼Œå¯ä»¥æŠŠå®ƒçœ‹ä½œä¸€ä¸ªæ•°æ®åº“ä»£ç†ï¼Œå…¶æ ¸å¿ƒåŠŸèƒ½æ˜¯åˆ†è¡¨åˆ†åº“ï¼Œå³å°†ä¸€ä¸ªå¤§è¡¨åˆ‡ç‰‡ä¸ºå¤šä¸ªå°è¡¨ï¼Œä¸€ä¸ªå¤§åº“åˆ‡ç‰‡æˆå¤šä¸ªå°åº“ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20241207121845.png" alt="piwenfeiï¼šmycat" tabindex="0" loading="lazy"><figcaption>piwenfeiï¼šmycat</figcaption></figure><p>æ¨èé˜…è¯»ï¼š<a href="https://yanxizhu.com/index.php/archives/113/" target="_blank" rel="noopener noreferrer">mycat ä»‹ç»</a></p><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å¾—ç‰©é¢ç»åŒå­¦ 9 é¢è¯•é¢˜ç›®åŸé¢˜ï¼šMysqlæœ‰å¾ˆå¤§çš„æ•°æ®é‡æ€ä¹ˆåŠï¼Ÿæ€ä¹ˆåˆ†è¡¨åˆ†åº“ï¼Ÿ</li></ol></blockquote><h3 id="_74-ä½ è§‰å¾—åˆ†åº“åˆ†è¡¨ä¼šå¸¦æ¥ä»€ä¹ˆé—®é¢˜å‘¢" tabindex="-1"><a class="header-anchor" href="#_74-ä½ è§‰å¾—åˆ†åº“åˆ†è¡¨ä¼šå¸¦æ¥ä»€ä¹ˆé—®é¢˜å‘¢"><span>74.ä½ è§‰å¾—åˆ†åº“åˆ†è¡¨ä¼šå¸¦æ¥ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿ</span></a></h3><p>ä»åˆ†åº“çš„è§’åº¦æ¥è®²ï¼š</p><ul><li><strong>äº‹åŠ¡çš„é—®é¢˜</strong></li></ul><p>ä½¿ç”¨å…³ç³»å‹æ•°æ®åº“ï¼Œæœ‰å¾ˆå¤§ä¸€ç‚¹åœ¨äºå®ƒä¿è¯äº‹åŠ¡å®Œæ•´æ€§ã€‚</p><p>è€Œåˆ†åº“ä¹‹åå•æœºäº‹åŠ¡å°±ç”¨ä¸ä¸Šäº†ï¼Œå¿…é¡»ä½¿ç”¨åˆ†å¸ƒå¼äº‹åŠ¡æ¥è§£å†³ã€‚</p><ul><li><strong>è·¨åº“ JOIN é—®é¢˜</strong></li></ul><p>åœ¨ä¸€ä¸ªåº“ä¸­çš„æ—¶å€™æˆ‘ä»¬è¿˜å¯ä»¥åˆ©ç”¨ JOIN æ¥è¿è¡¨æŸ¥è¯¢ï¼Œè€Œè·¨åº“äº†ä¹‹åå°±æ— æ³•ä½¿ç”¨ JOIN äº†ã€‚</p><p>æ­¤æ—¶çš„è§£å†³æ–¹æ¡ˆå°±æ˜¯<strong>åœ¨ä¸šåŠ¡ä»£ç ä¸­è¿›è¡Œå…³è”</strong>ï¼Œä¹Ÿå°±æ˜¯å…ˆæŠŠä¸€ä¸ªè¡¨çš„æ•°æ®æŸ¥å‡ºæ¥ï¼Œç„¶åé€šè¿‡å¾—åˆ°çš„ç»“æœå†å»æŸ¥å¦ä¸€å¼ è¡¨ï¼Œç„¶ååˆ©ç”¨ä»£ç æ¥å…³è”å¾—åˆ°æœ€ç»ˆçš„ç»“æœã€‚</p><p>è¿™ç§æ–¹å¼å®ç°èµ·æ¥ç¨å¾®æ¯”è¾ƒå¤æ‚ï¼Œä¸è¿‡ä¹Ÿæ˜¯å¯ä»¥æ¥å—çš„ã€‚</p><p>è¿˜æœ‰å¯ä»¥<strong>é€‚å½“çš„å†—ä½™ä¸€äº›å­—æ®µ</strong>ã€‚æ¯”å¦‚ä»¥å‰çš„è¡¨å°±å­˜å‚¨ä¸€ä¸ªå…³è” IDï¼Œä½†æ˜¯ä¸šåŠ¡æ—¶å¸¸è¦æ±‚è¿”å›å¯¹åº”çš„ Name æˆ–è€…å…¶ä»–å­—æ®µã€‚è¿™æ—¶å€™å°±å¯ä»¥æŠŠè¿™äº›å­—æ®µå†—ä½™åˆ°å½“å‰è¡¨ä¸­ï¼Œæ¥å»é™¤éœ€è¦å…³è”çš„æ“ä½œã€‚</p><p>è¿˜æœ‰ä¸€ç§æ–¹å¼å°±æ˜¯<strong>æ•°æ®å¼‚æ„</strong>ï¼Œé€šè¿‡ binlog åŒæ­¥ç­‰æ–¹å¼ï¼ŒæŠŠéœ€è¦è·¨åº“ join çš„æ•°æ®å¼‚æ„åˆ° ES ç­‰å­˜å‚¨ç»“æ„ä¸­ï¼Œé€šè¿‡ ES è¿›è¡ŒæŸ¥è¯¢ã€‚</p><p>ä»åˆ†è¡¨çš„è§’åº¦æ¥çœ‹ï¼š</p><ul><li><strong>è·¨èŠ‚ç‚¹çš„ count,order by,group by ä»¥åŠèšåˆå‡½æ•°é—®é¢˜</strong></li></ul><p>åªèƒ½ç”±ä¸šåŠ¡ä»£ç æ¥å®ç°æˆ–è€…ç”¨ä¸­é—´ä»¶å°†å„è¡¨ä¸­çš„æ•°æ®æ±‡æ€»ã€æ’åºã€åˆ†é¡µç„¶åè¿”å›ã€‚</p><ul><li><strong>æ•°æ®è¿ç§»ï¼Œå®¹é‡è§„åˆ’ï¼Œæ‰©å®¹ç­‰é—®é¢˜</strong></li></ul><p>æ•°æ®çš„è¿ç§»ï¼Œå®¹é‡å¦‚ä½•è§„åˆ’ï¼Œæœªæ¥æ˜¯å¦å¯èƒ½å†æ¬¡éœ€è¦æ‰©å®¹ï¼Œç­‰ç­‰ï¼Œéƒ½æ˜¯éœ€è¦è€ƒè™‘çš„é—®é¢˜ã€‚</p><ul><li><strong>ID é—®é¢˜</strong></li></ul><p>æ•°æ®åº“è¡¨è¢«åˆ‡åˆ†åï¼Œä¸èƒ½å†ä¾èµ–æ•°æ®åº“è‡ªèº«çš„ä¸»é”®ç”Ÿæˆæœºåˆ¶ï¼Œæ‰€ä»¥éœ€è¦ä¸€äº›æ‰‹æ®µæ¥ä¿è¯å…¨å±€ä¸»é”®å”¯ä¸€ã€‚</p><ol><li>è¿˜æ˜¯è‡ªå¢ï¼Œåªä¸è¿‡è‡ªå¢æ­¥é•¿è®¾ç½®ä¸€ä¸‹ã€‚æ¯”å¦‚ç°åœ¨æœ‰ä¸‰å¼ è¡¨ï¼Œæ­¥é•¿è®¾ç½®ä¸º 3ï¼Œä¸‰å¼ è¡¨ ID åˆå§‹å€¼åˆ†åˆ«æ˜¯ 1ã€2ã€3ã€‚è¿™æ ·ç¬¬ä¸€å¼ è¡¨çš„ ID å¢é•¿æ˜¯ 1ã€4ã€7ã€‚ç¬¬äºŒå¼ è¡¨æ˜¯ 2ã€5ã€8ã€‚ç¬¬ä¸‰å¼ è¡¨æ˜¯ 3ã€6ã€9ï¼Œè¿™æ ·å°±ä¸ä¼šé‡å¤äº†ã€‚</li><li>UUIDï¼Œè¿™ç§æœ€ç®€å•ï¼Œä½†æ˜¯ä¸è¿ç»­çš„ä¸»é”®æ’å…¥ä¼šå¯¼è‡´ä¸¥é‡çš„é¡µåˆ†è£‚ï¼Œæ€§èƒ½æ¯”è¾ƒå·®ã€‚</li><li>åˆ†å¸ƒå¼ IDï¼Œæ¯”è¾ƒå‡ºåçš„å°±æ˜¯ Twitter å¼€æºçš„ sonwflake é›ªèŠ±ç®—æ³•</li></ol><h4 id="id-æ˜¯æ€ä¹ˆç”Ÿæˆçš„" tabindex="-1"><a class="header-anchor" href="#id-æ˜¯æ€ä¹ˆç”Ÿæˆçš„"><span>id æ˜¯æ€ä¹ˆç”Ÿæˆçš„ï¼Ÿ</span></a></h4><p><a href="https://javabetter.cn/zhishixingqiu/paicoding.html" target="_blank" rel="noopener noreferrer">æŠ€æœ¯æ´¾</a>é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬åœ¨é›ªèŠ±ç®—æ³• Snowflake çš„åŸºç¡€ä¸Šå®ç°äº†ä¸€å¥—è‡ªå®šä¹‰çš„ ID ç”Ÿæˆæ–¹æ¡ˆï¼Œé€šè¿‡æ›´æ”¹æ—¶é—´æˆ³å•ä½ã€ID é•¿åº¦ã€workId ä¸ dataCenterId çš„åˆ†é…æ¯”ä¾‹ï¼ŒID ç”Ÿæˆçš„å»¶è¿Ÿé™ä½äº† 20%ï¼›åŒæ—¶æ»¡è¶³äº†ç¤¾åŒºåœ¨é«˜å¹¶å‘ç¯å¢ƒä¸‹ ID çš„å”¯ä¸€æ€§å’Œå¯è¿½æº¯æ€§ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20241223150915.png" alt="æŠ€æœ¯æ´¾ï¼šè‡ªå®šä¹‰é›ªèŠ±ç®—æ³•ç®—æ³•" tabindex="0" loading="lazy"><figcaption>æŠ€æœ¯æ´¾ï¼šè‡ªå®šä¹‰é›ªèŠ±ç®—æ³•ç®—æ³•</figcaption></figure><h4 id="é›ªèŠ±ç®—æ³•å…·ä½“æ˜¯æ€ä¹ˆå®ç°çš„" tabindex="-1"><a class="header-anchor" href="#é›ªèŠ±ç®—æ³•å…·ä½“æ˜¯æ€ä¹ˆå®ç°çš„"><span>é›ªèŠ±ç®—æ³•å…·ä½“æ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿ</span></a></h4><p>é›ªèŠ±ç®—æ³•æ˜¯ Twitter å¼€æºçš„åˆ†å¸ƒå¼ ID ç”Ÿæˆç®—æ³•ï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯ï¼šä½¿ç”¨ä¸€ä¸ª 64 ä½çš„æ•°å­—æ¥ä½œä¸ºå…¨å±€å”¯ä¸€ IDã€‚</p><ul><li>ç¬¬ 1 ä½æ˜¯ç¬¦å·ä½ï¼Œæ°¸è¿œæ˜¯ 0ï¼Œè¡¨ç¤ºæ­£æ•°ã€‚</li><li>æ¥ä¸‹æ¥çš„ 41 ä½æ˜¯æ—¶é—´æˆ³ï¼Œè®°å½•çš„æ˜¯å½“å‰æ—¶é—´æˆ³å‡å»ä¸€ä¸ªå›ºå®šçš„å¼€å§‹æ—¶é—´æˆ³ï¼Œå¯ä»¥ä½¿ç”¨ 69 å¹´ã€‚</li><li>ç„¶åæ˜¯ 10 ä½çš„å·¥ä½œæœºå™¨ IDã€‚</li><li>æœ€åæ˜¯ 12 ä½çš„åºåˆ—å·ï¼Œæ¯æ¯«ç§’æœ€å¤šå¯ç”Ÿæˆ 4096 ä¸ª IDã€‚</li></ul><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20241223150351.png" alt="æŠ€æœ¯æ´¾ï¼šé›ªèŠ±ç®—æ³•" tabindex="0" loading="lazy"><figcaption>æŠ€æœ¯æ´¾ï¼šé›ªèŠ±ç®—æ³•</figcaption></figure><p>å¤§è‡´çš„å®ç°ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> SnowflakeIdGenerator</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    private</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> long</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> datacenterId </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1L</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // æ•°æ®ä¸­å¿ƒID</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    private</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> long</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> machineId </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1L</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // æœºå™¨ID</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    private</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> long</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> sequence </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0L</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // åºåˆ—å·</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    private</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> long</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> lastTimestamp </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> -</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1L</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> synchronized</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> long</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> nextId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        long</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> timestamp</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> System</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">currentTimeMillis</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (timestamp </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> lastTimestamp) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            sequence </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (sequence </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">+</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&amp;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 4095</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">            if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (sequence </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">                while</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (timestamp </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">==</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> lastTimestamp) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">                    timestamp </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> System</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">currentTimeMillis</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">                }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        } </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">else</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            sequence </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        lastTimestamp </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> timestamp;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        return</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ((timestamp </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1609459200000L</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;&lt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 22</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">|</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (datacenterId </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;&lt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 17</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">|</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (machineId </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;&lt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 12</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">|</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> sequence;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é™¤äº†é›ªèŠ±ç®—æ³•ï¼Œè¿˜æœ‰ç™¾åº¦ UidGeneratorã€ç¾å›¢ Leaf ç­‰å¼€æºçš„åˆ†å¸ƒå¼ ID ç”Ÿæˆæ–¹æ¡ˆã€‚</p><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„è…¾è®¯é¢ç»åŒå­¦ 29 Java åç«¯ä¸€é¢åŸé¢˜ï¼šidæ˜¯æ€ä¹ˆç”Ÿæˆçš„ï¼Ÿï¼ˆåˆ†å¸ƒå¼è‡ªå¢ä¸»é”®ï¼‰</li></ol></blockquote><!----><h2 id="è¿ç»´" tabindex="-1"><a class="header-anchor" href="#è¿ç»´"><span>è¿ç»´</span></a></h2><h3 id="_75-ç™¾ä¸‡çº§åˆ«ä»¥ä¸Šçš„æ•°æ®å¦‚ä½•åˆ é™¤" tabindex="-1"><a class="header-anchor" href="#_75-ç™¾ä¸‡çº§åˆ«ä»¥ä¸Šçš„æ•°æ®å¦‚ä½•åˆ é™¤"><span>75.ç™¾ä¸‡çº§åˆ«ä»¥ä¸Šçš„æ•°æ®å¦‚ä½•åˆ é™¤ï¼Ÿ</span></a></h3><p>å…³äºç´¢å¼•ï¼šç”±äºç´¢å¼•éœ€è¦é¢å¤–çš„ç»´æŠ¤æˆæœ¬ï¼Œå› ä¸ºç´¢å¼•æ–‡ä»¶æ˜¯å•ç‹¬å­˜åœ¨çš„æ–‡ä»¶,æ‰€ä»¥å½“æˆ‘ä»¬å¯¹æ•°æ®çš„å¢åŠ ,ä¿®æ”¹,åˆ é™¤,éƒ½ä¼šäº§ç”Ÿé¢å¤–çš„å¯¹ç´¢å¼•æ–‡ä»¶çš„æ“ä½œ,è¿™äº›æ“ä½œéœ€è¦æ¶ˆè€—é¢å¤–çš„ IO,ä¼šé™ä½å¢/æ”¹/åˆ çš„æ‰§è¡Œæ•ˆç‡ã€‚</p><p>æ‰€ä»¥ï¼Œåœ¨æˆ‘ä»¬åˆ é™¤æ•°æ®åº“ç™¾ä¸‡çº§åˆ«æ•°æ®çš„æ—¶å€™ï¼ŒæŸ¥è¯¢ MySQL å®˜æ–¹æ‰‹å†Œå¾—çŸ¥åˆ é™¤æ•°æ®çš„é€Ÿåº¦å’Œåˆ›å»ºçš„ç´¢å¼•æ•°é‡æ˜¯æˆæ­£æ¯”çš„ã€‚</p><ol><li>æ‰€ä»¥æˆ‘ä»¬æƒ³è¦åˆ é™¤ç™¾ä¸‡æ•°æ®çš„æ—¶å€™å¯ä»¥å…ˆåˆ é™¤ç´¢å¼•</li><li>ç„¶ååˆ é™¤å…¶ä¸­æ— ç”¨æ•°æ®</li><li>åˆ é™¤å®Œæˆåé‡æ–°åˆ›å»ºç´¢å¼•åˆ›å»ºç´¢å¼•ä¹Ÿéå¸¸å¿«</li></ol><h3 id="_76-ç™¾ä¸‡åƒä¸‡çº§å¤§è¡¨å¦‚ä½•æ·»åŠ å­—æ®µ" tabindex="-1"><a class="header-anchor" href="#_76-ç™¾ä¸‡åƒä¸‡çº§å¤§è¡¨å¦‚ä½•æ·»åŠ å­—æ®µ"><span>76.ç™¾ä¸‡åƒä¸‡çº§å¤§è¡¨å¦‚ä½•æ·»åŠ å­—æ®µï¼Ÿ</span></a></h3><p>å½“çº¿ä¸Šçš„æ•°æ®åº“æ•°æ®é‡åˆ°è¾¾å‡ ç™¾ä¸‡ã€ä¸Šåƒä¸‡çš„æ—¶å€™ï¼ŒåŠ ä¸€ä¸ªå­—æ®µå°±æ²¡é‚£ä¹ˆç®€å•ï¼Œå› ä¸ºå¯èƒ½ä¼šé•¿æ—¶é—´é”è¡¨ã€‚</p><p>å¤§è¡¨æ·»åŠ å­—æ®µï¼Œé€šå¸¸æœ‰è¿™äº›åšæ³•ï¼š</p><ul><li>é€šè¿‡ä¸­é—´è¡¨è½¬æ¢è¿‡å»</li></ul><p>åˆ›å»ºä¸€ä¸ªä¸´æ—¶çš„æ–°è¡¨ï¼ŒæŠŠæ—§è¡¨çš„ç»“æ„å®Œå…¨å¤åˆ¶è¿‡å»ï¼Œæ·»åŠ å­—æ®µï¼Œå†æŠŠæ—§è¡¨æ•°æ®å¤åˆ¶è¿‡å»ï¼Œåˆ é™¤æ—§è¡¨ï¼Œæ–°è¡¨å‘½åä¸ºæ—§è¡¨çš„åç§°ï¼Œè¿™ç§æ–¹å¼å¯èƒ½å›ä¸¢æ‰ä¸€äº›æ•°æ®ã€‚</p><ul><li>ç”¨ pt-online-schema-change</li></ul><p><code>pt-online-schema-change</code>æ˜¯ percona å…¬å¸å¼€å‘çš„ä¸€ä¸ªå·¥å…·ï¼Œå®ƒå¯ä»¥åœ¨çº¿ä¿®æ”¹è¡¨ç»“æ„ï¼Œå®ƒçš„åŸç†ä¹Ÿæ˜¯é€šè¿‡ä¸­é—´è¡¨ã€‚</p><ul><li>å…ˆåœ¨ä»åº“æ·»åŠ  å†è¿›è¡Œä¸»ä»åˆ‡æ¢</li></ul><p>å¦‚æœä¸€å¼ è¡¨æ•°æ®é‡å¤§ä¸”æ˜¯çƒ­è¡¨ï¼ˆè¯»å†™ç‰¹åˆ«é¢‘ç¹ï¼‰ï¼Œåˆ™å¯ä»¥è€ƒè™‘å…ˆåœ¨ä»åº“æ·»åŠ ï¼Œå†è¿›è¡Œä¸»ä»åˆ‡æ¢ï¼Œåˆ‡æ¢åå†å°†å…¶ä»–å‡ ä¸ªèŠ‚ç‚¹ä¸Šæ·»åŠ å­—æ®µã€‚</p><h3 id="_77-mysql-cpu-é£™å‡çš„è¯-è¦æ€ä¹ˆå¤„ç†å‘¢" tabindex="-1"><a class="header-anchor" href="#_77-mysql-cpu-é£™å‡çš„è¯-è¦æ€ä¹ˆå¤„ç†å‘¢"><span>77.MySQL cpu é£™å‡çš„è¯ï¼Œè¦æ€ä¹ˆå¤„ç†å‘¢ï¼Ÿ</span></a></h3><p>æ’æŸ¥è¿‡ç¨‹ï¼š</p><p>ï¼ˆ1ï¼‰ä½¿ç”¨ top å‘½ä»¤è§‚å¯Ÿï¼Œç¡®å®šæ˜¯ mysqld å¯¼è‡´è¿˜æ˜¯å…¶ä»–åŸå› ã€‚</p><p>ï¼ˆ2ï¼‰å¦‚æœæ˜¯ mysqld å¯¼è‡´çš„ï¼Œshow processlistï¼ŒæŸ¥çœ‹ session æƒ…å†µï¼Œç¡®å®šæ˜¯ä¸æ˜¯æœ‰æ¶ˆè€—èµ„æºçš„ sql åœ¨è¿è¡Œã€‚</p><p>ï¼ˆ3ï¼‰æ‰¾å‡ºæ¶ˆè€—é«˜çš„ sqlï¼Œçœ‹çœ‹æ‰§è¡Œè®¡åˆ’æ˜¯å¦å‡†ç¡®ï¼Œ ç´¢å¼•æ˜¯å¦ç¼ºå¤±ï¼Œæ•°æ®é‡æ˜¯å¦å¤ªå¤§ã€‚</p><p>å¤„ç†ï¼š</p><p>ï¼ˆ1ï¼‰kill æ‰è¿™äº›çº¿ç¨‹ (åŒæ—¶è§‚å¯Ÿ cpu ä½¿ç”¨ç‡æ˜¯å¦ä¸‹é™)ï¼Œ</p><p>ï¼ˆ2ï¼‰è¿›è¡Œç›¸åº”çš„è°ƒæ•´ (æ¯”å¦‚è¯´åŠ ç´¢å¼•ã€æ”¹ sqlã€æ”¹å†…å­˜å‚æ•°)</p><p>ï¼ˆ3ï¼‰é‡æ–°è·‘è¿™äº› SQLã€‚</p><p>å…¶ä»–æƒ…å†µï¼š</p><p>ä¹Ÿæœ‰å¯èƒ½æ˜¯æ¯ä¸ª sql æ¶ˆè€—èµ„æºå¹¶ä¸å¤šï¼Œä½†æ˜¯çªç„¶ä¹‹é—´ï¼Œæœ‰å¤§é‡çš„ session è¿è¿›æ¥å¯¼è‡´ cpu é£™å‡ï¼Œè¿™ç§æƒ…å†µå°±éœ€è¦è·Ÿåº”ç”¨ä¸€èµ·æ¥åˆ†æä¸ºä½•è¿æ¥æ•°ä¼šæ¿€å¢ï¼Œå†åšå‡ºç›¸åº”çš„è°ƒæ•´ï¼Œæ¯”å¦‚è¯´é™åˆ¶è¿æ¥æ•°ç­‰</p><h2 id="sql-é¢˜" tabindex="-1"><a class="header-anchor" href="#sql-é¢˜"><span>SQL é¢˜</span></a></h2><h3 id="_78-ä¸€å¼ è¡¨-id-name-age-sex-class-sql-è¯­å¥-æ‰€æœ‰å¹´é¾„ä¸º-18-çš„äººçš„åå­—-æ‰¾åˆ°æ¯ä¸ªç­å¹´é¾„å¤§äº-18-æœ‰å¤šå°‘äºº-æ‰¾åˆ°æ¯ä¸ªç­å¹´é¾„æ’å‰ä¸¤åçš„äºº-è¡¥å……" tabindex="-1"><a class="header-anchor" href="#_78-ä¸€å¼ è¡¨-id-name-age-sex-class-sql-è¯­å¥-æ‰€æœ‰å¹´é¾„ä¸º-18-çš„äººçš„åå­—-æ‰¾åˆ°æ¯ä¸ªç­å¹´é¾„å¤§äº-18-æœ‰å¤šå°‘äºº-æ‰¾åˆ°æ¯ä¸ªç­å¹´é¾„æ’å‰ä¸¤åçš„äºº-è¡¥å……"><span>78.ä¸€å¼ è¡¨ï¼šidï¼Œnameï¼Œageï¼Œsexï¼Œclassï¼Œsql è¯­å¥ï¼šæ‰€æœ‰å¹´é¾„ä¸º 18 çš„äººçš„åå­—ï¼Ÿæ‰¾åˆ°æ¯ä¸ªç­å¹´é¾„å¤§äº 18 æœ‰å¤šå°‘äººï¼Ÿæ‰¾åˆ°æ¯ä¸ªç­å¹´é¾„æ’å‰ä¸¤åçš„äººï¼Ÿï¼ˆè¡¥å……ï¼‰</span></a></h3><blockquote><p>è¿™æ˜¯ä¸€é“ SQL é¢˜ï¼Œä¸»è¦è€ƒå¯Ÿ SQL çš„åŸºæœ¬è¯­æ³•ã€‚å»ºè®®å¤§å®¶ç›´æ¥åœ¨æœ¬åœ°å»ºè¡¨ï¼Œç„¶åå®æ“ä¸€ä¸‹ã€‚ 2024 å¹´ 04 æœˆ 11 æ—¥å¢è¡¥ã€‚</p></blockquote><p>ç¬¬ä¸€æ­¥ï¼Œå»ºè¡¨ï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> TABLE</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> students</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    id </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">INT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> AUTO_INCREMENT </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">PRIMARY KEY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    name</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> VARCHAR</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">50</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    age </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">INT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    sex </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CHAR</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    class </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">VARCHAR</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">50</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç¬¬äºŒæ­¥ï¼Œæ’å…¥æ•°æ®ï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">INSERT INTO</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> students (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, age, sex, class) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">VALUES</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;æ²‰é»˜ç‹äºŒ&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">18</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;å¥³&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;ä¸‰å¹´äºŒç­&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;æ²‰é»˜ç‹ä¸€&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">20</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;ç”·&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;ä¸‰å¹´äºŒç­&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;æ²‰é»˜ç‹ä¸‰&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">19</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;ç”·&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;ä¸‰å¹´ä¸‰ç­&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;æ²‰é»˜ç‹å››&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">17</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;ç”·&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;ä¸‰å¹´ä¸‰ç­&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;æ²‰é»˜ç‹äº”&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">20</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;å¥³&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;ä¸‰å¹´å››ç­&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;æ²‰é»˜ç‹å…­&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">21</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;ç”·&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;ä¸‰å¹´å››ç­&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;æ²‰é»˜ç‹ä¸ƒ&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">18</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;å¥³&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;ä¸‰å¹´å››ç­&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>â‘ ã€æ‰€æœ‰å¹´é¾„ä¸º 18 çš„äººçš„åå­—</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> name</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> students </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> age </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 18</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>è¿™æ¡ SQL è¯­å¥ä»è¡¨ä¸­é€‰æ‹©<code>age</code>ç­‰äº 18 çš„æ‰€æœ‰è®°å½•ï¼Œå¹¶è¿”å›è¿™äº›è®°å½•çš„<code>name</code>å­—æ®µã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240410105325.png" alt="äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯</figcaption></figure><p>â‘¡ã€æ‰¾åˆ°æ¯ä¸ªç­å¹´é¾„å¤§äº 18 æœ‰å¤šå°‘äºº</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> class, </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">COUNT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(*) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">AS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> number_of_students</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> students</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> age </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 18</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">GROUP BY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> class;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ¡ SQL è¯­å¥å…ˆç­›é€‰å‡ºå¹´é¾„å¤§äº 18 çš„è®°å½•ï¼Œç„¶åæŒ‰<code>class</code>åˆ†ç»„ï¼Œå¹¶è®¡ç®—æ¯ä¸ªç­çš„å­¦ç”Ÿæ•°ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240410105512.png" alt="äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯</figcaption></figure><p>â‘¢ã€æ‰¾åˆ°æ¯ä¸ªç­å¹´é¾„æ’å‰ä¸¤åçš„äºº</p><p>è¿™ä¸ªæŸ¥è¯¢ç¨å¾®å¤æ‚ä¸€äº›ï¼Œéœ€è¦ä½¿ç”¨å­æŸ¥è¯¢å’Œ<code>COUNT</code>å‡½æ•°ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">class</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">age</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> students a</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    SELECT</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> COUNT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">DISTINCT</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">age</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> students b</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    WHERE</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">class</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">class</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> AND</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">age</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> &gt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">age</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">ORDER BY</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">class</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">age</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> DESC</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ¡ SQL è¯­å¥é¦–å…ˆä»<code>students</code>è¡¨ä¸­é€‰æ‹©<code>class</code>ã€<code>name</code>å’Œ<code>age</code>å­—æ®µï¼Œç„¶åä½¿ç”¨å­æŸ¥è¯¢è®¡ç®—æ¯ä¸ªç­çº§ä¸­å¹´é¾„æ’å‰ä¸¤åçš„å­¦ç”Ÿã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240410105951.png" alt="äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯</figcaption></figure><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å¥‡å®‰ä¿¡é¢ç»åŒå­¦ 1 Java æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šä¸€å¼ è¡¨ï¼šidï¼Œnameï¼Œageï¼Œsexï¼Œclassï¼Œsql è¯­å¥ï¼šæ‰€æœ‰å¹´é¾„ä¸º 18 çš„äººçš„åå­—ï¼Ÿæ‰¾åˆ°æ¯ä¸ªç­å¹´é¾„å¤§äº 18 æœ‰å¤šå°‘äººï¼Ÿæ‰¾åˆ°æ¯ä¸ªç­å¹´é¾„æ’å‰ä¸¤åçš„äººï¼Ÿ</li></ol></blockquote><h3 id="_79-æœ‰ä¸€ä¸ªæŸ¥è¯¢éœ€æ±‚-mysql-ä¸­æœ‰ä¸¤ä¸ªè¡¨-ä¸€ä¸ªè¡¨-1000w-æ•°æ®-å¦ä¸€ä¸ªè¡¨åªæœ‰å‡ åƒæ•°æ®-è¦åšä¸€ä¸ªå…³è”æŸ¥è¯¢-å¦‚ä½•ä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#_79-æœ‰ä¸€ä¸ªæŸ¥è¯¢éœ€æ±‚-mysql-ä¸­æœ‰ä¸¤ä¸ªè¡¨-ä¸€ä¸ªè¡¨-1000w-æ•°æ®-å¦ä¸€ä¸ªè¡¨åªæœ‰å‡ åƒæ•°æ®-è¦åšä¸€ä¸ªå…³è”æŸ¥è¯¢-å¦‚ä½•ä¼˜åŒ–"><span>79.æœ‰ä¸€ä¸ªæŸ¥è¯¢éœ€æ±‚ï¼ŒMySQL ä¸­æœ‰ä¸¤ä¸ªè¡¨ï¼Œä¸€ä¸ªè¡¨ 1000W æ•°æ®ï¼Œå¦ä¸€ä¸ªè¡¨åªæœ‰å‡ åƒæ•°æ®ï¼Œè¦åšä¸€ä¸ªå…³è”æŸ¥è¯¢ï¼Œå¦‚ä½•ä¼˜åŒ–</span></a></h3><p>å¦‚æœ orders è¡¨æ˜¯å¤§è¡¨ï¼ˆæ¯”å¦‚ 1000 ä¸‡æ¡è®°å½•ï¼‰ï¼Œè€Œ users è¡¨æ˜¯ç›¸å¯¹è¾ƒå°çš„è¡¨ï¼ˆæ¯”å¦‚å‡ åƒæ¡è®°å½•ï¼‰ã€‚</p><p><strong>â‘ ã€ä¸ºå…³è”å­—æ®µå»ºç«‹ç´¢å¼•</strong>ï¼Œç¡®ä¿ä¸¤ä¸ªè¡¨ä¸­ç”¨äº JOIN æ“ä½œçš„å­—æ®µéƒ½æœ‰ç´¢å¼•ã€‚è¿™æ˜¯æœ€åŸºæœ¬çš„ä¼˜åŒ–ç­–ç•¥ï¼Œé¿å…æ•°æ®åº“è¿›è¡Œå…¨è¡¨æ‰«æï¼Œå¯ä»¥å¤§å¹…åº¦å‡å°‘æŸ¥æ‰¾åŒ¹é…è¡Œçš„æ—¶é—´ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> INDEX</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> idx_user_id</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> ON</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> users(user_id);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> INDEX</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> idx_user_id</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> ON</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> orders(user_id);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>â‘¡ã€å°è¡¨é©±åŠ¨å¤§è¡¨</strong>ï¼Œåœ¨æ‰§è¡Œ JOIN æ“ä½œæ—¶ï¼Œå…ˆè¿‡æ»¤å°è¡¨ä¸­çš„æ•°æ®ï¼Œè¿™æ ·å¯ä»¥å‡å°‘åç»­ä¸å¤§è¡¨è¿›è¡Œ JOIN æ—¶éœ€è¦å¤„ç†çš„æ•°æ®é‡ï¼Œä»è€Œæé«˜æŸ¥è¯¢æ•ˆç‡ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> u.*, o.*</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> user_id</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> users</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    WHERE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> some_condition  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- è¿™é‡Œæ˜¯å¯¹å°è¡¨è¿›è¡Œè¿‡æ»¤çš„æ¡ä»¶</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">AS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> filtered_users</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">JOIN</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> orders o </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">ON</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> filtered_users</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">user_id</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> o</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">user_id</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">WHERE</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> o</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">some_order_condition</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">-- å¦‚æœéœ€è¦ï¼Œå¯ä»¥è¿›ä¸€æ­¥è¿‡æ»¤å¤§è¡¨</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„äº¬ä¸œé¢ç»åŒå­¦ 1 Java æŠ€æœ¯ä¸€é¢é¢è¯•åŸé¢˜ï¼šæœ‰ä¸€ä¸ªæŸ¥è¯¢éœ€æ±‚ï¼ŒMySQL ä¸­æœ‰ä¸¤ä¸ªè¡¨ï¼Œä¸€ä¸ªè¡¨ 1000W æ•°æ®ï¼Œå¦ä¸€ä¸ªè¡¨åªæœ‰å‡ åƒæ•°æ®ï¼Œè¦åšä¸€ä¸ªå…³è”æŸ¥è¯¢ï¼Œå¦‚ä½•ä¼˜åŒ–</li></ol></blockquote><h3 id="_80-æ–°å»ºä¸€ä¸ªè¡¨ç»“æ„-åˆ›å»ºç´¢å¼•-å°†ç™¾ä¸‡æˆ–åƒä¸‡çº§çš„æ•°æ®ä½¿ç”¨-insert-å¯¼å…¥è¯¥è¡¨-æ–°å»ºä¸€ä¸ªè¡¨ç»“æ„-å°†ç™¾ä¸‡æˆ–åƒä¸‡çº§çš„æ•°æ®ä½¿ç”¨-isnert-å¯¼å…¥è¯¥è¡¨-å†åˆ›å»ºç´¢å¼•-è¿™ä¸¤ç§æ•ˆç‡å“ªä¸ªé«˜å‘¢-æˆ–è€…è¯´ç”¨æ—¶çŸ­å‘¢" tabindex="-1"><a class="header-anchor" href="#_80-æ–°å»ºä¸€ä¸ªè¡¨ç»“æ„-åˆ›å»ºç´¢å¼•-å°†ç™¾ä¸‡æˆ–åƒä¸‡çº§çš„æ•°æ®ä½¿ç”¨-insert-å¯¼å…¥è¯¥è¡¨-æ–°å»ºä¸€ä¸ªè¡¨ç»“æ„-å°†ç™¾ä¸‡æˆ–åƒä¸‡çº§çš„æ•°æ®ä½¿ç”¨-isnert-å¯¼å…¥è¯¥è¡¨-å†åˆ›å»ºç´¢å¼•-è¿™ä¸¤ç§æ•ˆç‡å“ªä¸ªé«˜å‘¢-æˆ–è€…è¯´ç”¨æ—¶çŸ­å‘¢"><span>80.æ–°å»ºä¸€ä¸ªè¡¨ç»“æ„ï¼Œåˆ›å»ºç´¢å¼•ï¼Œå°†ç™¾ä¸‡æˆ–åƒä¸‡çº§çš„æ•°æ®ä½¿ç”¨ insert å¯¼å…¥è¯¥è¡¨ï¼Œæ–°å»ºä¸€ä¸ªè¡¨ç»“æ„ï¼Œå°†ç™¾ä¸‡æˆ–åƒä¸‡çº§çš„æ•°æ®ä½¿ç”¨ isnert å¯¼å…¥è¯¥è¡¨ï¼Œå†åˆ›å»ºç´¢å¼•ï¼Œè¿™ä¸¤ç§æ•ˆç‡å“ªä¸ªé«˜å‘¢ï¼Ÿæˆ–è€…è¯´ç”¨æ—¶çŸ­å‘¢ï¼Ÿ</span></a></h3><p>talk is cheapï¼Œshow me the codeã€‚</p><p>å…ˆåˆ›å»ºä¸€ä¸ªè¡¨ï¼Œç„¶ååˆ›å»ºç´¢å¼•ï¼Œç„¶åæ‰§è¡Œæ’å…¥è¯­å¥ï¼Œæ¥çœ‹çœ‹æ‰§è¡Œæ—¶é—´ï¼ˆ100 ä¸‡æ•°æ®åœ¨æˆ‘æœ¬æœºä¸Šæ‰§è¡Œæ—¶é—´æ¯”è¾ƒé•¿ï¼Œæˆ‘ä»¬å°±ç”¨ 10 ä¸‡æ¡æ•°æ®æ¥æµ‹è¯•ï¼‰ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> TABLE</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> test_table</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    id </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">BIGINT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> AUTO_INCREMENT </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">PRIMARY KEY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    name</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> VARCHAR</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">255</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">NOT NULL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    email </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">VARCHAR</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">255</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">NOT NULL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    created_at </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">DATETIME</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> NOT NULL</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> INDEX</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> idx_name</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> ON</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> test_table(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">DELIMITER //</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> PROCEDURE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> insert_data()</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">BEGIN</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    DECLARE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> i </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">INT</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> DEFAULT</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    WHILE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> i </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1000000</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> DO</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        INSERT INTO</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> test_table(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, email, created_at)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        VALUES</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">CONCAT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;wanger&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,i), </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">CONCAT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;email&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, i, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;@example.com&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">NOW</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">());</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        SET</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> i </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> i + </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    END</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> WHILE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">END</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> //</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">DELIMITER ;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CALL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> insert_data();</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ˜¯ä¸€ä¸ªå®Œæ•´çš„æµ‹è¯•è¿‡ç¨‹ï¼Œé€šè¿‡å­˜å‚¨è¿‡ç¨‹æ¥æ‰§è¡Œæ’å…¥æ“ä½œï¼Œç„¶åæŸ¥çœ‹æ€»çš„æ‰§è¡Œæ—¶é—´ã€‚</p><p>åœ¨å®é™…çš„å¼€å‘å·¥ä½œä¸­ï¼Œå¯èƒ½æ¶‰åŠåˆ°æŒä¹…å±‚æ¡†æ¶ï¼Œè¿˜æœ‰æ‰¹é‡æ’å…¥ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240412083019.png" alt="äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯</figcaption></figure><p>æ€»çš„æ—¶é—´ 13.93+0.01+0.01+0.01=13.96 ç§’ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†åˆ›å»ºä¸€ä¸ªè¡¨ï¼Œç„¶åæ‰§è¡Œæ’å…¥æ“ä½œï¼Œæœ€åå†åˆ›å»ºç´¢å¼•ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> TABLE</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> test_table_no_index</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    id </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">BIGINT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> AUTO_INCREMENT </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">PRIMARY KEY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    name</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> VARCHAR</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">255</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">NOT NULL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    email </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">VARCHAR</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">255</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">NOT NULL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    created_at </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">DATETIME</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> NOT NULL</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">DELIMITER //</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> PROCEDURE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> insert_data_no_index()</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">BEGIN</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    DECLARE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> i </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">INT</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> DEFAULT</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    WHILE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> i </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1000000</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> DO</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        INSERT INTO</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> test_table_no_index(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, email, created_at)</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        VALUES</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">CONCAT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;wanger&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, i), </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">CONCAT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;email&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, i, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;@example.com&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">NOW</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">());</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        SET</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> i </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> i + </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    END</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> WHILE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">END</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> //</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">DELIMITER ;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CALL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> insert_data_no_index();</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> INDEX</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> idx_name_no_index</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> ON</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> test_table_no_index(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ¥çœ‹ä¸€ä¸‹æ€»çš„æ—¶é—´ï¼Œ0.01+0.00+13.08+0.18=13.27 ç§’ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240412083312.png" alt="äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯</figcaption></figure><p>å…ˆæ’å…¥æ•°æ®å†åˆ›å»ºç´¢å¼•çš„æ–¹å¼ï¼ˆ13.27 ç§’ï¼‰æ¯”å…ˆåˆ›å»ºç´¢å¼•å†æ’å…¥æ•°æ®ï¼ˆ13.96 ç§’ï¼‰è¦å¿«ä¸€äº›ã€‚è¿™ä¸ªç»“æœè™½ç„¶æ˜¾ç¤ºæ—¶é—´å·®å¼‚ä¸æ˜¯éå¸¸å¤§ï¼Œä½†å®ƒç¡®å®åæ˜ äº†æ•°æ®åº“å¤„ç†å¤§é‡æ•°æ®æ’å…¥æ—¶çš„æ€§èƒ½ç‰¹ç‚¹ã€‚</p><ul><li><strong>å…ˆæ’å…¥æ•°æ®å†åˆ›å»ºç´¢å¼•</strong>ï¼šåœ¨æ²¡æœ‰ç´¢å¼•çš„æƒ…å†µä¸‹æ’å…¥æ•°æ®ï¼Œæ•°æ®åº“ä¸éœ€è¦åœ¨æ¯æ¬¡æ’å…¥æ—¶æ›´æ–°ç´¢å¼•ï¼Œè¿™ä¼šå‡å°‘æ’å…¥æ“ä½œçš„å¼€é”€ã€‚ä¹‹åä¸€æ¬¡æ€§åˆ›å»ºç´¢å¼•é€šå¸¸æ¯”é€æ¡è®°å½•æ›´æ–°ç´¢å¼•æ›´å¿«ã€‚</li><li><strong>å…ˆåˆ›å»ºç´¢å¼•å†æ’å…¥æ•°æ®</strong>ï¼šè¿™ç§æƒ…å†µä¸‹ï¼Œæ•°æ®åº“éœ€è¦åœ¨æ¯æ¬¡æ’å…¥æ–°è®°å½•æ—¶ç»´æŠ¤ç´¢å¼•ç»“æ„ï¼Œéšç€æ•°æ®é‡çš„å¢åŠ ï¼Œç´¢å¼•çš„ç»´æŠ¤å¯èƒ½ä¼šå¯¼è‡´é¢å¤–çš„æ€§èƒ½å¼€é”€ã€‚</li></ul><h4 id="æ•°æ®åº“æ˜¯å…ˆå»ºç«‹ç´¢å¼•è¿˜æ˜¯å…ˆæ’å…¥æ•°æ®" tabindex="-1"><a class="header-anchor" href="#æ•°æ®åº“æ˜¯å…ˆå»ºç«‹ç´¢å¼•è¿˜æ˜¯å…ˆæ’å…¥æ•°æ®"><span>æ•°æ®åº“æ˜¯å…ˆå»ºç«‹ç´¢å¼•è¿˜æ˜¯å…ˆæ’å…¥æ•°æ®ï¼Ÿ</span></a></h4><p>åœ¨ InnoDB ä¸­ï¼Œå¦‚æœè¡¨å®šä¹‰äº†ä¸»é”®ï¼Œé‚£ä¹ˆä¸»é”®ç´¢å¼•å°±æ˜¯èšç°‡ç´¢å¼•ã€‚å¦‚æœæ²¡æœ‰æ˜ç¡®æŒ‡å®šä¸»é”®ï¼ŒInnoDB ä¼šè‡ªåŠ¨é€‰æ‹©ä¸€ä¸ªå”¯ä¸€ç´¢å¼•ä½œä¸ºèšç°‡ç´¢å¼•ã€‚å¦‚æœè¡¨æ²¡æœ‰ä»»ä½•å”¯ä¸€ç´¢å¼•ï¼ŒInnoDB å°†è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªéšè—çš„è¡Œ ID ä½œä¸ºèšç°‡ç´¢å¼•ã€‚</p><p>è¿™æ„å‘³ç€å½“æ’å…¥æ–°æ•°æ®æ—¶ï¼ŒInnoDB é¦–å…ˆå°†æ•°æ®æ’å…¥åˆ°èšç°‡ç´¢å¼•ä¸­ã€‚è¿™ä¸€æ­¥éª¤å®è´¨ä¸Šæ˜¯åˆ›å»ºç´¢å¼•çš„ä¸€éƒ¨åˆ†ï¼Œå› ä¸ºæ•°æ®å­˜æ”¾åœ¨ç´¢å¼•ç»“æ„ä¸­ã€‚</p><p>å¯¹äºéä¸»é”®çš„å…¶ä»–ç´¢å¼•ï¼ˆæ¬¡çº§ç´¢å¼•ï¼‰ï¼Œåœ¨æ’å…¥æ•°æ®åˆ°èšç°‡ç´¢å¼•åï¼ŒInnoDB è¿˜éœ€è¦æ›´æ–°è¡¨çš„æ‰€æœ‰æ¬¡çº§ç´¢å¼•ã€‚è¿™äº›ç´¢å¼•ä¸­çš„æ¯ä¸€ä¸ªéƒ½åŒ…å«æŒ‡å‘èšç°‡ç´¢å¼•è®°å½•çš„æŒ‡é’ˆã€‚</p><p>æ‰€ä»¥åœ¨ InnoDB ä¸­ï¼Œæ•°æ®æ’å…¥å’Œç´¢å¼•åˆ›å»ºï¼ˆæ›´æ–°ï¼‰æ˜¯å¯†ä¸å¯åˆ†çš„ã€‚ä»æ•°æ®åº“çš„è§†è§’çœ‹ï¼Œæ’å…¥æ“ä½œåŒ…æ‹¬å‘èšç°‡ç´¢å¼•æ·»åŠ è®°å½•å’Œæ›´æ–°æ‰€æœ‰ç›¸å…³çš„æ¬¡çº§ç´¢å¼•ã€‚è¿™äº›æ­¥éª¤åœ¨ä¸€ä¸ªäº‹åŠ¡ä¸­åŸå­åœ°æ‰§è¡Œï¼Œä»¥ç¡®ä¿æ•°æ®çš„ä¸€è‡´æ€§å’Œå®Œæ•´æ€§ã€‚</p><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å†œä¸šé“¶è¡Œé¢ç»åŒå­¦ 7 Java åç«¯é¢è¯•åŸé¢˜ï¼šæ•°æ®åº“æ˜¯å…ˆå»ºç«‹ç´¢å¼•è¿˜æ˜¯å…ˆæ’å…¥æ•°æ®</li></ol></blockquote><h3 id="_81-ä»€ä¹ˆæ˜¯æ·±åˆ†é¡µ-select-from-tbn-limit-1000000000-è¿™ä¸ªæœ‰ä»€ä¹ˆé—®é¢˜-å¦‚æœè¡¨å¤§æˆ–è€…è¡¨å°åˆ†åˆ«ä»€ä¹ˆé—®é¢˜" tabindex="-1"><a class="header-anchor" href="#_81-ä»€ä¹ˆæ˜¯æ·±åˆ†é¡µ-select-from-tbn-limit-1000000000-è¿™ä¸ªæœ‰ä»€ä¹ˆé—®é¢˜-å¦‚æœè¡¨å¤§æˆ–è€…è¡¨å°åˆ†åˆ«ä»€ä¹ˆé—®é¢˜"><span>81.ä»€ä¹ˆæ˜¯æ·±åˆ†é¡µï¼Œselect * from tbn limit 1000000000 è¿™ä¸ªæœ‰ä»€ä¹ˆé—®é¢˜ï¼Œå¦‚æœè¡¨å¤§æˆ–è€…è¡¨å°åˆ†åˆ«ä»€ä¹ˆé—®é¢˜</span></a></h3><p>æ·±åˆ†é¡µæŒ‡çš„æ˜¯åœ¨åˆ†é¡µæŸ¥è¯¢ä¸­ï¼Œè¯·æ±‚çš„é¡µæ•°éå¸¸å¤§ï¼Œä¾‹å¦‚è¯·æ±‚ç¬¬ 100 ä¸‡é¡µçš„æ•°æ®ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ•°æ®åº“éœ€è¦è·³è¿‡å‰ 999999 é¡µçš„æ•°æ®ï¼Œä¼šæ¶ˆè€—å¤§é‡çš„ CPU å’Œ I/O èµ„æºï¼Œå¯¼è‡´æŸ¥è¯¢æ€§èƒ½ä¸‹é™ã€‚</p><p><code>select * from tbn limit 1000000000</code> æ­£æ˜¯ä¸€ä¸ªæ·±åˆ†é¡µæŸ¥è¯¢ã€‚</p><ul><li>å¦‚æœè¡¨çš„æ•°æ®é‡éå¸¸å¤§ï¼Œé‚£ä¹ˆè¿™ä¸ªæŸ¥è¯¢å¯èƒ½ä¼šæ¶ˆè€—å¤§é‡çš„å†…å­˜å’Œ CPU èµ„æºï¼Œç”šè‡³å¯èƒ½å¯¼è‡´æ•°æ®åº“å´©æºƒã€‚</li><li>å¦‚æœè¡¨çš„æ•°æ®é‡éå¸¸å°ï¼Œæ¯”å¦‚è¯´åªæœ‰ 100 æ¡ï¼Œé‚£å°±ä¼šè¿”å›è¿™å‰ 100 æ¡ï¼Œè™½ç„¶æ²¡ä»€ä¹ˆæ€§èƒ½å½±å“ï¼Œä½†è¿™ä¸ªæŸ¥è¯¢æœ¬èº«æ²¡ä»€ä¹ˆæ„ä¹‰ã€‚</li></ul><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å­—èŠ‚è·³åŠ¨é¢ç»åŒå­¦ 13 Java åç«¯äºŒé¢é¢è¯•åŸé¢˜ï¼šä»€ä¹ˆæ˜¯æ·±åˆ†é¡µï¼Œselect * from tbn limit 1000000000 è¿™ä¸ªæœ‰ä»€ä¹ˆé—®é¢˜ï¼Œå¦‚æœè¡¨å¤§æˆ–è€…è¡¨å°åˆ†åˆ«ä»€ä¹ˆé—®é¢˜</li></ol></blockquote><h3 id="_82-ä¸€ä¸ªè¡¨-name-sex-age-id-select-age-id-name-from-tblname-where-name-paicoding-æ€ä¹ˆå»ºç´¢å¼•" tabindex="-1"><a class="header-anchor" href="#_82-ä¸€ä¸ªè¡¨-name-sex-age-id-select-age-id-name-from-tblname-where-name-paicoding-æ€ä¹ˆå»ºç´¢å¼•"><span>82.ä¸€ä¸ªè¡¨ï¼ˆname, sex,age,idï¼‰ï¼Œselect age,id,name from tblname where name=&#39;paicoding&#39;;æ€ä¹ˆå»ºç´¢å¼•</span></a></h3><p>ç´¢å¼•çš„å»ºç«‹åº”å½“åŸºäºæŸ¥è¯¢ä¸­çš„è¿‡æ»¤æ¡ä»¶ï¼ˆWHERE å­å¥ï¼‰ä»¥åŠæŸ¥è¯¢çš„é€‰æ‹©åˆ—ï¼ˆSELECT å­å¥ï¼‰ã€‚</p><p>ç”±äºæŸ¥è¯¢æ¡ä»¶æ˜¯<code>name=&#39;paicoding&#39;</code>ï¼Œæ‰€ä»¥åº”å½“ä¸º<code>name</code>å­—æ®µå»ºç«‹ç´¢å¼•ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> INDEX</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> idx_name</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> ON</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> tblname(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>æŸ¥è¯¢ä¸­é€‰æ‹©äº†<code>age</code>ã€<code>id</code>å’Œ<code>name</code>å­—æ®µï¼Œå¦‚æœè¿™ä¸‰åˆ—ç»å¸¸ä¸€èµ·ä½¿ç”¨ï¼Œå¯ä»¥è€ƒè™‘å»ºç«‹åŒ…å«è¿™äº›å­—æ®µçš„è”åˆç´¢å¼•ã€‚å¯ä»¥å°†æŸ¥è¯¢æ¡ä»¶ä¸­çš„å­—æ®µæ”¾åœ¨è”åˆç´¢å¼•çš„é¦–ä½ï¼Œè¿™æ ·æŸ¥è¯¢æ—¶å¯ä»¥åˆ©ç”¨ç´¢å¼•è¦†ç›–ï¼Œç›´æ¥ä»ç´¢å¼•ä¸­è·å–æ•°æ®ï¼Œè€Œä¸éœ€è¦å†å»æŸ¥æ‰¾æ•°æ®è¡Œã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> INDEX</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> idx_name_age_id</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> ON</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> tblname (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, age, id);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="è¡¨å­—æ®µid-ä¸»é”®-age-name-select-name-age-from-è¡¨-where-name-like-a-and-age-30ä¼šä¸ä¼šèµ°ç´¢å¼•" tabindex="-1"><a class="header-anchor" href="#è¡¨å­—æ®µid-ä¸»é”®-age-name-select-name-age-from-è¡¨-where-name-like-a-and-age-30ä¼šä¸ä¼šèµ°ç´¢å¼•"><span>è¡¨å­—æ®µidï¼ˆä¸»é”®ï¼‰age name select name,age from è¡¨ where name like(A%) and age =30ä¼šä¸ä¼šèµ°ç´¢å¼•ï¼Ÿ</span></a></h4><p>å¯ä»¥åˆ›å»ºç»„åˆç´¢å¼• (name, age)ï¼Œè¿™å¯ä»¥åˆ©ç”¨ name å’Œ age çš„åŒé‡æ¡ä»¶æ¥é«˜æ•ˆåœ°è¿›è¡ŒæŸ¥è¯¢ã€‚</p><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„å­—èŠ‚è·³åŠ¨é¢ç»åŒå­¦ 13 Java åç«¯äºŒé¢é¢è¯•åŸé¢˜ï¼šä¸€ä¸ªè¡¨ï¼ˆname, sex,age,idï¼‰ï¼Œselect age,id,name from tblname where name=&#39;paicoding&#39;;æ€ä¹ˆå»ºç´¢å¼•</li></ol></blockquote><h3 id="_83-sql-é¢˜-ä¸€ä¸ªå­¦ç”Ÿæˆç»©è¡¨-å­—æ®µæœ‰å­¦ç”Ÿå§“åã€ç­çº§ã€æˆç»©-æ±‚å„ç­å‰åå" tabindex="-1"><a class="header-anchor" href="#_83-sql-é¢˜-ä¸€ä¸ªå­¦ç”Ÿæˆç»©è¡¨-å­—æ®µæœ‰å­¦ç”Ÿå§“åã€ç­çº§ã€æˆç»©-æ±‚å„ç­å‰åå"><span>83.SQL é¢˜ï¼šä¸€ä¸ªå­¦ç”Ÿæˆç»©è¡¨ï¼Œå­—æ®µæœ‰å­¦ç”Ÿå§“åã€ç­çº§ã€æˆç»©ï¼Œæ±‚å„ç­å‰åå</span></a></h3><p>è¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„ SQL é¢˜ï¼Œä¸»è¦è€ƒå¯Ÿ SQL çš„åŸºæœ¬è¯­æ³•å’Œåˆ†ç»„æŸ¥è¯¢ã€‚</p><p>ç¬¬ä¸€æ­¥ï¼Œå»ºè¡¨ï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">CREATE</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> TABLE</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> student_scores</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    student_name </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">VARCHAR</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">100</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    class </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">VARCHAR</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">50</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    score </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">INT</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç¬¬äºŒæ­¥ï¼Œæ’å…¥æ•°æ®ï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">INSERT INTO</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> student_scores (student_name, class, score) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">VALUES</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;æ²‰é»˜ç‹äºŒ&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;ä¸‰å¹´äºŒç­&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">88</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;æ²‰é»˜ç‹ä¸‰&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;ä¸‰å¹´äºŒç­&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">92</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;æ²‰é»˜ç‹å››&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;ä¸‰å¹´äºŒç­&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">87</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;æ²‰é»˜ç‹äº”&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;ä¸‰å¹´äºŒç­&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">85</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;æ²‰é»˜ç‹å…­&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;ä¸‰å¹´äºŒç­&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">90</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;æ²‰é»˜ç‹ä¸ƒ&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;ä¸‰å¹´äºŒç­&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">95</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;æ²‰é»˜ç‹å…«&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;ä¸‰å¹´äºŒç­&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">82</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;æ²‰é»˜ç‹ä¹&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;ä¸‰å¹´äºŒç­&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">78</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;æ²‰é»˜ç‹å&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;ä¸‰å¹´äºŒç­&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">91</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;æ²‰é»˜ç‹åä¸€&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;ä¸‰å¹´äºŒç­&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">79</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;æ²‰é»˜ç‹åäºŒ&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;ä¸‰å¹´ä¸‰ç­&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">84</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;æ²‰é»˜ç‹åä¸‰&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;ä¸‰å¹´ä¸‰ç­&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">81</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;æ²‰é»˜ç‹åå››&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;ä¸‰å¹´ä¸‰ç­&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">90</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;æ²‰é»˜ç‹åäº”&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;ä¸‰å¹´ä¸‰ç­&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">88</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;æ²‰é»˜ç‹åå…­&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;ä¸‰å¹´ä¸‰ç­&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">87</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;æ²‰é»˜ç‹åä¸ƒ&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;ä¸‰å¹´ä¸‰ç­&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">93</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;æ²‰é»˜ç‹åå…«&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;ä¸‰å¹´ä¸‰ç­&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">89</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;æ²‰é»˜ç‹åä¹&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;ä¸‰å¹´ä¸‰ç­&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">85</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;æ²‰é»˜ç‹äºŒå&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;ä¸‰å¹´ä¸‰ç­&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">92</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">),</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;æ²‰é»˜ç‹äºŒåä¸€&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;ä¸‰å¹´ä¸‰ç­&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">84</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç¬¬ä¸‰æ­¥ï¼ŒæŸ¥è¯¢å„ç­å‰ååï¼š</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SET</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> @cur_class</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> NULL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">@cur_rank</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> student_name, class, score</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    SELECT</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        student_name,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        class,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        score,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">        @cur_rank</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> IF</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">@cur_class</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> class, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">@cur_rank</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> + </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">AS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> rank,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">        @cur_class</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> :</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> class</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> student_scores</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    ORDER BY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> class, score </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">DESC</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">AS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ranked</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">WHERE</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> ranked</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">rank</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> &lt;=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 10</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½¿ç”¨ <code>@cur_class</code> å’Œ <code>@cur_rank</code> æ¥è·Ÿè¸ªå½“å‰è¡Œçš„ç­çº§å’Œæ’åã€‚</p><p>åœ¨ SELECT è¯­å¥ä¸­ï¼Œé€šè¿‡æ£€æŸ¥å½“å‰ç­çº§ï¼ˆ<code>@cur_class</code>ï¼‰æ˜¯å¦ä¸ä¸Šä¸€è¡Œç›¸åŒæ¥å†³å®šæ’åã€‚å¦‚æœç›¸åŒï¼Œåˆ™å¢åŠ æ’åï¼›å¦‚æœä¸åŒï¼Œåˆ™é‡ç½®æ’åä¸º 1ã€‚</p><p>ç„¶åé€šè¿‡ ORDER BY å­å¥ç¡®ä¿åœ¨è®¡ç®—æ’åå‰æŒ‰ç­çº§å’Œåˆ†æ•°æ’åºã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/stutymore/mysql-20240423113508.png" alt="äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯" tabindex="0" loading="lazy"><figcaption>äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯</figcaption></figure><blockquote><ol><li><a href="https://javabetter.cn/zhishixingqiu/mianshi.html" target="_blank" rel="noopener noreferrer">Java é¢è¯•æŒ‡å—ï¼ˆä»˜è´¹ï¼‰</a>æ”¶å½•çš„è…¾è®¯äº‘æ™ºé¢ç»åŒå­¦ 16 ä¸€é¢é¢è¯•åŸé¢˜ï¼šSQL é¢˜ï¼šä¸€ä¸ªå­¦ç”Ÿæˆç»©è¡¨ï¼Œå­—æ®µæœ‰å­¦ç”Ÿå§“åã€ç­çº§ã€æˆç»©ï¼Œæ±‚å„ç­å‰åå</li></ol></blockquote><hr><p>å›¾æ–‡è¯¦è§£ 84 é“ MySQL é¢è¯•é«˜é¢‘é¢˜ï¼Œè¿™æ¬¡åŠæ‰“é¢è¯•å®˜ï¼Œæˆ‘è§‰å¾—ç¨³äº†ï¼ˆæ‰‹åŠ¨ dogï¼‰ã€‚æ•´ç†ï¼šæ²‰é»˜ç‹äºŒï¼Œæˆ³<a href="https://mp.weixin.qq.com/s/JFjFs_7xduCmHOegbJ-Gbg" target="_blank" rel="noopener noreferrer">è½¬è½½é“¾æ¥</a>ï¼Œä½œè€…ï¼šä¸‰åˆ†æ¶ï¼Œæˆ³<a href="https://mp.weixin.qq.com/s/zSTyZ-8CFalwAYSB0PN6wA" target="_blank" rel="noopener noreferrer">åŸæ–‡é“¾æ¥</a>ã€‚</p><p><em>æ²¡æœ‰ä»€ä¹ˆä½¿æˆ‘åœç•™â€”â€”é™¤äº†ç›®çš„ï¼Œçºµç„¶å²¸æ—æœ‰ç«ç‘°ã€æœ‰ç»¿è«ã€æœ‰å®é™çš„æ¸¯æ¹¾ï¼Œæˆ‘æ˜¯ä¸ç³»ä¹‹èˆŸ</em>ã€‚</p><p><strong>ç³»åˆ—å†…å®¹</strong>ï¼š</p><ul><li><a href="https://javabetter.cn/sidebar/sanfene/javase.html" target="_blank" rel="noopener noreferrer">é¢æ¸£é€†è¢­ Java SE ç¯‡ ğŸ‘</a></li><li><a href="https://javabetter.cn/sidebar/sanfene/javathread.html" target="_blank" rel="noopener noreferrer">é¢æ¸£é€†è¢­ Java é›†åˆæ¡†æ¶ç¯‡ ğŸ‘</a></li><li><a href="https://javabetter.cn/sidebar/sanfene/collection.html" target="_blank" rel="noopener noreferrer">é¢æ¸£é€†è¢­ Java å¹¶å‘ç¼–ç¨‹ç¯‡ ğŸ‘</a></li><li><a href="https://javabetter.cn/sidebar/sanfene/jvm.html" target="_blank" rel="noopener noreferrer">é¢æ¸£é€†è¢­ JVM ç¯‡ ğŸ‘</a></li><li><a href="https://javabetter.cn/sidebar/sanfene/spring.html" target="_blank" rel="noopener noreferrer">é¢æ¸£é€†è¢­ Spring ç¯‡ ğŸ‘</a></li><li><a href="https://javabetter.cn/sidebar/sanfene/redis.html" target="_blank" rel="noopener noreferrer">é¢æ¸£é€†è¢­ Redis ç¯‡ ğŸ‘</a></li><li><a href="https://javabetter.cn/sidebar/sanfene/mybatis.html" target="_blank" rel="noopener noreferrer">é¢æ¸£é€†è¢­ MyBatis ç¯‡ ğŸ‘</a></li><li><a href="https://javabetter.cn/sidebar/sanfene/mysql.html" target="_blank" rel="noopener noreferrer">é¢æ¸£é€†è¢­ MySQL ç¯‡ ğŸ‘</a></li><li><a href="https://javabetter.cn/sidebar/sanfene/os.html" target="_blank" rel="noopener noreferrer">é¢æ¸£é€†è¢­æ“ä½œç³»ç»Ÿç¯‡ ğŸ‘</a></li><li><a href="https://javabetter.cn/sidebar/sanfene/network.html" target="_blank" rel="noopener noreferrer">é¢æ¸£é€†è¢­è®¡ç®—æœºç½‘ç»œç¯‡ ğŸ‘</a></li><li><a href="https://javabetter.cn/sidebar/sanfene/rocketmq.html" target="_blank" rel="noopener noreferrer">é¢æ¸£é€†è¢­ RocketMQ ç¯‡ ğŸ‘</a></li><li><a href="https://javabetter.cn/sidebar/sanfene/fenbushi.html" target="_blank" rel="noopener noreferrer">é¢æ¸£é€†è¢­åˆ†å¸ƒå¼ç¯‡ ğŸ‘</a></li><li><a href="https://javabetter.cn/sidebar/sanfene/weifuwu.html" target="_blank" rel="noopener noreferrer">é¢æ¸£é€†è¢­å¾®æœåŠ¡ç¯‡ ğŸ‘</a></li><li><a href="https://javabetter.cn/sidebar/sanfene/shejimoshi.html" target="_blank" rel="noopener noreferrer">é¢æ¸£é€†è¢­è®¾è®¡æ¨¡å¼ç¯‡ ğŸ‘</a></li></ul><hr><p>GitHub ä¸Šæ ‡æ˜Ÿ 10000+ çš„å¼€æºçŸ¥è¯†åº“ã€Š<a href="https://github.com/itwanger/toBeBetterJavaer" target="_blank" rel="noopener noreferrer">äºŒå“¥çš„ Java è¿›é˜¶ä¹‹è·¯</a>ã€‹ç¬¬ä¸€ç‰ˆ PDF ç»ˆäºæ¥äº†ï¼åŒ…æ‹¬ Java åŸºç¡€è¯­æ³•ã€æ•°ç»„&amp;å­—ç¬¦ä¸²ã€OOPã€é›†åˆæ¡†æ¶ã€Java IOã€å¼‚å¸¸å¤„ç†ã€Java æ–°ç‰¹æ€§ã€ç½‘ç»œç¼–ç¨‹ã€NIOã€å¹¶å‘ç¼–ç¨‹ã€JVM ç­‰ç­‰ï¼Œå…±è®¡ 32 ä¸‡ä½™å­—ï¼Œ500+å¼ æ‰‹ç»˜å›¾ï¼Œå¯ä»¥è¯´æ˜¯é€šä¿—æ˜“æ‡‚ã€é£è¶£å¹½é»˜â€¦â€¦è¯¦æƒ…æˆ³ï¼š<a href="https://javabetter.cn/overview/" target="_blank" rel="noopener noreferrer">å¤ªèµäº†ï¼ŒGitHub ä¸Šæ ‡æ˜Ÿ 10000+ çš„ Java æ•™ç¨‹</a></p><p>å¾®ä¿¡æœ <strong>æ²‰é»˜ç‹äºŒ</strong> æˆ–æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨äºŒå“¥çš„åŸåˆ›å…¬ä¼—å·æ²‰é»˜ç‹äºŒï¼Œå›å¤ <strong>222</strong> å³å¯å…è´¹é¢†å–ã€‚</p><figure><img src="https://cdn.tobebetterjavaer.com/tobebetterjavaer/images/gongzhonghao.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure></div><!----><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link vp-meta-label" href="https://github.com/JL-20191210/blog/edit/main/src/Interview/sanfene/mysql.md" aria-label="åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ" rel="noopener noreferrer" target="_blank"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ<!----></a></div><div class="vp-meta-item git-info"><!----><!----></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/blog/Interview/sanfene/mybatis.html" aria-label="é¢æ¸£é€†è¢­-MyBatis"><div class="hint"><span class="arrow start"></span>ä¸Šä¸€é¡µ</div><div class="link"><!---->é¢æ¸£é€†è¢­-MyBatis</div></a><a class="route-link auto-link next" href="/blog/Interview/sanfene/netty.html" aria-label="é¢æ¸£é€†è¢­-Netty"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow end"></span></div><div class="link">é¢æ¸£é€†è¢­-Netty<!----></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper" vp-footer><div class="vp-footer">å“Ÿå¼~</div><div class="vp-copyright">Copyright Â© 2025 ä¸‰åˆ†æ¶ </div></footer></div><!--]--><!--[--><!----><!--[--><!--]--><!--]--><!--]--></div>
    <script src="/blog/assets/js/runtime~app.5bda39a5.js" defer></script><script src="/blog/assets/js/49703.452efc0f.js" defer></script><script src="/blog/assets/js/app.3526a07b.js" defer></script>
  </body>
</html>
