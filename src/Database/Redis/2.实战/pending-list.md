# Pending List

:leaves:**Pending List**存的就是已经分配给消费者了，但是消费者还没有处理完，没有确认的消息



`命令 1: XREADGROUP GROUP g1 c1 COUNT 1 BLOCK 2000 STREAMS stream.orders >`

`>`: 这个符号表示消费者 `c1` 只会读取那些 **尚未被其他消费者组消费的消息**【**pending-list**】。也就是说，`>` 确保了它只会消费那些 "未被任何消费者确认" 或 "尚未被处理" 的消息。

`命令 2: XREADGROUP GROUP g1 c1 COUNT 1 BLOCK 2000 STREAMS stream.orders 0`

`0`: 这个数字表示将从**流**的 **最早未消费消息** 开始读取。它并不依赖于消费者是否已经处理或确认这些消息。



**Pending List（待处理列表）** 是 Redis Streams 中用于存储消费者组尚未确认的消息的数据结构。它的主要作用是跟踪每个消费者组中每个消费者的消息处理状态，特别是未被确认的消息。

### 关键特点：
1. **消息来源**：当消费者组使用 `XREADGROUP` 命令读取消息时，消息会被分配给消费者。如果消费者没有使用 `XACK` 命令确认消息，这些消息就会进入 **pending list**。

2. **存储内容**：**Pending list** 存储了所有 **未被确认** 的消息，包括：
   - 消费者已经读取但尚未确认的消息。
   - 这些消息处于待处理状态，直到消费者确认（通过 `XACK` 命令）。

3. **命令操作**：
   - `XPENDING` 命令：用于查看 **pending list** 中的消息，显示哪些消息被哪些消费者读取，但尚未确认。
   - `XACK` 命令：用于确认消息，确认后这些消息会从 **pending list** 中移除。

4. **自动清理**：如果消息在一段时间内没有被确认，可能会被认为是“处理失败”，但 Redis 本身并没有自动清除它们的机制，通常由消费者在处理逻辑中管理。

### 使用场景：
- **消息重试**：可以通过 `XPENDING` 查看哪些消息尚未确认，方便进行消息重试或进一步处理。
- **消费者失败管理**：如果某个消费者无法处理消息，其他消费者可以重新获取并处理这些未确认的消息。

### 总结：
**Pending list** 是一个用于存储消费者组内未确认消息的临时存储区，帮助 Redis 管理消息的消费状态，确保每条消息至少被处理一次