# ☕Java 面试答题卡：跳表（Skip List）

------

## 🧠 概念简介

**跳表（Skip List）：**

> 一种基于多层有序链表的数据结构，通过“跳跃式”索引实现快速查找、插入和删除，平均时间复杂度为 **O(log n)**，常用于替代平衡树（如红黑树）实现有序集合。

------

## ❌ 传统链表的问题

```java
class Node {
    int value;
    Node next;
    Node(int value) { this.value = value; }
}

// 顺序查找
Node head = ...; // 有序链表头
int target = 42;
while (head != null && head.value < target) {
    head = head.next; // 必须一个一个走，O(n)
}
```

- 普通有序链表查找必须逐节点遍历，效率低。

------

## ✅ 跳表的优化思路

**核心思想：** 在有序链表上增加多层“索引”层，每层的节点数量递减，让查找可以跨越多个节点，减少比较次数。

示意结构（数字为节点值）：

```
Level 3:   1 -----------  37
Level 2:   1 ---- 17 ---- 37 ---- 59
Level 1:   1 - 5 - 9 - 17 - 23 - 37 - 41 - 59
```

**Java 示例（简化版插入）：**

```java
class SkipListNode {
    int val;
    SkipListNode[] forward;
    SkipListNode(int val, int level) {
        this.val = val;
        this.forward = new SkipListNode[level];
    }
}

class SkipList {
    private static final int MAX_LEVEL = 16;
    private SkipListNode head = new SkipListNode(-1, MAX_LEVEL);

    public boolean search(int target) {
        SkipListNode cur = head;
        for (int i = MAX_LEVEL - 1; i >= 0; i--) {
            while (cur.forward[i] != null && cur.forward[i].val < target) {
                cur = cur.forward[i];
            }
        }
        cur = cur.forward[0];
        return cur != null && cur.val == target;
    }
}
```

- 查找、插入、删除的平均时间复杂度都为 **O(log n)**，空间复杂度 **O(n)**。

------

## 🔗 典型应用

- **Redis**：有序集合（`zset`）底层使用跳表 + 哈希表实现；
- **高性能有序集合**：替代平衡树（如红黑树）；
- **范围查询**：支持按区间范围高效遍历。

------

## 🗣 面试总结句式

> 跳表是一种通过多层索引加速查找的有序链表结构，平均时间复杂度 O(log n)，在 Redis 的有序集合中广泛使用。它相比平衡树实现更简单，且支持高效的区间查询，非常适合有序数据的快速操作场景