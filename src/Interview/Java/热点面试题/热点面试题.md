# Java

## Java集合

1. 线程安全的集合有哪些？

   ![image-20250903214741304](assets/image-20250903214741304.png)

## 多线程

#### 1.守护线程了解吗？

守护线程是一种特殊的线程，它的作用是为其他线程提供服务。

Java 中的线程分为两类，一种是守护线程，另外一种是用户线程。

JVM 启动时会调用 main 方法，main 方法所在的线程就是一个用户线程。在 JVM 内部，同时还启动了很多守护线程，比如垃圾回收线程。

#### 2. 守护线程和用户线程有什么区别呢？

区别之一是当最后一个非守护线程束时， JVM 会正常退出，不管当前是否存在守护线程，也就是说守护线程是否结束并不影响 JVM 退出。

换而言之，只要有一个用户线程还没结束，正常情况下 JVM 就不会退出。

### 26.synchronized 用过吗？

用过，频率还很高。

synchronized 在 JDK 1.6 之后，进行了锁优化，增加了偏向锁、轻量级锁，大大提升了 synchronized 的性能。

#### synchronized 上锁的对象是什么？

synchronized 用在普通方法上时，上锁的是执行这个方法的对象。

```java
public synchronized void increment() {
    this.count++;
}
```

synchronized 用在静态方法上时，上锁的是这个类的 Class 对象。

```java
public static synchronized void increment() {
    count++;
}
```

synchronized 用在代码块上时，上锁的是括号中指定的对象，比如说当前对象 this。

```java
public void increment() {
    synchronized (this) {
        this.count++;
    }
}
```

