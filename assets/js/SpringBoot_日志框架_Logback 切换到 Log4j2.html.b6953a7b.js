"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[92255],{66262:(s,i)=>{i.A=(s,i)=>{const a=s.__vccOpts||s;for(const[s,l]of i)a[s]=l;return a}},16836:(s,i,a)=>{a.r(i),a.d(i,{comp:()=>t,data:()=>e});var l=a(20641);const n={},t=(0,a(66262).A)(n,[["render",function(s,i){return(0,l.uX)(),(0,l.CE)("div",null,[i[0]||(i[0]=(0,l.Lk)("h1",{id:"ğŸš€-ä»-logback-åˆ‡æ¢åˆ°-log4j2-spring-boot-é«˜æ€§èƒ½æ—¥å¿—é…ç½®å®æˆ˜",tabindex:"-1"},[(0,l.Lk)("a",{class:"header-anchor",href:"#ğŸš€-ä»-logback-åˆ‡æ¢åˆ°-log4j2-spring-boot-é«˜æ€§èƒ½æ—¥å¿—é…ç½®å®æˆ˜"},[(0,l.Lk)("span",null,"ğŸš€ ä» Logback åˆ‡æ¢åˆ° Log4j2ï¼šSpring Boot é«˜æ€§èƒ½æ—¥å¿—é…ç½®å®æˆ˜")])],-1)),i[1]||(i[1]=(0,l.Lk)("blockquote",null,[(0,l.Lk)("p",null,"Spring Boot é»˜è®¤ä½¿ç”¨ Logback ä½œä¸ºæ—¥å¿—å®ç°ï¼Œä½† Log4j2 æ‹¥æœ‰æ›´é«˜çš„æ€§èƒ½ã€æ›´å¼ºçš„çµæ´»æ€§å’Œæ›´ä¸°å¯Œçš„é…ç½®èƒ½åŠ›ã€‚æœ¬æ–‡å°†å¸¦ä½ ä¸€æ­¥ä¸€æ­¥å®Œæˆä» Logback åˆ° Log4j2 çš„åˆ‡æ¢è¿‡ç¨‹ï¼Œå¹¶é™„å¸¦å®æˆ˜ç¤ºä¾‹ã€‚")],-1)),i[2]||(i[2]=(0,l.Lk)("hr",null,null,-1)),(0,l.Q3)(" more "),i[3]||(i[3]=(0,l.Fv)('<h2 id="âœ¨-ä¸ºä»€ä¹ˆé€‰æ‹©-log4j2" tabindex="-1"><a class="header-anchor" href="#âœ¨-ä¸ºä»€ä¹ˆé€‰æ‹©-log4j2"><span>âœ¨ ä¸ºä»€ä¹ˆé€‰æ‹© Log4j2ï¼Ÿ</span></a></h2><table><thead><tr><th>ç‰¹æ€§</th><th>Logback</th><th>Log4j2</th></tr></thead><tbody><tr><td>å¼‚æ­¥æ—¥å¿—æ€§èƒ½</td><td>ä¸­ç­‰</td><td>ğŸš€ æé«˜ï¼ˆåŸºäº LMAX Disruptorï¼‰</td></tr><tr><td>å½©è‰²æ§åˆ¶å°æ—¥å¿—</td><td>æ”¯æŒä½†éº»çƒ¦</td><td>âœ… åŸç”Ÿæ”¯æŒï¼ˆ%highlight, %styleï¼‰</td></tr><tr><td>æ—¥å¿—å½’æ¡£ç­–ç•¥</td><td>è¾ƒå¼±</td><td>âœ… å¼ºå¤§ï¼ˆæ”¯æŒæ—¶é—´+å¤§å°ç»„åˆï¼‰</td></tr><tr><td>åŠ¨æ€æ—¥å¿—æ§åˆ¶</td><td>ä¸€èˆ¬</td><td>âœ… æ”¯æŒè„šæœ¬ã€è‡ªåŠ¨åˆ·æ–°</td></tr><tr><td>é…ç½®çµæ´»åº¦</td><td>è¾ƒé«˜</td><td>âœ… æ›´é«˜ï¼Œæ”¯æŒ JSON/YAML/XML</td></tr><tr><td>Spring Boot é»˜è®¤</td><td>âœ… æ˜¯</td><td>âŒ éœ€æ‰‹åŠ¨åˆ‡æ¢</td></tr></tbody></table><blockquote><p>æ€»ä¹‹ï¼š<strong>Logback æ›´é€‚åˆå¿«é€Ÿä¸Šæ‰‹ï¼ŒLog4j2 æ›´é€‚åˆä¸­å¤§å‹é¡¹ç›®çš„çµæ´»ç®¡ç†ä¸é«˜æ€§èƒ½éœ€æ±‚ã€‚</strong></p></blockquote><hr><h2 id="ğŸ§±-1-ç§»é™¤-logback-æ·»åŠ -log4j2-ä¾èµ–" tabindex="-1"><a class="header-anchor" href="#ğŸ§±-1-ç§»é™¤-logback-æ·»åŠ -log4j2-ä¾èµ–"><span>ğŸ§± 1. ç§»é™¤ Logbackï¼Œæ·»åŠ  Log4j2 ä¾èµ–</span></a></h2><h3 id="âœ…-1-1-æ’é™¤-spring-boot-é»˜è®¤çš„-logback" tabindex="-1"><a class="header-anchor" href="#âœ…-1-1-æ’é™¤-spring-boot-é»˜è®¤çš„-logback"><span>âœ… 1.1 æ’é™¤ Spring Boot é»˜è®¤çš„ Logback</span></a></h3><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" data-title="xml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">dependency</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">groupId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;org.springframework.boot&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">groupId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">artifactId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;spring-boot-starter&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">artifactId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">exclusions</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">exclusion</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">groupId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;org.springframework.boot&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">groupId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">artifactId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;spring-boot-starter-logging&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">artifactId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">exclusion</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  &lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">exclusions</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">dependency</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="âœ…-1-2-å¼•å…¥-log4j2-starter" tabindex="-1"><a class="header-anchor" href="#âœ…-1-2-å¼•å…¥-log4j2-starter"><span>âœ… 1.2 å¼•å…¥ Log4j2 Starter</span></a></h3><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" data-title="xml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">dependency</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">groupId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;org.springframework.boot&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">groupId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">artifactId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;spring-boot-starter-log4j2&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">artifactId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">dependency</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="ğŸ“-2-æ·»åŠ -log4j2-é…ç½®æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#ğŸ“-2-æ·»åŠ -log4j2-é…ç½®æ–‡ä»¶"><span>ğŸ“ 2. æ·»åŠ  Log4j2 é…ç½®æ–‡ä»¶</span></a></h2><p>åœ¨ <code>src/main/resources</code> ç›®å½•ä¸‹ï¼Œæ–°å¢æ–‡ä»¶ï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>log4j2-spring.xml</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="âœ…-ç¤ºä¾‹é…ç½®-æ”¯æŒå½©è‰²æ§åˆ¶å°-æ–‡ä»¶æ—¥å¿—" tabindex="-1"><a class="header-anchor" href="#âœ…-ç¤ºä¾‹é…ç½®-æ”¯æŒå½©è‰²æ§åˆ¶å°-æ–‡ä»¶æ—¥å¿—"><span>âœ… ç¤ºä¾‹é…ç½®ï¼ˆæ”¯æŒå½©è‰²æ§åˆ¶å° + æ–‡ä»¶æ—¥å¿—ï¼‰ï¼š</span></a></h3><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" data-title="xml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;?</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">xml</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> version</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;1.0&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> encoding</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;UTF-8&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">?&gt;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Configuration</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> status</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;WARN&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> monitorInterval</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;30&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Appenders</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Console</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Console&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> target</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;SYSTEM_OUT&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">PatternLayout</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Pattern</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;%style{%d{HH:mm:ss}}{cyan} %highlight{[%-5level]} %style{%logger{36}}{blue} - %msg%n&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Pattern</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      &lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">PatternLayout</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">RollingFile</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;FileAppender&quot;</span></span>\n<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">                 fileName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;logs/app.log&quot;</span></span>\n<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">                 filePattern</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;logs/archive/app-%d{yyyy-MM-dd}-%i.log.gz&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">PatternLayout</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> pattern</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;%d{yyyy-MM-dd HH:mm:ss} [%-5level] %logger{36} - %msg%n&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/&gt;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Policies</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">TimeBasedTriggeringPolicy</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> interval</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;1&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> modulate</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;true&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/&gt;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">SizeBasedTriggeringPolicy</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> size</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;50MB&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/&gt;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      &lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Policies</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">DefaultRolloverStrategy</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> max</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;30&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/&gt;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">RollingFile</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  &lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Appenders</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Loggers</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Root</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> level</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;INFO&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">AppenderRef</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> ref</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Console&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/&gt;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">AppenderRef</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> ref</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;FileAppender&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">/&gt;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Root</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  &lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Loggers</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Configuration</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="âš™ï¸-3-æ·»åŠ è¿è¡Œå‚æ•°æ”¯æŒå½©è‰²è¾“å‡º" tabindex="-1"><a class="header-anchor" href="#âš™ï¸-3-æ·»åŠ è¿è¡Œå‚æ•°æ”¯æŒå½©è‰²è¾“å‡º"><span>âš™ï¸ 3. æ·»åŠ è¿è¡Œå‚æ•°æ”¯æŒå½©è‰²è¾“å‡º</span></a></h2><p>åœ¨ JVM å¯åŠ¨å‚æ•°ä¸­åŠ å…¥ï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>-Dlog4j.skipJansi=false</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="ğŸ’¡-idea-ä¸­è®¾ç½®æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#ğŸ’¡-idea-ä¸­è®¾ç½®æ–¹å¼"><span>ğŸ’¡ IDEA ä¸­è®¾ç½®æ–¹å¼ï¼š</span></a></h3><ul><li><p>æ‰“å¼€ <code>Run â†’ Edit Configurations</code></p></li><li><p>åœ¨ VM options ä¸­æ·»åŠ ï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>-Dlog4j.skipJansi=false</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul><hr><h2 id="ğŸ“¦-4-ä½¿ç”¨æ–¹å¼ä¸å˜-lombok-ç¤ºä¾‹" tabindex="-1"><a class="header-anchor" href="#ğŸ“¦-4-ä½¿ç”¨æ–¹å¼ä¸å˜-lombok-ç¤ºä¾‹"><span>ğŸ“¦ 4. ä½¿ç”¨æ–¹å¼ä¸å˜ï¼ˆLombok ç¤ºä¾‹ï¼‰</span></a></h2><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> lombok.extern.log4j.Log4j2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">@</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B;">Log4j2</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">@</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B;">Service</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> DemoService</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> test</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">info</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Log4j2 å·²æˆåŠŸå¯ç”¨ï¼&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">error</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;è¿™æ˜¯é”™è¯¯æ—¥å¿—ï¼&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="âœ…-5-å¸¸è§é—®é¢˜æ’æŸ¥" tabindex="-1"><a class="header-anchor" href="#âœ…-5-å¸¸è§é—®é¢˜æ’æŸ¥"><span>âœ… 5. å¸¸è§é—®é¢˜æ’æŸ¥</span></a></h2><table><thead><tr><th>é—®é¢˜</th><th>åŸå› </th><th>è§£å†³æ–¹æ³•</th></tr></thead><tbody><tr><td>æ—¥å¿—æ— æ³•æ‰“å°</td><td>log4j2 é…ç½®æ–‡ä»¶æ²¡ç”Ÿæ•ˆ</td><td>æ–‡ä»¶å¿…é¡»å‘½åä¸º <code>log4j2-spring.xml</code>ï¼Œå¹¶æ”¾åœ¨ <code>resources</code> ä¸‹</td></tr><tr><td>æ§åˆ¶å°æ²¡æœ‰é¢œè‰²</td><td>ç¼ºå°‘å‚æ•°æˆ–ç»ˆç«¯ä¸æ”¯æŒ</td><td>æ·»åŠ  <code>-Dlog4j.skipJansi=false</code>ï¼Œä½¿ç”¨æ”¯æŒ ANSI çš„ç»ˆç«¯</td></tr><tr><td>æ—¥å¿—å½’æ¡£å¤ªé¢‘ç¹</td><td>filePattern æ—¶é—´ç²’åº¦å¤ªç»†</td><td>ä½¿ç”¨ <code>%d{yyyy-MM-dd}</code> è€Œé <code>%d{HH-mm-ss}</code></td></tr><tr><td>ä»æ‰“å° Logback æ ·å¼</td><td>ä¾èµ–æœªæ’é™¤å¹²å‡€</td><td>ç¡®ä¿ <code>spring-boot-starter-logging</code> è¢«æ’é™¤</td></tr></tbody></table><hr><h2 id="ğŸ“Œ-å°ç»“" tabindex="-1"><a class="header-anchor" href="#ğŸ“Œ-å°ç»“"><span>ğŸ“Œ å°ç»“</span></a></h2><table><thead><tr><th>æ­¥éª¤</th><th>å†…å®¹</th></tr></thead><tbody><tr><td>1ï¸âƒ£ æ’é™¤ Logback ä¾èµ–</td><td>ä½¿ç”¨ exclusions</td></tr><tr><td>2ï¸âƒ£ æ·»åŠ  Log4j2 ä¾èµ–</td><td>å¼•å…¥ <code>spring-boot-starter-log4j2</code></td></tr><tr><td>3ï¸âƒ£ åˆ›å»ºé…ç½®æ–‡ä»¶</td><td>æ”¾åœ¨ <code>resources/log4j2-spring.xml</code></td></tr><tr><td>4ï¸âƒ£ é…ç½®æ§åˆ¶å°è¾“å‡º</td><td>æ”¯æŒå½©è‰²ä¸å½’æ¡£</td></tr><tr><td>5ï¸âƒ£ è®¾ç½® JVM å‚æ•°</td><td>å¯ç”¨é¢œè‰²æ”¯æŒ</td></tr><tr><td>6ï¸âƒ£ æ­£å¸¸ä½¿ç”¨</td><td>æ”¯æŒ <code>@Log4j2</code> æˆ– <code>@Slf4j</code></td></tr></tbody></table>',30))])}]]),e=JSON.parse('{"path":"/SpringBoot/%E6%97%A5%E5%BF%97%E6%A1%86%E6%9E%B6/Logback%20%E5%88%87%E6%8D%A2%E5%88%B0%20Log4j2.html","title":"ğŸš€ä» Logback åˆ‡æ¢åˆ° Log4j2","lang":"zh-CN","frontmatter":{"title":"ğŸš€ä» Logback åˆ‡æ¢åˆ° Log4j2","date":"2025-07-05T00:00:00.000Z","author":"JeanHu","icon":"fa-solid fa-file-lines","categories":["Spring Boot","æ—¥å¿—ç³»ç»Ÿ","é¡¹ç›®å®æˆ˜"],"tags":["Log4j2","æ—¥å¿—å½’æ¡£","å¤šçº§æ—¥å¿—","å½©è‰²æ§åˆ¶å°","æ—¥å¿—åˆ†æ¨¡å—","å¼‚æ­¥æ—¥å¿—","Spring Boot é…ç½®"],"gitInclude":[]},"headers":[{"level":2,"title":"âœ¨ ä¸ºä»€ä¹ˆé€‰æ‹© Log4j2ï¼Ÿ","slug":"âœ¨-ä¸ºä»€ä¹ˆé€‰æ‹©-log4j2","link":"#âœ¨-ä¸ºä»€ä¹ˆé€‰æ‹©-log4j2","children":[]},{"level":2,"title":"ğŸ§± 1. ç§»é™¤ Logbackï¼Œæ·»åŠ  Log4j2 ä¾èµ–","slug":"ğŸ§±-1-ç§»é™¤-logback-æ·»åŠ -log4j2-ä¾èµ–","link":"#ğŸ§±-1-ç§»é™¤-logback-æ·»åŠ -log4j2-ä¾èµ–","children":[{"level":3,"title":"âœ… 1.1 æ’é™¤ Spring Boot é»˜è®¤çš„ Logback","slug":"âœ…-1-1-æ’é™¤-spring-boot-é»˜è®¤çš„-logback","link":"#âœ…-1-1-æ’é™¤-spring-boot-é»˜è®¤çš„-logback","children":[]},{"level":3,"title":"âœ… 1.2 å¼•å…¥ Log4j2 Starter","slug":"âœ…-1-2-å¼•å…¥-log4j2-starter","link":"#âœ…-1-2-å¼•å…¥-log4j2-starter","children":[]}]},{"level":2,"title":"ğŸ“ 2. æ·»åŠ  Log4j2 é…ç½®æ–‡ä»¶","slug":"ğŸ“-2-æ·»åŠ -log4j2-é…ç½®æ–‡ä»¶","link":"#ğŸ“-2-æ·»åŠ -log4j2-é…ç½®æ–‡ä»¶","children":[{"level":3,"title":"âœ… ç¤ºä¾‹é…ç½®ï¼ˆæ”¯æŒå½©è‰²æ§åˆ¶å° + æ–‡ä»¶æ—¥å¿—ï¼‰ï¼š","slug":"âœ…-ç¤ºä¾‹é…ç½®-æ”¯æŒå½©è‰²æ§åˆ¶å°-æ–‡ä»¶æ—¥å¿—","link":"#âœ…-ç¤ºä¾‹é…ç½®-æ”¯æŒå½©è‰²æ§åˆ¶å°-æ–‡ä»¶æ—¥å¿—","children":[]}]},{"level":2,"title":"âš™ï¸ 3. æ·»åŠ è¿è¡Œå‚æ•°æ”¯æŒå½©è‰²è¾“å‡º","slug":"âš™ï¸-3-æ·»åŠ è¿è¡Œå‚æ•°æ”¯æŒå½©è‰²è¾“å‡º","link":"#âš™ï¸-3-æ·»åŠ è¿è¡Œå‚æ•°æ”¯æŒå½©è‰²è¾“å‡º","children":[{"level":3,"title":"ğŸ’¡ IDEA ä¸­è®¾ç½®æ–¹å¼ï¼š","slug":"ğŸ’¡-idea-ä¸­è®¾ç½®æ–¹å¼","link":"#ğŸ’¡-idea-ä¸­è®¾ç½®æ–¹å¼","children":[]}]},{"level":2,"title":"ğŸ“¦ 4. ä½¿ç”¨æ–¹å¼ä¸å˜ï¼ˆLombok ç¤ºä¾‹ï¼‰","slug":"ğŸ“¦-4-ä½¿ç”¨æ–¹å¼ä¸å˜-lombok-ç¤ºä¾‹","link":"#ğŸ“¦-4-ä½¿ç”¨æ–¹å¼ä¸å˜-lombok-ç¤ºä¾‹","children":[]},{"level":2,"title":"âœ… 5. å¸¸è§é—®é¢˜æ’æŸ¥","slug":"âœ…-5-å¸¸è§é—®é¢˜æ’æŸ¥","link":"#âœ…-5-å¸¸è§é—®é¢˜æ’æŸ¥","children":[]},{"level":2,"title":"ğŸ“Œ å°ç»“","slug":"ğŸ“Œ-å°ç»“","link":"#ğŸ“Œ-å°ç»“","children":[]}],"readingTime":{"minutes":2.44,"words":731},"filePathRelative":"SpringBoot/æ—¥å¿—æ¡†æ¶/Logback åˆ‡æ¢åˆ° Log4j2.md","localizedDate":"2025å¹´7æœˆ5æ—¥","excerpt":"\\n<blockquote>\\n<p>Spring Boot é»˜è®¤ä½¿ç”¨ Logback ä½œä¸ºæ—¥å¿—å®ç°ï¼Œä½† Log4j2 æ‹¥æœ‰æ›´é«˜çš„æ€§èƒ½ã€æ›´å¼ºçš„çµæ´»æ€§å’Œæ›´ä¸°å¯Œçš„é…ç½®èƒ½åŠ›ã€‚æœ¬æ–‡å°†å¸¦ä½ ä¸€æ­¥ä¸€æ­¥å®Œæˆä» Logback åˆ° Log4j2 çš„åˆ‡æ¢è¿‡ç¨‹ï¼Œå¹¶é™„å¸¦å®æˆ˜ç¤ºä¾‹ã€‚</p>\\n</blockquote>\\n<hr>\\n"}')}}]);