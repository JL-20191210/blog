"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[88317],{66262:(i,s)=>{s.A=(i,s)=>{const a=i.__vccOpts||i;for(const[i,e]of s)a[i]=e;return a}},60934:(i,s,a)=>{a.r(s),a.d(s,{comp:()=>l,data:()=>n});var e=a(20641);const t={},l=(0,a(66262).A)(t,[["render",function(i,s){const a=(0,e.g2)("RouteLink");return(0,e.uX)(),(0,e.CE)("div",null,[s[2]||(s[2]=(0,e.Fv)('<h1 id="_2-3-ã€Šç›´æ¥å†…å­˜-directmemory-çš„ä½¿ç”¨ä¸é£é™©ã€‹" tabindex="-1"><a class="header-anchor" href="#_2-3-ã€Šç›´æ¥å†…å­˜-directmemory-çš„ä½¿ç”¨ä¸é£é™©ã€‹"><span>2.3 ã€Šç›´æ¥å†…å­˜ DirectMemory çš„ä½¿ç”¨ä¸é£é™©ã€‹</span></a></h1><h2 id="ğŸ“¦-ä»€ä¹ˆæ˜¯ç›´æ¥å†…å­˜-direct-memory" tabindex="-1"><a class="header-anchor" href="#ğŸ“¦-ä»€ä¹ˆæ˜¯ç›´æ¥å†…å­˜-direct-memory"><span>ğŸ“¦ ä»€ä¹ˆæ˜¯ç›´æ¥å†…å­˜ï¼ˆDirect Memoryï¼‰ï¼Ÿ</span></a></h2><p>ç›´æ¥å†…å­˜æ˜¯ JVM å¤–çš„ä¸€å—å†…å­˜åŒºåŸŸï¼Œä¸å— Java å †ç©ºé—´é™åˆ¶ã€‚å®ƒé€šè¿‡ <code>sun.misc.Unsafe</code> æˆ– <code>java.nio.ByteBuffer.allocateDirect()</code> åˆ†é…ï¼Œåœ¨ Java ç¨‹åºä¸­å¯ç”¨äºé«˜æ€§èƒ½ IO æ“ä½œã€‚</p><p>ç›´æ¥å†…å­˜çš„æœ€å¤§ä¼˜åŠ¿æ˜¯<strong>ç»•è¿‡ Java å †å†…å­˜ä¸ GC ç®¡ç†ï¼Œæé«˜æ•°æ®ä¼ è¾“æ•ˆç‡</strong>ï¼Œå°¤å…¶é€‚ç”¨äº Nettyã€Kafkaã€Zero-Copy åœºæ™¯ã€‚</p>',4)),(0,e.Q3)(" more "),s[3]||(s[3]=(0,e.Fv)('<h2 id="ğŸ“-ç›´æ¥å†…å­˜ä¸å †å†…å­˜å¯¹æ¯”" tabindex="-1"><a class="header-anchor" href="#ğŸ“-ç›´æ¥å†…å­˜ä¸å †å†…å­˜å¯¹æ¯”"><span>ğŸ“ ç›´æ¥å†…å­˜ä¸å †å†…å­˜å¯¹æ¯”</span></a></h2><table><thead><tr><th>å¯¹æ¯”é¡¹</th><th>ç›´æ¥å†…å­˜ï¼ˆDirectMemoryï¼‰</th><th>å †å†…å­˜ï¼ˆHeapï¼‰</th></tr></thead><tbody><tr><td>åˆ†é…æ–¹å¼</td><td><code>allocateDirect()</code>ã€<code>Unsafe</code></td><td><code>new</code> æ“ä½œç¬¦åˆ†é…</td></tr><tr><td>å†…å­˜ä½ç½®</td><td>JVM å †å¤–ï¼Œä½¿ç”¨æœ¬åœ°å†…å­˜</td><td>JVM å †ä¸­ï¼Œç”± GC ç®¡ç†</td></tr><tr><td>æ˜¯å¦ GC ç®¡ç†</td><td>âŒ ä¸å— GC æ§åˆ¶</td><td>âœ… è¢« GC ç®¡ç†</td></tr><tr><td>è®¿é—®é€Ÿåº¦</td><td>è¾ƒå¿«ï¼ˆå‡å°‘å¤åˆ¶ï¼‰</td><td>è¾ƒæ…¢</td></tr><tr><td>ç”¨é€”</td><td>é«˜æ€§èƒ½ IOã€Nettyã€NIO buffer</td><td>æ™®é€šå¯¹è±¡ã€å­—ç¬¦ä¸²ã€æ•°ç»„ç­‰</td></tr></tbody></table><h2 id="ğŸ”§-ä½¿ç”¨æ–¹å¼ç¤ºä¾‹" tabindex="-1"><a class="header-anchor" href="#ğŸ”§-ä½¿ç”¨æ–¹å¼ç¤ºä¾‹"><span>ğŸ”§ ä½¿ç”¨æ–¹å¼ç¤ºä¾‹</span></a></h2><h3 id="_1-ä½¿ç”¨-nio-bytebuffer-åˆ†é…" tabindex="-1"><a class="header-anchor" href="#_1-ä½¿ç”¨-nio-bytebuffer-åˆ†é…"><span>1. ä½¿ç”¨ NIO ByteBuffer åˆ†é…</span></a></h3><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">ByteBuffer</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> buffer </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> ByteBuffer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">allocateDirect</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1024</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // åˆ†é… 1KB ç›´æ¥å†…å­˜</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_2-ä½¿ç”¨-unsafe-ä½å±‚-api-ä¸æ¨è" tabindex="-1"><a class="header-anchor" href="#_2-ä½¿ç”¨-unsafe-ä½å±‚-api-ä¸æ¨è"><span>2. ä½¿ç”¨ Unsafe ä½å±‚ APIï¼ˆä¸æ¨èï¼‰</span></a></h3><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Field</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> field </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> Unsafe</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">class</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getDeclaredField</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;theUnsafe&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">field</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">setAccessible</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">true</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>\n<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Unsafe</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> unsafe </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> (Unsafe) </span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">field</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">null</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">long</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> address </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> unsafe</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">allocateMemory</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1024L</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // åˆ†é…å†…å­˜</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">unsafe</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">putByte</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(address, (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">byte</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">            // å†™å…¥æ•°æ®</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">unsafe</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">freeMemory</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(address);</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">                   // æ‰‹åŠ¨é‡Šæ”¾</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>âš ï¸ è­¦å‘Šï¼š<code>Unsafe</code> æ˜¯éæ ‡å‡† APIï¼Œä½¿ç”¨ä¸å½“ä¼šå¯¼è‡´å†…å­˜æ³„æ¼ç”šè‡³ JVM å´©æºƒã€‚</p></blockquote><h2 id="ğŸš¨-ç›´æ¥å†…å­˜çš„é£é™©" tabindex="-1"><a class="header-anchor" href="#ğŸš¨-ç›´æ¥å†…å­˜çš„é£é™©"><span>ğŸš¨ ç›´æ¥å†…å­˜çš„é£é™©</span></a></h2><ol><li><strong>å†…å­˜æ³„æ¼é£é™©</strong>ï¼šå¿…é¡»æ‰‹åŠ¨é‡Šæ”¾ï¼Œå¦åˆ™é•¿æœŸè¿è¡Œä¼šå¯¼è‡´ç³»ç»Ÿå†…å­˜è€—å°½ã€‚</li><li><strong>éš¾ä»¥ç›‘æ§</strong>ï¼šä¸ä¼šæ˜¾ç¤ºåœ¨ JVM å †ç›¸å…³å·¥å…·ï¼ˆå¦‚ jstatã€MATï¼‰ä¸­ï¼Œéœ€è¦ç‰¹æ®Šå·¥å…·å¦‚ NMT ç›‘æ§ã€‚</li><li><strong>æœ€å¤§å†…å­˜é™åˆ¶ä¸é€æ˜</strong>ï¼šç”± <code>-XX:MaxDirectMemorySize</code> æ§åˆ¶ï¼Œé»˜è®¤ä¸æœ€å¤§å †å¤§å°ä¸€è‡´ï¼ˆå¦‚æœªè®¾ç½®ï¼‰ã€‚</li></ol><h2 id="ğŸ“Š-å¦‚ä½•ç›‘æ§ä¸é…ç½®" tabindex="-1"><a class="header-anchor" href="#ğŸ“Š-å¦‚ä½•ç›‘æ§ä¸é…ç½®"><span>ğŸ“Š å¦‚ä½•ç›‘æ§ä¸é…ç½®</span></a></h2><h3 id="_1-é…ç½®ç›´æ¥å†…å­˜ä¸Šé™" tabindex="-1"><a class="header-anchor" href="#_1-é…ç½®ç›´æ¥å†…å­˜ä¸Šé™"><span>1. é…ç½®ç›´æ¥å†…å­˜ä¸Šé™</span></a></h3><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">XX</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">MaxDirectMemorySize</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">256m</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_2-è¯Šæ–­å·¥å…·" tabindex="-1"><a class="header-anchor" href="#_2-è¯Šæ–­å·¥å…·"><span>2. è¯Šæ–­å·¥å…·</span></a></h3><ul><li><code>jcmd &lt;pid&gt; VM.native_memory summary</code></li><li><code>jmap -heap &lt;pid&gt;</code><strong>æŸ¥çœ‹è¿è¡Œä¸­ Java è¿›ç¨‹çš„å †å†…å­˜ä½¿ç”¨æƒ…å†µ</strong> æ— æ³•æ˜¾ç¤ºç›´æ¥å†…å­˜</li><li><code>Native Memory Tracking (NMT)</code> å¯ç”¨äºåˆ†æç›´æ¥å†…å­˜å ç”¨</li></ul><h2 id="ğŸ“Œ-é¢è¯•ä¸å®æˆ˜é—®ç­”" tabindex="-1"><a class="header-anchor" href="#ğŸ“Œ-é¢è¯•ä¸å®æˆ˜é—®ç­”"><span>ğŸ“Œ é¢è¯•ä¸å®æˆ˜é—®ç­”</span></a></h2><ol><li>ä»€ä¹ˆæ˜¯ç›´æ¥å†…å­˜ï¼Ÿå’Œå †å†…å­˜æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</li><li>ä½¿ç”¨ <code>ByteBuffer.allocateDirect()</code> æœ‰å“ªäº›é£é™©ï¼Ÿ</li><li>ç›´æ¥å†…å­˜æ˜¯å¦ä¼šè¢« GCï¼Ÿå¦‚ä½•å›æ”¶ï¼Ÿ</li><li>å¦‚ä½•é™åˆ¶ç›´æ¥å†…å­˜å ç”¨å¹¶è¿›è¡Œç›‘æ§ï¼Ÿ</li></ol><h2 id="ğŸ“-å°ç»“" tabindex="-1"><a class="header-anchor" href="#ğŸ“-å°ç»“"><span>ğŸ“ å°ç»“</span></a></h2><ul><li>ç›´æ¥å†…å­˜æ˜¯é«˜æ€§èƒ½ IO çš„åˆ©å™¨ï¼Œä½†ä½¿ç”¨ä¸å½“ä¼šå¼•å‘ä¸¥é‡é—®é¢˜</li><li>å»ºè®®é€šè¿‡ <code>allocateDirect()</code> ä½¿ç”¨ï¼Œå¹¶è®¾ç½® <code>MaxDirectMemorySize</code></li><li>éœ€è¦ç»“åˆ NMT å·¥å…·ã€jcmd ç­‰æ‰‹æ®µç›‘æ§æ³„æ¼ä¸å¼‚å¸¸</li></ul>',19)),(0,e.Lk)("p",null,[s[1]||(s[1]=(0,e.eW)("ğŸ‘‰ ä¸‹ä¸€ç¯‡æ¨èé˜…è¯»ï¼š")),(0,e.bF)(a,{to:"/JVM/%E4%B8%80%E5%91%BD%E9%80%9F%E9%80%9A/3.GC%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%9C%BA%E5%88%B6/3.1%20Java%20%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E7%AE%97%E6%B3%95%E4%B8%8E%E5%88%86%E4%BB%A3%E6%9C%BA%E5%88%B6.html"},{default:(0,e.k6)((()=>s[0]||(s[0]=[(0,e.eW)("3.1 Java åƒåœ¾å›æ”¶ç®—æ³•ä¸åˆ†ä»£æœºåˆ¶ï¼ˆå›¾è§£ï¼‰")]))),_:1})])])}]]),n=JSON.parse('{"path":"/JVM/%E4%B8%80%E5%91%BD%E9%80%9F%E9%80%9A/2.%E5%86%85%E5%AD%98%E7%BB%93%E6%9E%84%E4%B8%8E%E5%B9%B6%E5%8F%91%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B/2.3%E7%9B%B4%E6%8E%A5%E5%86%85%E5%AD%98DirectMemory%E7%9A%84%E4%BD%BF%E7%94%A8%E4%B8%8E%E9%A3%8E%E9%99%A9.html","title":"2.3 ç›´æ¥å†…å­˜ DirectMemory çš„ä½¿ç”¨ä¸é£é™©","lang":"zh-CN","frontmatter":{"title":"2.3 ç›´æ¥å†…å­˜ DirectMemory çš„ä½¿ç”¨ä¸é£é™©","icon":"fa-solid fa-database","date":"2025-07-10T00:00:00.000Z","author":"JeanHu","category":["JVM"],"tag":["JVM","ç›´æ¥å†…å­˜","DirectMemory","å†…å­˜ç®¡ç†","é£é™©"],"summary":"æœ¬æ–‡ä»‹ç» Java ç›´æ¥å†…å­˜ï¼ˆDirect Memoryï¼‰çš„æ¦‚å¿µã€ä½¿ç”¨åœºæ™¯åŠå…¶æ½œåœ¨é£é™©ï¼Œè§£æç›´æ¥å†…å­˜çš„åˆ†é…æœºåˆ¶å’Œè°ƒä¼˜å»ºè®®ï¼Œå¸®åŠ©å¼€å‘è€…åˆç†åˆ©ç”¨å†…å­˜èµ„æºã€‚","gitInclude":[]},"headers":[{"level":2,"title":"ğŸ“¦ ä»€ä¹ˆæ˜¯ç›´æ¥å†…å­˜ï¼ˆDirect Memoryï¼‰ï¼Ÿ","slug":"ğŸ“¦-ä»€ä¹ˆæ˜¯ç›´æ¥å†…å­˜-direct-memory","link":"#ğŸ“¦-ä»€ä¹ˆæ˜¯ç›´æ¥å†…å­˜-direct-memory","children":[]},{"level":2,"title":"ğŸ“ ç›´æ¥å†…å­˜ä¸å †å†…å­˜å¯¹æ¯”","slug":"ğŸ“-ç›´æ¥å†…å­˜ä¸å †å†…å­˜å¯¹æ¯”","link":"#ğŸ“-ç›´æ¥å†…å­˜ä¸å †å†…å­˜å¯¹æ¯”","children":[]},{"level":2,"title":"ğŸ”§ ä½¿ç”¨æ–¹å¼ç¤ºä¾‹","slug":"ğŸ”§-ä½¿ç”¨æ–¹å¼ç¤ºä¾‹","link":"#ğŸ”§-ä½¿ç”¨æ–¹å¼ç¤ºä¾‹","children":[{"level":3,"title":"1. ä½¿ç”¨ NIO ByteBuffer åˆ†é…","slug":"_1-ä½¿ç”¨-nio-bytebuffer-åˆ†é…","link":"#_1-ä½¿ç”¨-nio-bytebuffer-åˆ†é…","children":[]},{"level":3,"title":"2. ä½¿ç”¨ Unsafe ä½å±‚ APIï¼ˆä¸æ¨èï¼‰","slug":"_2-ä½¿ç”¨-unsafe-ä½å±‚-api-ä¸æ¨è","link":"#_2-ä½¿ç”¨-unsafe-ä½å±‚-api-ä¸æ¨è","children":[]}]},{"level":2,"title":"ğŸš¨ ç›´æ¥å†…å­˜çš„é£é™©","slug":"ğŸš¨-ç›´æ¥å†…å­˜çš„é£é™©","link":"#ğŸš¨-ç›´æ¥å†…å­˜çš„é£é™©","children":[]},{"level":2,"title":"ğŸ“Š å¦‚ä½•ç›‘æ§ä¸é…ç½®","slug":"ğŸ“Š-å¦‚ä½•ç›‘æ§ä¸é…ç½®","link":"#ğŸ“Š-å¦‚ä½•ç›‘æ§ä¸é…ç½®","children":[{"level":3,"title":"1. é…ç½®ç›´æ¥å†…å­˜ä¸Šé™","slug":"_1-é…ç½®ç›´æ¥å†…å­˜ä¸Šé™","link":"#_1-é…ç½®ç›´æ¥å†…å­˜ä¸Šé™","children":[]},{"level":3,"title":"2. è¯Šæ–­å·¥å…·","slug":"_2-è¯Šæ–­å·¥å…·","link":"#_2-è¯Šæ–­å·¥å…·","children":[]}]},{"level":2,"title":"ğŸ“Œ é¢è¯•ä¸å®æˆ˜é—®ç­”","slug":"ğŸ“Œ-é¢è¯•ä¸å®æˆ˜é—®ç­”","link":"#ğŸ“Œ-é¢è¯•ä¸å®æˆ˜é—®ç­”","children":[]},{"level":2,"title":"ğŸ“ å°ç»“","slug":"ğŸ“-å°ç»“","link":"#ğŸ“-å°ç»“","children":[]}],"readingTime":{"minutes":2.4,"words":721},"filePathRelative":"JVM/ä¸€å‘½é€Ÿé€š/2.å†…å­˜ç»“æ„ä¸å¹¶å‘å†…å­˜æ¨¡å‹/2.3ç›´æ¥å†…å­˜DirectMemoryçš„ä½¿ç”¨ä¸é£é™©.md","localizedDate":"2025å¹´7æœˆ10æ—¥","excerpt":"\\n<h2>ğŸ“¦ ä»€ä¹ˆæ˜¯ç›´æ¥å†…å­˜ï¼ˆDirect Memoryï¼‰ï¼Ÿ</h2>\\n<p>ç›´æ¥å†…å­˜æ˜¯ JVM å¤–çš„ä¸€å—å†…å­˜åŒºåŸŸï¼Œä¸å— Java å †ç©ºé—´é™åˆ¶ã€‚å®ƒé€šè¿‡ <code>sun.misc.Unsafe</code> æˆ– <code>java.nio.ByteBuffer.allocateDirect()</code> åˆ†é…ï¼Œåœ¨ Java ç¨‹åºä¸­å¯ç”¨äºé«˜æ€§èƒ½ IO æ“ä½œã€‚</p>\\n<p>ç›´æ¥å†…å­˜çš„æœ€å¤§ä¼˜åŠ¿æ˜¯<strong>ç»•è¿‡ Java å †å†…å­˜ä¸ GC ç®¡ç†ï¼Œæé«˜æ•°æ®ä¼ è¾“æ•ˆç‡</strong>ï¼Œå°¤å…¶é€‚ç”¨äº Nettyã€Kafkaã€Zero-Copy åœºæ™¯ã€‚</p>\\n"}')}}]);