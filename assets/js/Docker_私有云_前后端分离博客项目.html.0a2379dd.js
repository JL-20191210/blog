"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[4561],{66262:(s,i)=>{i.A=(s,i)=>{const a=s.__vccOpts||s;for(const[s,n]of i)a[s]=n;return a}},79117:(s,i,a)=>{a.r(i),a.d(i,{comp:()=>l,data:()=>h});var n=a(20641);const e={},l=(0,a(66262).A)(e,[["render",function(s,i){return(0,n.uX)(),(0,n.CE)("div",null,i[0]||(i[0]=[(0,n.Fv)('<h1 id="åšå®¢é¡¹ç›®" tabindex="-1"><a class="header-anchor" href="#åšå®¢é¡¹ç›®"><span>åšå®¢é¡¹ç›®</span></a></h1><blockquote><p>dockerå®‰è£…åç«¯é¡¹ç›®weblog</p></blockquote><h3 id="_1-ç›®å½•ç»“æ„" tabindex="-1"><a class="header-anchor" href="#_1-ç›®å½•ç»“æ„"><span>1. ç›®å½•ç»“æ„</span></a></h3><p>project-root/ â”‚ â”œâ”€â”€ code/ â”‚ â”œâ”€â”€ Dockerfile â”‚ â”œâ”€â”€ weblog-web-0.0.1-SNAPSHOT.jar â”‚ â””â”€â”€ application.yml â”‚ â””â”€â”€ docker-compose.yml</p><h3 id="_2-dockeræ–¹å¼å¯åŠ¨" tabindex="-1"><a class="header-anchor" href="#_2-dockeræ–¹å¼å¯åŠ¨"><span>2.dockeræ–¹å¼å¯åŠ¨</span></a></h3><p>ğŸ’â€â™‚ï¸æ“ä½œåœ¨codeç›®å½•ä¸‹å®Œæˆ</p><p>1ï¸âƒ£<strong>ç¼–å†™Dockerfileæ–‡ä»¶</strong></p><p><code>vim Dockerfile</code></p><div class="language-dockerfile line-numbers-mode" data-highlighter="shiki" data-ext="dockerfile" data-title="dockerfile" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># ...... OpenJDK 8 ..................</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> openjdk:8-jre</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># ..................</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">WORKDIR</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /app/weblog/code</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># ... JAR .......................................</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">COPY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> weblog-web-0.0.1-SNAPSHOT.jar ./weblog-web-0.0.1-SNAPSHOT.jar</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">COPY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> application.yml ./application.yml</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># .......................................</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">EXPOSE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 8081</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># ....................................</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">CMD</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;java&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;-jar&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;weblog-web-0.0.1-SNAPSHOT.jar&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>:x</code>ä¿å­˜é€€å‡º</p><p>2ï¸âƒ£æ„å»ºdockeré•œåƒ</p><p><code>docker build -t weblog .</code></p><p>3ï¸âƒ£åˆ›å»ºdockerå®¹å™¨</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> run</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -d</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>\n<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  --name</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> weblog</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>\n<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  -p</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 8081:8081</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>\n<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  --restart</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> always</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>\n<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">  weblog</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-docker-composeæ–¹å¼å¯åŠ¨" tabindex="-1"><a class="header-anchor" href="#_3-docker-composeæ–¹å¼å¯åŠ¨"><span>3. docker-composeæ–¹å¼å¯åŠ¨</span></a></h3><p>ğŸ’â€â™€ï¸æ“ä½œåœ¨project-rootç›®å½•ä¸‹å®Œæˆ</p><p>1ï¸âƒ£ç¼–å†™<code>docker-compose.yml</code>æ–‡ä»¶</p><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">version</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;3.8&#39;</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">services</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  weblog</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    image</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">amazoncorretto:8</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    container_name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">weblog</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    working_dir</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/app/weblog/code</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    volumes</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      - </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">./code/weblog-web-0.0.1-SNAPSHOT.jar:/app/weblog/code/weblog-web-0.0.1-SNAPSHOT.jar</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      - </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">./code/application.yml:/app/weblog/code/application.yml</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    ports</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      - </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;8100:8081&quot;</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    command</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: [</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;java&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;-jar&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;weblog-web-0.0.1-SNAPSHOT.jar&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2ï¸âƒ£å¯åŠ¨é¡¹ç›®</p><p><code>docker-compose up -d</code></p>',20)]))}]]),h=JSON.parse('{"path":"/Docker/%E7%A7%81%E6%9C%89%E4%BA%91/%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB%E5%8D%9A%E5%AE%A2%E9%A1%B9%E7%9B%AE.html","title":"åšå®¢é¡¹ç›®","lang":"zh-CN","frontmatter":{"gitInclude":[]},"headers":[{"level":3,"title":"1. ç›®å½•ç»“æ„","slug":"_1-ç›®å½•ç»“æ„","link":"#_1-ç›®å½•ç»“æ„","children":[]},{"level":3,"title":"2.dockeræ–¹å¼å¯åŠ¨","slug":"_2-dockeræ–¹å¼å¯åŠ¨","link":"#_2-dockeræ–¹å¼å¯åŠ¨","children":[]},{"level":3,"title":"3. docker-composeæ–¹å¼å¯åŠ¨","slug":"_3-docker-composeæ–¹å¼å¯åŠ¨","link":"#_3-docker-composeæ–¹å¼å¯åŠ¨","children":[]}],"readingTime":{"minutes":0.63,"words":190},"filePathRelative":"Docker/ç§æœ‰äº‘/å‰åç«¯åˆ†ç¦»åšå®¢é¡¹ç›®.md","excerpt":"\\n<blockquote>\\n<p>dockerå®‰è£…åç«¯é¡¹ç›®weblog</p>\\n</blockquote>\\n<h3>1. ç›®å½•ç»“æ„</h3>\\n<p>project-root/\\nâ”‚\\nâ”œâ”€â”€ code/\\nâ”‚   â”œâ”€â”€ Dockerfile\\nâ”‚   â”œâ”€â”€ weblog-web-0.0.1-SNAPSHOT.jar\\nâ”‚   â””â”€â”€ application.yml\\nâ”‚\\nâ””â”€â”€ docker-compose.yml</p>\\n<h3>2.dockeræ–¹å¼å¯åŠ¨</h3>\\n<p>ğŸ’â€â™‚ï¸æ“ä½œåœ¨codeç›®å½•ä¸‹å®Œæˆ</p>\\n<p>1ï¸âƒ£<strong>ç¼–å†™Dockerfileæ–‡ä»¶</strong></p>\\n<p><code>vim Dockerfile</code></p>"}')}}]);