"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[9411],{66262:(i,s)=>{s.A=(i,s)=>{const a=i.__vccOpts||i;for(const[i,e]of s)a[i]=e;return a}},51959:(i,s,a)=>{a.r(s),a.d(s,{comp:()=>t,data:()=>l});var e=a(20641);const h={},t=(0,a(66262).A)(h,[["render",function(i,s){return(0,e.uX)(),(0,e.CE)("div",null,[s[0]||(s[0]=(0,e.Lk)("h1",{id:"镜像导入导出",tabindex:"-1"},[(0,e.Lk)("a",{class:"header-anchor",href:"#镜像导入导出"},[(0,e.Lk)("span",null,"镜像导入导出")])],-1)),s[1]||(s[1]=(0,e.Lk)("p",null,"Docker镜像的导入与导出是镜像管理的常见操作，适用于跨系统传输镜像或备份镜像。以下是总结：",-1)),s[2]||(s[2]=(0,e.Lk)("hr",null,null,-1)),(0,e.Q3)(" more "),s[3]||(s[3]=(0,e.Fv)('<h3 id="导出-docker-镜像" tabindex="-1"><a class="header-anchor" href="#导出-docker-镜像"><span><strong>导出 Docker 镜像</strong></span></a></h3><p>将镜像保存为 <code>.tar</code> 文件便于传输或备份。</p><h4 id="步骤" tabindex="-1"><a class="header-anchor" href="#步骤"><span><strong>步骤</strong></span></a></h4><ol><li>查看当前已有的镜像：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> images</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li>导出镜像到本地文件：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> save</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -o</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">保存路径/文件名.ta</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">r&gt; &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">镜像名:标</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">签&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><strong>示例</strong>：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> save</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -o</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> myimage.tar</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> myapp:latest</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ol><h4 id="注意" tabindex="-1"><a class="header-anchor" href="#注意"><span><strong>注意</strong></span></a></h4><ul><li>如果镜像名中没有指定标签，默认使用 <code>latest</code>。</li><li>导出的文件是镜像的完整数据，包括所有层和元数据。</li></ul><hr><h3 id="导入-docker-镜像" tabindex="-1"><a class="header-anchor" href="#导入-docker-镜像"><span><strong>导入 Docker 镜像</strong></span></a></h3><p>将 <code>.tar</code> 文件加载到本地 Docker 环境中。</p><h4 id="步骤-1" tabindex="-1"><a class="header-anchor" href="#步骤-1"><span><strong>步骤</strong></span></a></h4><ol><li><p>导入镜像文件：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> load</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -i</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">文件路径/文件名.ta</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">r&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>示例</strong>：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> load</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -i</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> myimage.tar</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>查看导入结果：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> images</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ol><h4 id="注意-1" tabindex="-1"><a class="header-anchor" href="#注意-1"><span><strong>注意</strong></span></a></h4><ul><li>导入后，镜像会出现在本地镜像列表中。</li><li>如果 <code>.tar</code> 文件包含多个镜像，导入后它们都会显示。</li></ul><hr><h3 id="镜像传输" tabindex="-1"><a class="header-anchor" href="#镜像传输"><span><strong>镜像传输</strong></span></a></h3><p>将导出的 <code>.tar</code> 文件传输到目标系统后，按上述步骤在目标系统中加载。</p><h4 id="传输方法" tabindex="-1"><a class="header-anchor" href="#传输方法"><span><strong>传输方法</strong></span></a></h4><ol><li>使用 <code>scp</code> 命令：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">scp</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> myimage.tar</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> user@remote_host:/path/to/destination</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li>或使用 <code>rsync</code>：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">rsync</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -avz</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> myimage.tar</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> user@remote_host:/path/to/destination</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ol><hr><h3 id="示例场景" tabindex="-1"><a class="header-anchor" href="#示例场景"><span><strong>示例场景</strong></span></a></h3><h4 id="导出并传输镜像" tabindex="-1"><a class="header-anchor" href="#导出并传输镜像"><span><strong>导出并传输镜像</strong></span></a></h4><ol><li>在源机器导出镜像：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> save</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -o</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> myimage.tar</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> myapp:1.0</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li>使用 <code>scp</code> 传输到目标机器：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">scp</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> myimage.tar</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> user@remote_host:/path/to/destination</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li>在目标机器导入镜像：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> load</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -i</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /path/to/destination/myimage.tar</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ol><h4 id="镜像备份与恢复" tabindex="-1"><a class="header-anchor" href="#镜像备份与恢复"><span><strong>镜像备份与恢复</strong></span></a></h4><ol><li><strong>备份</strong>：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> save</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -o</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> backup.tar</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> myapp:1.0</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><strong>恢复</strong>：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> load</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -i</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> backup.tar</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ol><hr><h3 id="差异对比" tabindex="-1"><a class="header-anchor" href="#差异对比"><span><strong>差异对比</strong></span></a></h3><table><thead><tr><th>操作</th><th>命令</th><th>结果</th></tr></thead><tbody><tr><td>导出</td><td><code>docker save</code></td><td>生成包含镜像层和元数据的 <code>.tar</code> 文件</td></tr><tr><td>导入</td><td><code>docker load</code></td><td>加载 <code>.tar</code> 文件到本地镜像库</td></tr></tbody></table><p>使用导入和导出可以轻松实现跨环境共享和镜像备份，是 Docker 日常使用中非常重要的功能。</p>',28))])}]]),l=JSON.parse('{"path":"/Docker/%E9%95%9C%E5%83%8F%E5%AF%BC%E5%85%A5%E5%AF%BC%E5%87%BA.html","title":"镜像导入导出","lang":"zh-CN","frontmatter":{"icon":"laptop-code","date":"2024-11-23T00:00:00.000Z","category":["docker"],"tag":["镜像"],"gitInclude":[]},"headers":[{"level":3,"title":"导出 Docker 镜像","slug":"导出-docker-镜像","link":"#导出-docker-镜像","children":[]},{"level":3,"title":"导入 Docker 镜像","slug":"导入-docker-镜像","link":"#导入-docker-镜像","children":[]},{"level":3,"title":"镜像传输","slug":"镜像传输","link":"#镜像传输","children":[]},{"level":3,"title":"示例场景","slug":"示例场景","link":"#示例场景","children":[]},{"level":3,"title":"差异对比","slug":"差异对比","link":"#差异对比","children":[]}],"readingTime":{"minutes":1.63,"words":489},"filePathRelative":"Docker/镜像导入导出.md","localizedDate":"2024年11月23日","excerpt":"\\n<p>Docker镜像的导入与导出是镜像管理的常见操作，适用于跨系统传输镜像或备份镜像。以下是总结：</p>\\n<hr>\\n"}')}}]);