"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[79832],{66262:(i,s)=>{s.A=(i,s)=>{const a=i.__vccOpts||i;for(const[i,e]of s)a[i]=e;return a}},55183:(i,s,a)=>{a.r(s),a.d(s,{comp:()=>h,data:()=>l});var e=a(20641);const n={},h=(0,a(66262).A)(n,[["render",function(i,s){return(0,e.uX)(),(0,e.CE)("div",null,s[0]||(s[0]=[(0,e.Fv)('<h1 id="java-çš„å¼•ç”¨ä¼ é€’æœºåˆ¶-ä»¥åŠå››ç§å¼•ç”¨ç±»å‹å¯¹-gc-çš„å½±å“" tabindex="-1"><a class="header-anchor" href="#java-çš„å¼•ç”¨ä¼ é€’æœºåˆ¶-ä»¥åŠå››ç§å¼•ç”¨ç±»å‹å¯¹-gc-çš„å½±å“"><span>Java çš„å¼•ç”¨ä¼ é€’æœºåˆ¶ï¼Œä»¥åŠå››ç§å¼•ç”¨ç±»å‹å¯¹ GC çš„å½±å“</span></a></h1><hr><h2 id="ğŸŒ€-ä¸€ã€java-æ˜¯å€¼ä¼ é€’è¿˜æ˜¯å¼•ç”¨ä¼ é€’" tabindex="-1"><a class="header-anchor" href="#ğŸŒ€-ä¸€ã€java-æ˜¯å€¼ä¼ é€’è¿˜æ˜¯å¼•ç”¨ä¼ é€’"><span>ğŸŒ€ ä¸€ã€Java æ˜¯å€¼ä¼ é€’è¿˜æ˜¯å¼•ç”¨ä¼ é€’ï¼Ÿ</span></a></h2><p>è¿™ä¸ªé—®é¢˜å¸¸è®©äººå›°æƒ‘â€”â€”<strong>Java æ°¸è¿œæ˜¯å€¼ä¼ é€’ï¼ˆpass by valueï¼‰ï¼</strong></p><h3 id="ğŸ‘‡-åŒºåˆ†å…³é”®" tabindex="-1"><a class="header-anchor" href="#ğŸ‘‡-åŒºåˆ†å…³é”®"><span>ğŸ‘‡ åŒºåˆ†å…³é”®ï¼š</span></a></h3><ul><li>å¯¹äº <strong>åŸºæœ¬ç±»å‹</strong>ï¼Œä¼ çš„æ˜¯å€¼çš„å‰¯æœ¬ï¼ˆç›´æ¥æ•°æ®ï¼‰ã€‚</li><li>å¯¹äº <strong>å¼•ç”¨ç±»å‹</strong>ï¼Œä¼ çš„æ˜¯å¯¹è±¡å¼•ç”¨çš„å‰¯æœ¬ï¼ˆå¯¹è±¡åœ°å€çš„æ‹·è´ï¼‰ã€‚</li></ul><h3 id="âœï¸-ç¤ºä¾‹è¯´æ˜" tabindex="-1"><a class="header-anchor" href="#âœï¸-ç¤ºä¾‹è¯´æ˜"><span>âœï¸ ç¤ºä¾‹è¯´æ˜ï¼š</span></a></h3><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> change</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Person</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> p) {</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    p</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;å¼ ä¸‰&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">     // æ”¹å˜çš„æ˜¯å †ä¸­å¯¹è±¡çš„å­—æ®µ âœ…</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    p </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> Person</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // æ”¹å˜çš„æ˜¯å¼•ç”¨æœ¬èº« âŒï¼ˆåªåœ¨æ–¹æ³•å†…æœ‰æ•ˆï¼‰</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    p</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;æå››&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Person</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> person </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> Person</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">person</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;åŸå&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">change</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(person)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">System</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">out</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">println</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">person</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // è¾“å‡ºï¼šå¼ ä¸‰</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ğŸ” è§£é‡Šï¼š</p><ul><li><code>p.name = &quot;å¼ ä¸‰&quot;</code> ä½œç”¨åˆ°äº†åŸå¯¹è±¡ã€‚</li><li><code>p = new Person()</code> åªæ”¹å˜äº† p çš„åœ°å€å‰¯æœ¬ï¼Œ<code>person</code> æœ¬èº«ä¸å—å½±å“ã€‚</li></ul><hr><h2 id="ğŸŒªï¸-äºŒã€java-ä¸­çš„å››ç§å¼•ç”¨ç±»å‹-jdk-1-2-å¼•å…¥" tabindex="-1"><a class="header-anchor" href="#ğŸŒªï¸-äºŒã€java-ä¸­çš„å››ç§å¼•ç”¨ç±»å‹-jdk-1-2-å¼•å…¥"><span>ğŸŒªï¸ äºŒã€Java ä¸­çš„å››ç§å¼•ç”¨ç±»å‹ï¼ˆJDK 1.2 å¼•å…¥ï¼‰</span></a></h2><p>Java çš„ <code>java.lang.ref</code> åŒ…å®šä¹‰äº†å››ç§å¼•ç”¨ç±»å‹ï¼Œå¯¹è±¡è¢« GC çš„æ—¶æœºå–å†³äºå¼•ç”¨çš„å¼ºå¼±ç¨‹åº¦ï¼š</p><table><thead><tr><th>å¼•ç”¨ç±»å‹</th><th>ç±»å</th><th>æ˜¯å¦ä¼šé˜»æ­¢ GC</th><th>å¸¸ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><strong>å¼ºå¼•ç”¨</strong></td><td>æ™®é€šå˜é‡ï¼ˆé»˜è®¤ï¼‰</td><td>âœ… æ˜¯</td><td>å¸¸è§„å¯¹è±¡</td></tr><tr><td><strong>è½¯å¼•ç”¨</strong></td><td><code>SoftReference&lt;T&gt;</code></td><td>âŒ å†…å­˜ä¸è¶³æ‰å›æ”¶</td><td>ç¼“å­˜ï¼Œå¦‚å›¾ç‰‡ç¼“å­˜ã€å¯¹è±¡æ± </td></tr><tr><td><strong>å¼±å¼•ç”¨</strong></td><td><code>WeakReference&lt;T&gt;</code></td><td>âŒ ä¸‹ä¸€æ¬¡ GC å³å›æ”¶</td><td>ThreadLocalã€Map key ç­‰</td></tr><tr><td><strong>è™šå¼•ç”¨</strong></td><td><code>PhantomReference&lt;T&gt;</code></td><td>âŒ ä¸å¯è®¿é—®</td><td>ä¸ <code>ReferenceQueue</code> é…åˆï¼Œåšèµ„æºå›æ”¶ç›‘æ§</td></tr></tbody></table><hr><h3 id="âœ…-å¼ºå¼•ç”¨-strong-reference-â€”â€”-é»˜è®¤çš„å¼•ç”¨ç±»å‹" tabindex="-1"><a class="header-anchor" href="#âœ…-å¼ºå¼•ç”¨-strong-reference-â€”â€”-é»˜è®¤çš„å¼•ç”¨ç±»å‹"><span>âœ… å¼ºå¼•ç”¨ï¼ˆStrong Referenceï¼‰â€”â€” é»˜è®¤çš„å¼•ç”¨ç±»å‹</span></a></h3><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Person</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> p </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> Person</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>åªè¦æœ‰å¼ºå¼•ç”¨æŒ‡å‘å¯¹è±¡ï¼Œå®ƒå°±<strong>ç»ä¸ä¼šè¢«å›æ”¶</strong>ã€‚</li></ul><hr><h3 id="âœ…-è½¯å¼•ç”¨-soft-reference" tabindex="-1"><a class="header-anchor" href="#âœ…-è½¯å¼•ç”¨-soft-reference"><span>âœ… è½¯å¼•ç”¨ï¼ˆSoft Referenceï¼‰</span></a></h3><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">SoftReference</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Person</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> sr </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> SoftReference</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> Person</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">())</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>å¦‚æœå†…å­˜ä¸è¶³ï¼ŒGC ä¼šå°è¯•å›æ”¶è½¯å¼•ç”¨æŒ‡å‘çš„å¯¹è±¡ã€‚</li><li>å¸¸ç”¨äº<strong>ç¼“å­˜æœºåˆ¶</strong>ï¼ˆå¦‚å›¾ç‰‡ç¼“å­˜ã€ç½‘é¡µç¼“å­˜ï¼‰ã€‚</li></ul><hr><h3 id="âœ…-å¼±å¼•ç”¨-weak-reference" tabindex="-1"><a class="header-anchor" href="#âœ…-å¼±å¼•ç”¨-weak-reference"><span>âœ… å¼±å¼•ç”¨ï¼ˆWeak Referenceï¼‰</span></a></h3><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">WeakReference</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Person</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> wr </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> WeakReference</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> Person</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">())</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><strong>ä¸‹ä¸€æ¬¡ GC å°±ä¼šå›æ”¶</strong>ï¼ˆå³ä½¿å†…å­˜è¶³å¤Ÿï¼‰ã€‚</li><li>ç”¨äºå†…å­˜æ•æ„Ÿåœºæ™¯ï¼Œå¦‚ï¼š <ul><li><code>ThreadLocalMap</code> ä¸­çš„ key</li><li>é˜²æ­¢å†…å­˜æ³„æ¼</li></ul></li></ul><hr><h3 id="âœ…-è™šå¼•ç”¨-phantom-reference" tabindex="-1"><a class="header-anchor" href="#âœ…-è™šå¼•ç”¨-phantom-reference"><span>âœ… è™šå¼•ç”¨ï¼ˆPhantom Referenceï¼‰</span></a></h3><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">ReferenceQueue</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Person</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> queue </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> ReferenceQueue</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>\n<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">PhantomReference</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Person</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> pr </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> PhantomReference</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> Person</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> queue)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å¯¹è±¡æ— æ³•é€šè¿‡è™šå¼•ç”¨è·å–ï¼ˆ<code>get()</code> æ€»æ˜¯è¿”å› nullï¼‰ã€‚</li><li>å¸¸ç”¨äº<strong>å¯¹è±¡å›æ”¶åæ¸…ç†èµ„æº</strong>ï¼Œç±»ä¼¼ C++ çš„ææ„å™¨ã€‚</li></ul><hr><h2 id="ğŸš€-ä¸‰ã€gc-roots-çš„åˆ¤å®šæ ‡å‡†-å†³å®šå¯¹è±¡æ˜¯å¦å­˜æ´»" tabindex="-1"><a class="header-anchor" href="#ğŸš€-ä¸‰ã€gc-roots-çš„åˆ¤å®šæ ‡å‡†-å†³å®šå¯¹è±¡æ˜¯å¦å­˜æ´»"><span>ğŸš€ ä¸‰ã€GC Roots çš„åˆ¤å®šæ ‡å‡†ï¼ˆå†³å®šå¯¹è±¡æ˜¯å¦å­˜æ´»ï¼‰</span></a></h2><p>ä»¥ä¸‹å¯¹è±¡è¢«è§†ä¸º GC Rootsï¼Œåªæœ‰ <strong>æ²¡æœ‰ä»»ä½• GC Root å¼•ç”¨è·¯å¾„çš„å¯¹è±¡</strong> æ‰å¯èƒ½è¢«å›æ”¶ï¼š</p><ul><li>å½“å‰çº¿ç¨‹æ ˆä¸­çš„å¼•ç”¨ï¼ˆå±€éƒ¨å˜é‡ï¼‰</li><li>é™æ€å­—æ®µå¼•ç”¨ï¼ˆç±»åŠ è½½å™¨ç›¸å…³ï¼‰</li><li>JNIï¼ˆæœ¬åœ°ä»£ç ï¼‰ä¸­çš„å¼•ç”¨</li><li>æ´»è·ƒçº¿ç¨‹å¼•ç”¨</li></ul><hr><h2 id="ğŸ§ -æ€»ç»“å›¾ç¤º-å¼•ç”¨å¼ºåº¦å¯¹-gc-çš„å½±å“" tabindex="-1"><a class="header-anchor" href="#ğŸ§ -æ€»ç»“å›¾ç¤º-å¼•ç”¨å¼ºåº¦å¯¹-gc-çš„å½±å“"><span>ğŸ§  æ€»ç»“å›¾ç¤ºï¼ˆå¼•ç”¨å¼ºåº¦å¯¹ GC çš„å½±å“ï¼‰</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>å¼•ç”¨å¼ºåº¦:   å¼º &gt; è½¯ &gt; å¼± &gt; è™š</span></span>\n<span class="line"><span>å›æ”¶æ—¶æœº:   ä¸å›æ”¶ &gt; å†…å­˜ç´§å¼ æ—¶ &gt; ä¸‹ä¸€æ¬¡GC &gt; åˆ°è¾¾ReferenceQueue</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="ğŸ“Œ-å®æˆ˜åº”ç”¨å»ºè®®" tabindex="-1"><a class="header-anchor" href="#ğŸ“Œ-å®æˆ˜åº”ç”¨å»ºè®®"><span>ğŸ“Œ å®æˆ˜åº”ç”¨å»ºè®®</span></a></h2><table><thead><tr><th>åº”ç”¨åœºæ™¯</th><th>å»ºè®®ä½¿ç”¨å¼•ç”¨ç±»å‹</th></tr></thead><tbody><tr><td>å¯¹è±¡ç»ä¸èƒ½è¢«å›æ”¶</td><td>å¼ºå¼•ç”¨ï¼ˆé»˜è®¤ï¼‰</td></tr><tr><td>å†…å­˜å……è¶³æ—¶å¯ç”¨ï¼Œä¸è¶³æ—¶å›æ”¶</td><td>è½¯å¼•ç”¨</td></tr><tr><td>éœ€è¦é˜²æ­¢å†…å­˜æ³„æ¼</td><td>å¼±å¼•ç”¨</td></tr><tr><td>éœ€è¦ç›‘æ§å¯¹è±¡æ˜¯å¦è¢«å›æ”¶</td><td>è™šå¼•ç”¨ + å¼•ç”¨é˜Ÿåˆ—</td></tr></tbody></table>',40)]))}]]),l=JSON.parse('{"path":"/Java/%E9%9A%8F%E7%AC%94/Java%20%E7%9A%84%E5%BC%95%E7%94%A8%E4%BC%A0%E9%80%92%E6%9C%BA%E5%88%B6.html","title":"Java çš„å¼•ç”¨ä¼ é€’æœºåˆ¶ï¼Œä»¥åŠå››ç§å¼•ç”¨ç±»å‹å¯¹ GC çš„å½±å“","lang":"zh-CN","frontmatter":{"gitInclude":[]},"headers":[{"level":2,"title":"ğŸŒ€ ä¸€ã€Java æ˜¯å€¼ä¼ é€’è¿˜æ˜¯å¼•ç”¨ä¼ é€’ï¼Ÿ","slug":"ğŸŒ€-ä¸€ã€java-æ˜¯å€¼ä¼ é€’è¿˜æ˜¯å¼•ç”¨ä¼ é€’","link":"#ğŸŒ€-ä¸€ã€java-æ˜¯å€¼ä¼ é€’è¿˜æ˜¯å¼•ç”¨ä¼ é€’","children":[{"level":3,"title":"ğŸ‘‡ åŒºåˆ†å…³é”®ï¼š","slug":"ğŸ‘‡-åŒºåˆ†å…³é”®","link":"#ğŸ‘‡-åŒºåˆ†å…³é”®","children":[]},{"level":3,"title":"âœï¸ ç¤ºä¾‹è¯´æ˜ï¼š","slug":"âœï¸-ç¤ºä¾‹è¯´æ˜","link":"#âœï¸-ç¤ºä¾‹è¯´æ˜","children":[]}]},{"level":2,"title":"ğŸŒªï¸ äºŒã€Java ä¸­çš„å››ç§å¼•ç”¨ç±»å‹ï¼ˆJDK 1.2 å¼•å…¥ï¼‰","slug":"ğŸŒªï¸-äºŒã€java-ä¸­çš„å››ç§å¼•ç”¨ç±»å‹-jdk-1-2-å¼•å…¥","link":"#ğŸŒªï¸-äºŒã€java-ä¸­çš„å››ç§å¼•ç”¨ç±»å‹-jdk-1-2-å¼•å…¥","children":[{"level":3,"title":"âœ… å¼ºå¼•ç”¨ï¼ˆStrong Referenceï¼‰â€”â€” é»˜è®¤çš„å¼•ç”¨ç±»å‹","slug":"âœ…-å¼ºå¼•ç”¨-strong-reference-â€”â€”-é»˜è®¤çš„å¼•ç”¨ç±»å‹","link":"#âœ…-å¼ºå¼•ç”¨-strong-reference-â€”â€”-é»˜è®¤çš„å¼•ç”¨ç±»å‹","children":[]},{"level":3,"title":"âœ… è½¯å¼•ç”¨ï¼ˆSoft Referenceï¼‰","slug":"âœ…-è½¯å¼•ç”¨-soft-reference","link":"#âœ…-è½¯å¼•ç”¨-soft-reference","children":[]},{"level":3,"title":"âœ… å¼±å¼•ç”¨ï¼ˆWeak Referenceï¼‰","slug":"âœ…-å¼±å¼•ç”¨-weak-reference","link":"#âœ…-å¼±å¼•ç”¨-weak-reference","children":[]},{"level":3,"title":"âœ… è™šå¼•ç”¨ï¼ˆPhantom Referenceï¼‰","slug":"âœ…-è™šå¼•ç”¨-phantom-reference","link":"#âœ…-è™šå¼•ç”¨-phantom-reference","children":[]}]},{"level":2,"title":"ğŸš€ ä¸‰ã€GC Roots çš„åˆ¤å®šæ ‡å‡†ï¼ˆå†³å®šå¯¹è±¡æ˜¯å¦å­˜æ´»ï¼‰","slug":"ğŸš€-ä¸‰ã€gc-roots-çš„åˆ¤å®šæ ‡å‡†-å†³å®šå¯¹è±¡æ˜¯å¦å­˜æ´»","link":"#ğŸš€-ä¸‰ã€gc-roots-çš„åˆ¤å®šæ ‡å‡†-å†³å®šå¯¹è±¡æ˜¯å¦å­˜æ´»","children":[]},{"level":2,"title":"ğŸ§  æ€»ç»“å›¾ç¤ºï¼ˆå¼•ç”¨å¼ºåº¦å¯¹ GC çš„å½±å“ï¼‰","slug":"ğŸ§ -æ€»ç»“å›¾ç¤º-å¼•ç”¨å¼ºåº¦å¯¹-gc-çš„å½±å“","link":"#ğŸ§ -æ€»ç»“å›¾ç¤º-å¼•ç”¨å¼ºåº¦å¯¹-gc-çš„å½±å“","children":[]},{"level":2,"title":"ğŸ“Œ å®æˆ˜åº”ç”¨å»ºè®®","slug":"ğŸ“Œ-å®æˆ˜åº”ç”¨å»ºè®®","link":"#ğŸ“Œ-å®æˆ˜åº”ç”¨å»ºè®®","children":[]}],"readingTime":{"minutes":2.36,"words":709},"filePathRelative":"Java/éšç¬”/Java çš„å¼•ç”¨ä¼ é€’æœºåˆ¶.md","excerpt":"\\n<hr>\\n<h2>ğŸŒ€ ä¸€ã€Java æ˜¯å€¼ä¼ é€’è¿˜æ˜¯å¼•ç”¨ä¼ é€’ï¼Ÿ</h2>\\n<p>è¿™ä¸ªé—®é¢˜å¸¸è®©äººå›°æƒ‘â€”â€”<strong>Java æ°¸è¿œæ˜¯å€¼ä¼ é€’ï¼ˆpass by valueï¼‰ï¼</strong></p>\\n<h3>ğŸ‘‡ åŒºåˆ†å…³é”®ï¼š</h3>\\n<ul>\\n<li>å¯¹äº <strong>åŸºæœ¬ç±»å‹</strong>ï¼Œä¼ çš„æ˜¯å€¼çš„å‰¯æœ¬ï¼ˆç›´æ¥æ•°æ®ï¼‰ã€‚</li>\\n<li>å¯¹äº <strong>å¼•ç”¨ç±»å‹</strong>ï¼Œä¼ çš„æ˜¯å¯¹è±¡å¼•ç”¨çš„å‰¯æœ¬ï¼ˆå¯¹è±¡åœ°å€çš„æ‹·è´ï¼‰ã€‚</li>\\n</ul>\\n<h3>âœï¸ ç¤ºä¾‹è¯´æ˜ï¼š</h3>\\n<div class=\\"language-java line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"java\\" data-title=\\"java\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#A626A4;--shiki-dark:#C678DD\\">public</span><span style=\\"--shiki-light:#A626A4;--shiki-dark:#C678DD\\"> void</span><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\"> change</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#E06C75\\">(</span><span style=\\"--shiki-light:#C18401;--shiki-dark:#E5C07B\\">Person</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#E06C75\\"> p) {</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#E45649;--shiki-dark:#E5C07B\\">    p</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">.</span><span style=\\"--shiki-light:#E45649;--shiki-dark:#E5C07B\\">name</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#56B6C2\\"> =</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> \\"å¼ ä¸‰\\"</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">;</span><span style=\\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\\">     // æ”¹å˜çš„æ˜¯å †ä¸­å¯¹è±¡çš„å­—æ®µ âœ…</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#383A42;--shiki-dark:#E06C75\\">    p </span><span style=\\"--shiki-light:#383A42;--shiki-dark:#56B6C2\\">=</span><span style=\\"--shiki-light:#A626A4;--shiki-dark:#C678DD\\"> new</span><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\"> Person</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#E06C75\\">()</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">;</span><span style=\\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\\">    // æ”¹å˜çš„æ˜¯å¼•ç”¨æœ¬èº« âŒï¼ˆåªåœ¨æ–¹æ³•å†…æœ‰æ•ˆï¼‰</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#E45649;--shiki-dark:#E5C07B\\">    p</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">.</span><span style=\\"--shiki-light:#E45649;--shiki-dark:#E5C07B\\">name</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#56B6C2\\"> =</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> \\"æå››\\"</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#383A42;--shiki-dark:#E06C75\\">}</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#C18401;--shiki-dark:#E5C07B\\">Person</span><span style=\\"--shiki-light:#E45649;--shiki-dark:#E06C75\\"> person </span><span style=\\"--shiki-light:#383A42;--shiki-dark:#56B6C2\\">=</span><span style=\\"--shiki-light:#A626A4;--shiki-dark:#C678DD\\"> new</span><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\"> Person</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#E06C75\\">()</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#E45649;--shiki-dark:#E5C07B\\">person</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">.</span><span style=\\"--shiki-light:#E45649;--shiki-dark:#E5C07B\\">name</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#56B6C2\\"> =</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> \\"åŸå\\"</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">change</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#E06C75\\">(person)</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">;</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#E45649;--shiki-dark:#E5C07B\\">System</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">.</span><span style=\\"--shiki-light:#E45649;--shiki-dark:#E5C07B\\">out</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">.</span><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">println</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">(</span><span style=\\"--shiki-light:#E45649;--shiki-dark:#E5C07B\\">person</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">.</span><span style=\\"--shiki-light:#E45649;--shiki-dark:#E5C07B\\">name</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">);</span><span style=\\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\\"> // è¾“å‡ºï¼šå¼ ä¸‰</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>"}')}}]);