"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[7395],{6262:(s,i)=>{i.A=(s,i)=>{const a=s.__vccOpts||s;for(const[s,e]of i)a[s]=e;return a}},99:(s,i,a)=>{a.r(i),a.d(i,{comp:()=>n,data:()=>l});var e=a(641);const t={},n=(0,a(6262).A)(t,[["render",function(s,i){return(0,e.uX)(),(0,e.CE)("div",null,[i[0]||(i[0]=(0,e.Lk)("h1",{id:"äººäººfaståå°æ³¨å†Œnacoså¤±è´¥é—®é¢˜",tabindex:"-1"},[(0,e.Lk)("a",{class:"header-anchor",href:"#äººäººfaståå°æ³¨å†Œnacoså¤±è´¥é—®é¢˜"},[(0,e.Lk)("span",null,"äººäººfaståå°æ³¨å†Œnacoså¤±è´¥é—®é¢˜")])],-1)),i[1]||(i[1]=(0,e.Lk)("h2",{id:"é—®é¢˜æè¿°",tabindex:"-1"},[(0,e.Lk)("a",{class:"header-anchor",href:"#é—®é¢˜æè¿°"},[(0,e.Lk)("span",null,"é—®é¢˜æè¿°")])],-1)),i[2]||(i[2]=(0,e.Lk)("blockquote",null,[(0,e.Lk)("p",null,"spring bootä¸spring cloudç‰ˆæœ¬ä¸åŒ¹é…å¯¼è‡´nacosæ³¨å†Œå¤±è´¥")],-1)),(0,e.Q3)(" more "),i[3]||(i[3]=(0,e.Fv)('<h2 id="è§£å†³æ–¹æ¡ˆ" tabindex="-1"><a class="header-anchor" href="#è§£å†³æ–¹æ¡ˆ"><span>è§£å†³æ–¹æ¡ˆ</span></a></h2><blockquote><p><code>renren-fast</code>å½“å‰ä½¿ç”¨çš„<code>spring boot</code>ç‰ˆæœ¬ä¸º<code>2.6.6</code>ï¼Œå¯¹åº”spring cloudç‰ˆæœ¬åº”é«˜äº2021.0.x</p><p>å…¶ä½™æ¨¡å—ä¸­ä½¿ç”¨çš„<code>spring boot</code>ç‰ˆæœ¬ä¸º<code>2.1.8 RELEASE</code>ï¼Œ<code>spring cloud </code>ç‰ˆæœ¬ä¸º<code>Greenwich.SR3</code></p></blockquote><p>ğŸŒ±é™ä½renren-fastçš„spring bootç‰ˆæœ¬è‡³<code>2.1.8 RELEASE</code></p><div class="language-pom.xml line-numbers-mode" data-highlighter="shiki" data-ext="pom.xml" data-title="pom.xml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>    &lt;parent&gt;</span></span>\n<span class="line"><span>        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span></span>\n<span class="line"><span>        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;</span></span>\n<span class="line"><span>        &lt;version&gt;2.1.8.RELEASE&lt;/version&gt;</span></span>\n<span class="line"><span>        &lt;relativePath/&gt; &lt;!-- ç›´æ¥ä»åº“é‡Œæ‰¾è€Œä¸æ˜¯ä¾èµ–é¡¹ç›®ä¸­çš„ --&gt;</span></span>\n<span class="line"><span>    &lt;/parent&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>âš ï¸æ³¨æ„ä¿®æ”¹è·¨åŸŸé…ç½®æ–‡ä»¶ä¸­çš„allowedOriginPatternsä¸ºallowedOrigins</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">@</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B;">Configuration</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> CorsConfig</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> implements</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> WebMvcConfigurer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    @</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B;">Override</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> addCorsMappings</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">CorsRegistry</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> registry</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        registry</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">addMapping</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;/**&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            .</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">allowedOrigins</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;*&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            .</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">allowCredentials</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">true</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            .</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">allowedMethods</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;GET&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;POST&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;PUT&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;DELETE&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;OPTIONS&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            .</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">maxAge</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3600</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ç‰ˆæœ¬é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#ç‰ˆæœ¬é—®é¢˜"><span>ç‰ˆæœ¬é—®é¢˜</span></a></h2><p><a href="https://spring.io/projects/spring-cloud" target="_blank" rel="noopener noreferrer">spring boot ä¸ spring cloudç‰ˆæœ¬å¯¹åº”</a></p><table><thead><tr><th style="text-align:left;">Release Train</th><th style="text-align:left;">Spring Boot Generation</th></tr></thead><tbody><tr><td style="text-align:left;"><a href="https://github.com/spring-cloud/spring-cloud-release/wiki/Spring-Cloud-2023.0-Release-Notes" target="_blank" rel="noopener noreferrer">2023.0.x</a> aka Leyton</td><td style="text-align:left;">3.3.x, 3.2.x</td></tr><tr><td style="text-align:left;"><a href="https://github.com/spring-cloud/spring-cloud-release/wiki/Spring-Cloud-2022.0-Release-Notes" target="_blank" rel="noopener noreferrer">2022.0.x</a> aka Kilburn</td><td style="text-align:left;">3.0.x, 3.1.x (Starting with 2022.0.3)</td></tr><tr><td style="text-align:left;"><a href="https://github.com/spring-cloud/spring-cloud-release/wiki/Spring-Cloud-2021.0-Release-Notes" target="_blank" rel="noopener noreferrer">2021.0.x</a> aka Jubilee</td><td style="text-align:left;">2.6.x, 2.7.x (Starting with 2021.0.3)</td></tr><tr><td style="text-align:left;"><a href="https://github.com/spring-cloud/spring-cloud-release/wiki/Spring-Cloud-2020.0-Release-Notes" target="_blank" rel="noopener noreferrer">2020.0.x</a> aka Ilford</td><td style="text-align:left;">2.4.x, 2.5.x (Starting with 2020.0.3)</td></tr><tr><td style="text-align:left;"><a href="https://github.com/spring-cloud/spring-cloud-release/wiki/Spring-Cloud-Hoxton-Release-Notes" target="_blank" rel="noopener noreferrer">Hoxton</a></td><td style="text-align:left;">2.2.x, 2.3.x (Starting with SR5)</td></tr><tr><td style="text-align:left;"><a href="https://github.com/spring-projects/spring-cloud/wiki/Spring-Cloud-Greenwich-Release-Notes" target="_blank" rel="noopener noreferrer">Greenwich</a></td><td style="text-align:left;">2.1.x</td></tr><tr><td style="text-align:left;"><a href="https://github.com/spring-projects/spring-cloud/wiki/Spring-Cloud-Finchley-Release-Notes" target="_blank" rel="noopener noreferrer">Finchley</a></td><td style="text-align:left;">2.0.x</td></tr><tr><td style="text-align:left;"><a href="https://github.com/spring-projects/spring-cloud/wiki/Spring-Cloud-Edgware-Release-Notes" target="_blank" rel="noopener noreferrer">Edgware</a></td><td style="text-align:left;">1.5.x</td></tr><tr><td style="text-align:left;"><a href="https://github.com/spring-projects/spring-cloud/wiki/Spring-Cloud-Dalston-Release-Notes" target="_blank" rel="noopener noreferrer">Dalston</a></td><td style="text-align:left;">1.5.x</td></tr></tbody></table><p><a href="">CorsConfig.java</a></p><p>ğŸº<code>allowedOriginPatterns</code> æ–¹æ³•æ˜¯åœ¨ <strong>Spring Framework 5.3</strong> ä¸­å¼•å…¥çš„ï¼Œå…·ä½“æ¥è¯´æ˜¯åœ¨ <strong>Spring Boot 2.4</strong> å¼€å§‹æ”¯æŒçš„ã€‚è¯¥æ–¹æ³•å…è®¸ä½¿ç”¨æ¨¡å¼åŒ¹é…é…ç½® CORS çš„å…è®¸æ¥æºï¼Œä¸ <code>allowedOrigins</code> ä¸åŒï¼Œå®ƒæ”¯æŒé€šé…ç¬¦æ¥åŒ¹é…å­åŸŸæˆ–æ›´çµæ´»çš„ URL ç»“æ„ã€‚</p><p>ä¾‹å¦‚ï¼Œåœ¨ Spring Boot 2.4+ é¡¹ç›®ä¸­ï¼Œå¯ä»¥åœ¨ CORS é…ç½®ä¸­ä½¿ç”¨ <code>allowedOriginPatterns</code> æ¥å…è®¸ç‰¹å®šçš„æ¨¡å¼ï¼š</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">@</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B;">Override</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> addCorsMappings</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">CorsRegistry</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> registry) {</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    registry</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">addMapping</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;/**&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            .</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">allowedOriginPatterns</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;https://*.example.com&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // æ”¯æŒå­åŸŸå</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            .</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">allowedMethods</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;GET&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;POST&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            .</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">allowedHeaders</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;*&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç¡®ä¿é¡¹ç›®ä½¿ç”¨çš„æ˜¯ Spring Framework 5.3 æˆ–æ›´é«˜ç‰ˆæœ¬ï¼Œä»¥ä¾¿æ­£å¸¸ä½¿ç”¨ <code>allowedOriginPatterns</code>ã€‚</p>',14))])}]]),l=JSON.parse('{"path":"/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E6%88%98/%E8%B0%B7%E7%B2%92%E5%95%86%E5%9F%8E/%E6%8A%A5%E9%94%99%E8%AE%B0%E5%BD%95/%E4%BA%BA%E4%BA%BA%E5%90%8E%E5%8F%B0%E6%B3%A8%E5%86%8C%E8%87%B3Nacos%E7%89%88%E6%9C%AC%E9%97%AE%E9%A2%98.html","title":"äººäººfaståå°æ³¨å†Œnacoså¤±è´¥é—®é¢˜","lang":"zh-CN","frontmatter":{"icon":"fa-solid fa-bug","date":"2024-10-29T00:00:00.000Z","category":["å®æˆ˜"],"tag":["bug"],"gitInclude":[]},"headers":[{"level":2,"title":"é—®é¢˜æè¿°","slug":"é—®é¢˜æè¿°","link":"#é—®é¢˜æè¿°","children":[]},{"level":2,"title":"è§£å†³æ–¹æ¡ˆ","slug":"è§£å†³æ–¹æ¡ˆ","link":"#è§£å†³æ–¹æ¡ˆ","children":[]},{"level":2,"title":"ç‰ˆæœ¬é—®é¢˜","slug":"ç‰ˆæœ¬é—®é¢˜","link":"#ç‰ˆæœ¬é—®é¢˜","children":[]}],"readingTime":{"minutes":1.57,"words":470},"filePathRelative":"é¡¹ç›®å®æˆ˜/è°·ç²’å•†åŸ/æŠ¥é”™è®°å½•/äººäººåå°æ³¨å†Œè‡³Nacosç‰ˆæœ¬é—®é¢˜.md","localizedDate":"2024å¹´10æœˆ29æ—¥","excerpt":"\\n<h2>é—®é¢˜æè¿°</h2>\\n<blockquote>\\n<p>spring bootä¸spring cloudç‰ˆæœ¬ä¸åŒ¹é…å¯¼è‡´nacosæ³¨å†Œå¤±è´¥</p>\\n</blockquote>\\n"}')}}]);