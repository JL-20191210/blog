"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[15836],{66262:(n,s)=>{s.A=(n,s)=>{const i=n.__vccOpts||n;for(const[n,e]of s)i[n]=e;return i}},1012:(n,s,i)=>{i.r(s),i.d(s,{comp:()=>l,data:()=>t});var e=i(20641);const a={},l=(0,i(66262).A)(a,[["render",function(n,s){return(0,e.uX)(),(0,e.CE)("div",null,s[0]||(s[0]=[(0,e.Fv)('<h1 id="â˜•-javaé¢è¯•ç­”é¢˜å¡-ä¸ºä»€ä¹ˆarraylistä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„" tabindex="-1"><a class="header-anchor" href="#â˜•-javaé¢è¯•ç­”é¢˜å¡-ä¸ºä»€ä¹ˆarraylistä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„"><span>â˜• Javaé¢è¯•ç­”é¢˜å¡ï¼šä¸ºä»€ä¹ˆArrayListä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Ÿ</span></a></h1><h2 id="âœ…-1-ç»“è®ºå…ˆè¡Œ" tabindex="-1"><a class="header-anchor" href="#âœ…-1-ç»“è®ºå…ˆè¡Œ"><span>âœ… 1. ç»“è®ºå…ˆè¡Œ</span></a></h2><blockquote><p>ArrayList <strong>ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„</strong>ï¼Œå› ä¸ºå®ƒçš„<strong>å¢åˆ æŸ¥æ”¹æ“ä½œæ²¡æœ‰ä»»ä½•åŒæ­¥æ§åˆ¶</strong>ï¼Œå¤šä¸ªçº¿ç¨‹åŒæ—¶ä¿®æ”¹å…±äº«çš„ ArrayList å®ä¾‹ï¼Œå¯èƒ½å¯¼è‡´ï¼š</p></blockquote><ul><li>æ•°æ®ä¸¢å¤±</li><li>è¶Šç•Œå¼‚å¸¸</li><li>å¹¶å‘ä¿®æ”¹å¼‚å¸¸ï¼ˆConcurrentModificationExceptionï¼‰</li><li>å…ƒç´ è¦†ç›–æˆ–è„è¯»</li></ul><h2 id="âœ…-2-å“ªäº›æ–¹æ³•ä¸å®‰å…¨-ä¸¾ä¾‹è¯´æ˜" tabindex="-1"><a class="header-anchor" href="#âœ…-2-å“ªäº›æ–¹æ³•ä¸å®‰å…¨-ä¸¾ä¾‹è¯´æ˜"><span><strong>âœ… 2. å“ªäº›æ–¹æ³•ä¸å®‰å…¨ï¼Ÿä¸¾ä¾‹è¯´æ˜</strong></span></a></h2><p>æ¥çœ‹ ArrayList å¸¸ç”¨æ–¹æ³•çš„æºç ï¼ˆç®€åŒ–ç‰ˆï¼‰ï¼š</p><h3 id="ğŸ”¸-add-e-e" tabindex="-1"><a class="header-anchor" href="#ğŸ”¸-add-e-e"><span><strong>ğŸ”¸ add(E e)</strong></span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>public boolean add(E e) {</span></span>\n<span class="line"><span>    ensureCapacityInternal(size + 1);</span></span>\n<span class="line"><span>    elementData[size++] = e;</span></span>\n<span class="line"><span>    return true;</span></span>\n<span class="line"><span>}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>æœªåŠ é”</strong></li><li>size++ æ˜¯éåŸå­æ“ä½œ</li><li>å¤šçº¿ç¨‹åŒæ—¶ add()ï¼Œå¯èƒ½å¯¼è‡´æ•°æ®ä¸¢å¤±æˆ–æ•°ç»„è¶Šç•Œ</li></ul><h3 id="ğŸ”¸-get-int-index" tabindex="-1"><a class="header-anchor" href="#ğŸ”¸-get-int-index"><span><strong>ğŸ”¸ get(int index)</strong></span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>public E get(int index) {</span></span>\n<span class="line"><span>    return elementData[index]; // ä¹ŸæœªåŠ é”</span></span>\n<span class="line"><span>}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å¦‚æœæ­¤æ—¶å…¶ä»–çº¿ç¨‹åœ¨åˆ é™¤æˆ–æ‰©å®¹ï¼Œå¯èƒ½è¯»åˆ°é”™è¯¯å€¼æˆ–æŠ›å‡º IndexOutOfBoundsException</li></ul><h3 id="ğŸ”¸-remove-int-index" tabindex="-1"><a class="header-anchor" href="#ğŸ”¸-remove-int-index"><span><strong>ğŸ”¸ remove(int index)</strong></span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>public E remove(int index) {</span></span>\n<span class="line"><span>    E oldValue = elementData[index];</span></span>\n<span class="line"><span>    int numMoved = size - index - 1;</span></span>\n<span class="line"><span>    System.arraycopy(elementData, index + 1, elementData, index, numMoved);</span></span>\n<span class="line"><span>    elementData[--size] = null;</span></span>\n<span class="line"><span>    return oldValue;</span></span>\n<span class="line"><span>}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æœªåŠ é”ï¼Œä¸”ç‰µæ¶‰åˆ°æ•°ç»„ç§»åŠ¨å’Œ size--</li><li>å¤šçº¿ç¨‹æ“ä½œæ—¶ï¼Œå¯èƒ½å¯¼è‡´ï¼š <ul><li>å…ƒç´ ä¸¢å¤±</li><li>ä½ç½®é”™ä¹±</li><li>è„æ•°æ®è®¿é—®</li></ul></li></ul><h2 id="âœ…-3-å¤šçº¿ç¨‹ä¸‹çš„å®é™…ä¾‹å­-æ•°æ®ä¸¢å¤±" tabindex="-1"><a class="header-anchor" href="#âœ…-3-å¤šçº¿ç¨‹ä¸‹çš„å®é™…ä¾‹å­-æ•°æ®ä¸¢å¤±"><span><strong>âœ… 3. å¤šçº¿ç¨‹ä¸‹çš„å®é™…ä¾‹å­ï¼ˆæ•°æ®ä¸¢å¤±ï¼‰</strong></span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>List&lt;Integer&gt; list = new ArrayList&lt;&gt;();</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>Runnable task = () -&gt; {</span></span>\n<span class="line"><span>    for (int i = 0; i &lt; 1000; i++) {</span></span>\n<span class="line"><span>        list.add(i);</span></span>\n<span class="line"><span>    }</span></span>\n<span class="line"><span>};</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>Thread t1 = new Thread(task);</span></span>\n<span class="line"><span>Thread t2 = new Thread(task);</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>t1.start();</span></span>\n<span class="line"><span>t2.start();</span></span>\n<span class="line"><span>t1.join();</span></span>\n<span class="line"><span>t2.join();</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>System.out.println(&quot;å®é™…å¤§å°ï¼š&quot; + list.size()); // å°äº 2000ï¼Œè¯´æ˜ä¸¢æ•°æ®äº†ï¼</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="âœ…-4-ä¸ºä½•ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„æ ¸å¿ƒåŸå› " tabindex="-1"><a class="header-anchor" href="#âœ…-4-ä¸ºä½•ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„æ ¸å¿ƒåŸå› "><span><strong>âœ… 4. ä¸ºä½•ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„æ ¸å¿ƒåŸå› ï¼Ÿ</strong></span></a></h2><table><thead><tr><th><strong>åŸå› </strong></th><th><strong>æè¿°</strong></th></tr></thead><tbody><tr><td>æ²¡æœ‰åŠ é”æœºåˆ¶</td><td>æ‰€æœ‰æ–¹æ³•ä¸­æ²¡æœ‰ synchronizedã€ReentrantLock ç­‰æ§åˆ¶</td></tr><tr><td>size++ éåŸå­</td><td>å¹¶å‘ä¸‹ä¼šè¦†ç›–å†™å…¥æˆ–è·³è¿‡æ›´æ–°</td></tr><tr><td>å†…éƒ¨æ•°ç»„ elementData æš´éœ²</td><td>æ— ä¿æŠ¤æœºåˆ¶ï¼Œå¯¼è‡´å¹¶å‘è¯»å†™å†²çª</td></tr><tr><td>ç¼ºä¹å¹¶å‘è¯»å†™éš”ç¦»</td><td>æ²¡æœ‰ä½¿ç”¨ volatileã€ä¸å¯å˜ç»“æ„æˆ–å¤åˆ¶æœºåˆ¶</td></tr></tbody></table><h2 id="âœ…-5-å¦‚ä½•è®©å®ƒçº¿ç¨‹å®‰å…¨" tabindex="-1"><a class="header-anchor" href="#âœ…-5-å¦‚ä½•è®©å®ƒçº¿ç¨‹å®‰å…¨"><span><strong>âœ… 5. å¦‚ä½•è®©å®ƒçº¿ç¨‹å®‰å…¨ï¼Ÿ</strong></span></a></h2><h3 id="âœ…-æ–¹å¼ä¸€-ä½¿ç”¨åŒ…è£…å™¨" tabindex="-1"><a class="header-anchor" href="#âœ…-æ–¹å¼ä¸€-ä½¿ç”¨åŒ…è£…å™¨"><span><strong>âœ… æ–¹å¼ä¸€ï¼šä½¿ç”¨åŒ…è£…å™¨</strong></span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>List&lt;String&gt; safeList = Collections.synchronizedList(new ArrayList&lt;&gt;());</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>å†…éƒ¨æ–¹æ³•åŠ äº† synchronized</li><li>è¿­ä»£æ—¶ä»éœ€æ‰‹åŠ¨åŠ é”ï¼ˆå¦åˆ™ä»å¯èƒ½æŠ›å¼‚å¸¸ï¼‰ï¼š</li></ul><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>synchronized (safeList) {</span></span>\n<span class="line"><span>    for (String s : safeList) {</span></span>\n<span class="line"><span>        // å®‰å…¨è¿­ä»£</span></span>\n<span class="line"><span>    }</span></span>\n<span class="line"><span>}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="âœ…-æ–¹å¼äºŒ-ä½¿ç”¨å¹¶å‘é›†åˆ" tabindex="-1"><a class="header-anchor" href="#âœ…-æ–¹å¼äºŒ-ä½¿ç”¨å¹¶å‘é›†åˆ"><span><strong>âœ… æ–¹å¼äºŒï¼šä½¿ç”¨å¹¶å‘é›†åˆ</strong></span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>List&lt;String&gt; list = new CopyOnWriteArrayList&lt;&gt;();</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>è¯»å†™éš”ç¦»ï¼Œè¯»æ— é”ï¼Œå†™å¤åˆ¶ï¼Œé€‚åˆè¯»å¤šå†™å°‘çš„åœºæ™¯</li></ul><h2 id="âœ…-6-é¢è¯•ç­”é¢˜æ¨¡æ¿-å»ºè®®èƒŒè¯µ" tabindex="-1"><a class="header-anchor" href="#âœ…-6-é¢è¯•ç­”é¢˜æ¨¡æ¿-å»ºè®®èƒŒè¯µ"><span><strong>âœ… 6. é¢è¯•ç­”é¢˜æ¨¡æ¿ï¼ˆå»ºè®®èƒŒè¯µï¼‰</strong></span></a></h2><div class="hint-container important"><p class="hint-container-title">é‡è¦</p><p>ArrayList ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå› ä¸ºå®ƒæ²¡æœ‰ä»»ä½•åŒæ­¥æœºåˆ¶ã€‚åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹åŒæ—¶è¿›è¡Œ add()ã€remove() æˆ– get() æ“ä½œï¼Œä¼šå¯¼è‡´æ•°æ®ä¸¢å¤±ã€æ•°ç»„è¶Šç•Œã€å¹¶å‘ä¿®æ”¹å¼‚å¸¸ç­‰é—®é¢˜ã€‚ä¸»è¦åŸå› æ˜¯å†…éƒ¨æ“ä½œå¦‚ size++ å’Œæ•°ç»„ç§»åŠ¨æ˜¯éåŸå­çš„ã€‚è§£å†³æ–¹æ¡ˆåŒ…æ‹¬ä½¿ç”¨ Collections.synchronizedList() åŒ…è£…ï¼Œæˆ–ä½¿ç”¨ CopyOnWriteArrayList ç­‰å¹¶å‘é›†åˆç±»ã€‚</p></div>',29)]))}]]),t=JSON.parse('{"path":"/Interview/%E9%9D%A2%E8%AF%95%E7%AD%94%E9%A2%98%E5%8D%A1/Java/%E4%B8%BA%E4%BB%80%E4%B9%88%20ArrayList%20%E4%B8%8D%E6%98%AF%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8%E7%9A%84.html","title":"â˜• Javaé¢è¯•ç­”é¢˜å¡ï¼šä¸ºä»€ä¹ˆArrayListä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Ÿ","lang":"zh-CN","frontmatter":{"gitInclude":[]},"headers":[{"level":2,"title":"âœ… 1. ç»“è®ºå…ˆè¡Œ","slug":"âœ…-1-ç»“è®ºå…ˆè¡Œ","link":"#âœ…-1-ç»“è®ºå…ˆè¡Œ","children":[]},{"level":2,"title":"âœ… 2. å“ªäº›æ–¹æ³•ä¸å®‰å…¨ï¼Ÿä¸¾ä¾‹è¯´æ˜","slug":"âœ…-2-å“ªäº›æ–¹æ³•ä¸å®‰å…¨-ä¸¾ä¾‹è¯´æ˜","link":"#âœ…-2-å“ªäº›æ–¹æ³•ä¸å®‰å…¨-ä¸¾ä¾‹è¯´æ˜","children":[{"level":3,"title":"ğŸ”¸ add(E e)","slug":"ğŸ”¸-add-e-e","link":"#ğŸ”¸-add-e-e","children":[]},{"level":3,"title":"ğŸ”¸ get(int index)","slug":"ğŸ”¸-get-int-index","link":"#ğŸ”¸-get-int-index","children":[]},{"level":3,"title":"ğŸ”¸ remove(int index)","slug":"ğŸ”¸-remove-int-index","link":"#ğŸ”¸-remove-int-index","children":[]}]},{"level":2,"title":"âœ… 3. å¤šçº¿ç¨‹ä¸‹çš„å®é™…ä¾‹å­ï¼ˆæ•°æ®ä¸¢å¤±ï¼‰","slug":"âœ…-3-å¤šçº¿ç¨‹ä¸‹çš„å®é™…ä¾‹å­-æ•°æ®ä¸¢å¤±","link":"#âœ…-3-å¤šçº¿ç¨‹ä¸‹çš„å®é™…ä¾‹å­-æ•°æ®ä¸¢å¤±","children":[]},{"level":2,"title":"âœ… 4. ä¸ºä½•ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„æ ¸å¿ƒåŸå› ï¼Ÿ","slug":"âœ…-4-ä¸ºä½•ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„æ ¸å¿ƒåŸå› ","link":"#âœ…-4-ä¸ºä½•ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„æ ¸å¿ƒåŸå› ","children":[]},{"level":2,"title":"âœ… 5. å¦‚ä½•è®©å®ƒçº¿ç¨‹å®‰å…¨ï¼Ÿ","slug":"âœ…-5-å¦‚ä½•è®©å®ƒçº¿ç¨‹å®‰å…¨","link":"#âœ…-5-å¦‚ä½•è®©å®ƒçº¿ç¨‹å®‰å…¨","children":[{"level":3,"title":"âœ… æ–¹å¼ä¸€ï¼šä½¿ç”¨åŒ…è£…å™¨","slug":"âœ…-æ–¹å¼ä¸€-ä½¿ç”¨åŒ…è£…å™¨","link":"#âœ…-æ–¹å¼ä¸€-ä½¿ç”¨åŒ…è£…å™¨","children":[]},{"level":3,"title":"âœ… æ–¹å¼äºŒï¼šä½¿ç”¨å¹¶å‘é›†åˆ","slug":"âœ…-æ–¹å¼äºŒ-ä½¿ç”¨å¹¶å‘é›†åˆ","link":"#âœ…-æ–¹å¼äºŒ-ä½¿ç”¨å¹¶å‘é›†åˆ","children":[]}]},{"level":2,"title":"âœ… 6. é¢è¯•ç­”é¢˜æ¨¡æ¿ï¼ˆå»ºè®®èƒŒè¯µï¼‰","slug":"âœ…-6-é¢è¯•ç­”é¢˜æ¨¡æ¿-å»ºè®®èƒŒè¯µ","link":"#âœ…-6-é¢è¯•ç­”é¢˜æ¨¡æ¿-å»ºè®®èƒŒè¯µ","children":[]}],"readingTime":{"minutes":2.07,"words":621},"filePathRelative":"Interview/é¢è¯•ç­”é¢˜å¡/Java/ä¸ºä»€ä¹ˆ ArrayList ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„.md","excerpt":"\\n<h2>âœ… 1. ç»“è®ºå…ˆè¡Œ</h2>\\n<blockquote>\\n<p>ArrayList <strong>ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„</strong>ï¼Œå› ä¸ºå®ƒçš„<strong>å¢åˆ æŸ¥æ”¹æ“ä½œæ²¡æœ‰ä»»ä½•åŒæ­¥æ§åˆ¶</strong>ï¼Œå¤šä¸ªçº¿ç¨‹åŒæ—¶ä¿®æ”¹å…±äº«çš„ ArrayList å®ä¾‹ï¼Œå¯èƒ½å¯¼è‡´ï¼š</p>\\n</blockquote>\\n<ul>\\n<li>æ•°æ®ä¸¢å¤±</li>\\n<li>è¶Šç•Œå¼‚å¸¸</li>\\n<li>å¹¶å‘ä¿®æ”¹å¼‚å¸¸ï¼ˆConcurrentModificationExceptionï¼‰</li>\\n<li>å…ƒç´ è¦†ç›–æˆ–è„è¯»</li>\\n</ul>\\n<h2><strong>âœ… 2. å“ªäº›æ–¹æ³•ä¸å®‰å…¨ï¼Ÿä¸¾ä¾‹è¯´æ˜</strong></h2>"}')}}]);