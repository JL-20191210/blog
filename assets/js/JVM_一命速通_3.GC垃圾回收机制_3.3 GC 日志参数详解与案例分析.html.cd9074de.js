"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[75648],{66262:(e,i)=>{i.A=(e,i)=>{const s=e.__vccOpts||e;for(const[e,a]of i)s[e]=a;return s}},27110:(e,i,s)=>{s.r(i),s.d(i,{comp:()=>l,data:()=>n});var a=s(20641);const t={},l=(0,s(66262).A)(t,[["render",function(e,i){const s=(0,a.g2)("RouteLink");return(0,a.uX)(),(0,a.CE)("div",null,[i[2]||(i[2]=(0,a.Fv)('<h1 id="🧾-3-3-gc-日志参数详解与案例分析" tabindex="-1"><a class="header-anchor" href="#🧾-3-3-gc-日志参数详解与案例分析"><span>🧾 3.3 GC 日志参数详解与案例分析</span></a></h1><p>本节将深入讲解如何开启 GC 日志、理解日志内容结构，并通过真实日志样本进行性能诊断与调优。</p><hr><h2 id="📌-如何开启-gc-日志" tabindex="-1"><a class="header-anchor" href="#📌-如何开启-gc-日志"><span>📌 如何开启 GC 日志？</span></a></h2><h3 id="jdk-8-常用参数" tabindex="-1"><a class="header-anchor" href="#jdk-8-常用参数"><span>JDK 8 常用参数：</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-XX:+PrintGC</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-XX:+PrintGCDetails</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-XX:+PrintGCTimeStamps</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-Xloggc:/var/logs/gc.log</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="jdk-9-通用参数-统一日志系统" tabindex="-1"><a class="header-anchor" href="#jdk-9-通用参数-统一日志系统"><span>JDK 9+ 通用参数（统一日志系统）：</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-Xlog:gc*:file</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">=/var/logs/gc.log:time,uptime,level,tags</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><hr><h2 id="📄-一条-gc-日志结构" tabindex="-1"><a class="header-anchor" href="#📄-一条-gc-日志结构"><span>📄 一条 GC 日志结构</span></a></h2><h3 id="示例-jdk-8-g1-日志" tabindex="-1"><a class="header-anchor" href="#示例-jdk-8-g1-日志"><span>示例（JDK 8 G1 日志）：</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>2025-07-09T15:02:01.123+0800: 12.345: [GC pause (G1 Evacuation Pause) (young), 0.0456789 secs]</span></span>\n<span class="line"><span>   [Parallel Time: 44.6 ms, GC Workers: 4]</span></span>\n<span class="line"><span>      [GC Worker Start (ms): Min: 12345.0, Avg: 12345.1, Max: 12345.3, Diff: 0.3]</span></span>\n<span class="line"><span>      [Eden: 512M(512M)-&gt;0B(512M) Survivors: 32M-&gt;32M Heap: 1G(2G)-&gt;600M(2G)]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="含义解析" tabindex="-1"><a class="header-anchor" href="#含义解析"><span>含义解析：</span></a></h3><table><thead><tr><th>字段</th><th>说明</th></tr></thead><tbody><tr><td>GC pause</td><td>本次 GC 类型，如 Young GC、Mixed GC 等</td></tr><tr><td>Time</td><td>本次 GC 总耗时</td></tr><tr><td>Eden</td><td>GC 前后 Eden 区占用及容量变化</td></tr><tr><td>Survivors</td><td>Survivor 区变化</td></tr><tr><td>Heap</td><td>整体堆大小与 GC 前后内存变化</td></tr></tbody></table><hr><h2 id="🔍-gc-日志常见指标说明" tabindex="-1"><a class="header-anchor" href="#🔍-gc-日志常见指标说明"><span>🔍 GC 日志常见指标说明</span></a></h2><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><code>Pause Time</code></td><td>一次 GC 停顿耗时，单位为秒或毫秒</td></tr><tr><td><code>GC Cause</code></td><td>GC 触发原因（如 Allocation Failure、Metadata GC Threshold）</td></tr><tr><td><code>Young GC / Mixed GC</code></td><td>新生代 GC 与混合回收（G1 特有）</td></tr><tr><td><code>Before/After</code></td><td>GC 前后的堆区使用情况</td></tr><tr><td><code>Total GC Time</code></td><td>累计 GC 总耗时</td></tr><tr><td><code>Full GC</code></td><td>表示是否为 Full GC（会导致全停顿）</td></tr></tbody></table><hr><h2 id="📈-案例分析-性能告警日志" tabindex="-1"><a class="header-anchor" href="#📈-案例分析-性能告警日志"><span>📈 案例分析：性能告警日志</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>2025-07-09T12:02:01.600+0800: 30.432: [Full GC (Ergonomics)  1024M-&gt;512M(2048M), 2.3567890 secs]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>📌 解析：</p><ul><li><strong>类型</strong>：Full GC，由 JVM 自适应 Ergonomics 触发</li><li><strong>堆变化</strong>：从 1024MB 减至 512MB，说明内存回收成功</li><li><strong>耗时</strong>：GC 停顿时间为 2.35 秒，可能会影响高并发系统响应</li></ul><p>📌 调优建议：</p><ul><li>考虑调整老年代大小或使用 G1 替代 CMS</li><li>优化代码中大对象分配（避免直接进老年代）</li><li>配置 GC 日志轮转与采集</li></ul><hr><h2 id="🧠-工具辅助推荐" tabindex="-1"><a class="header-anchor" href="#🧠-工具辅助推荐"><span>🧠 工具辅助推荐</span></a></h2><table><thead><tr><th>工具名称</th><th>用途说明</th></tr></thead><tbody><tr><td><a href="https://github.com/chewiebug/GCViewer" target="_blank" rel="noopener noreferrer">GCViewer</a></td><td>可视化分析 GC 日志</td></tr><tr><td>JClarity Censum</td><td>商业化 GC 分析工具</td></tr><tr><td>GCeasy.io</td><td>在线 GC 日志上传 + 报表分析</td></tr><tr><td>JMC（Java Mission Control）</td><td>JDK 自带，结合 Flight Recorder 查看 GC 行为</td></tr></tbody></table><hr><h2 id="📝-小结" tabindex="-1"><a class="header-anchor" href="#📝-小结"><span>📝 小结</span></a></h2><ul><li>开启 GC 日志是调优系统稳定性的首要步骤</li><li>读懂 GC 日志是定位延迟、内存溢出、老年代压力的关键</li><li>配合工具可高效识别瓶颈，避免人为误判</li></ul><hr>',31)),(0,a.Lk)("p",null,[i[1]||(i[1]=(0,a.eW)("👉 下一篇推荐阅读：")),(0,a.bF)(s,{to:"/JVM/%E4%B8%80%E5%91%BD%E9%80%9F%E9%80%9A/3.GC%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%9C%BA%E5%88%B6/3.4%20GC%20%E5%8F%82%E6%95%B0%E8%B0%83%E4%BC%98%E5%AE%9E%E6%88%98%E7%AD%96%E7%95%A5.html"},{default:(0,a.k6)((()=>i[0]||(i[0]=[(0,a.eW)("3.4 GC 参数调优实战策略")]))),_:1})])])}]]),n=JSON.parse('{"path":"/JVM/%E4%B8%80%E5%91%BD%E9%80%9F%E9%80%9A/3.GC%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%9C%BA%E5%88%B6/3.3%20GC%20%E6%97%A5%E5%BF%97%E5%8F%82%E6%95%B0%E8%AF%A6%E8%A7%A3%E4%B8%8E%E6%A1%88%E4%BE%8B%E5%88%86%E6%9E%90.html","title":"3.3 GC 日志参数详解与案例分析","lang":"zh-CN","frontmatter":{"title":"3.3 GC 日志参数详解与案例分析","icon":"fa-solid fa-file-lines","date":"2025-07-10T00:00:00.000Z","author":"JeanHu","category":["JVM"],"tag":["JVM","GC","GC日志","性能调优"],"summary":"本文详解 Java 中常用的 GC 日志参数配置，并通过实际案例解析 GC 日志输出格式、关键指标与排障思路，助力开发者进行高效的性能调优与问题定位。","gitInclude":[]},"headers":[{"level":2,"title":"📌 如何开启 GC 日志？","slug":"📌-如何开启-gc-日志","link":"#📌-如何开启-gc-日志","children":[{"level":3,"title":"JDK 8 常用参数：","slug":"jdk-8-常用参数","link":"#jdk-8-常用参数","children":[]},{"level":3,"title":"JDK 9+ 通用参数（统一日志系统）：","slug":"jdk-9-通用参数-统一日志系统","link":"#jdk-9-通用参数-统一日志系统","children":[]}]},{"level":2,"title":"📄 一条 GC 日志结构","slug":"📄-一条-gc-日志结构","link":"#📄-一条-gc-日志结构","children":[{"level":3,"title":"示例（JDK 8 G1 日志）：","slug":"示例-jdk-8-g1-日志","link":"#示例-jdk-8-g1-日志","children":[]},{"level":3,"title":"含义解析：","slug":"含义解析","link":"#含义解析","children":[]}]},{"level":2,"title":"🔍 GC 日志常见指标说明","slug":"🔍-gc-日志常见指标说明","link":"#🔍-gc-日志常见指标说明","children":[]},{"level":2,"title":"📈 案例分析：性能告警日志","slug":"📈-案例分析-性能告警日志","link":"#📈-案例分析-性能告警日志","children":[]},{"level":2,"title":"🧠 工具辅助推荐","slug":"🧠-工具辅助推荐","link":"#🧠-工具辅助推荐","children":[]},{"level":2,"title":"📝 小结","slug":"📝-小结","link":"#📝-小结","children":[]}],"readingTime":{"minutes":2.29,"words":686},"filePathRelative":"JVM/一命速通/3.GC垃圾回收机制/3.3 GC 日志参数详解与案例分析.md","localizedDate":"2025年7月10日","excerpt":"\\n<p>本节将深入讲解如何开启 GC 日志、理解日志内容结构，并通过真实日志样本进行性能诊断与调优。</p>\\n<hr>\\n<h2>📌 如何开启 GC 日志？</h2>\\n<h3>JDK 8 常用参数：</h3>\\n<div class=\\"language-bash line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"bash\\" data-title=\\"bash\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">-XX:+PrintGC</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">-XX:+PrintGCDetails</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">-XX:+PrintGCTimeStamps</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">-Xloggc:/var/logs/gc.log</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>"}')}}]);