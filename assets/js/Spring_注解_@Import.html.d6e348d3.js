"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[14951],{66262:(i,s)=>{s.A=(i,s)=>{const a=i.__vccOpts||i;for(const[i,n]of s)a[i]=n;return a}},13842:(i,s,a)=>{a.r(s),a.d(s,{comp:()=>t,data:()=>l});var n=a(20641);const e={},t=(0,a(66262).A)(e,[["render",function(i,s){return(0,n.uX)(),(0,n.CE)("div",null,s[0]||(s[0]=[(0,n.Fv)('<h1 id="ğŸ”-import-æ³¨è§£è¯¦è§£" tabindex="-1"><a class="header-anchor" href="#ğŸ”-import-æ³¨è§£è¯¦è§£"><span>ğŸ” <code>@Import</code> æ³¨è§£è¯¦è§£</span></a></h1><hr><h2 id="ä¸€ã€-import-çš„ä½œç”¨" tabindex="-1"><a class="header-anchor" href="#ä¸€ã€-import-çš„ä½œç”¨"><span>ä¸€ã€@Import çš„ä½œç”¨</span></a></h2><blockquote><p><strong>æ ¸å¿ƒä½œç”¨ï¼š</strong></p><p><code>@Import</code> ç”¨äºå‘ Spring å®¹å™¨ä¸­ <strong>å¯¼å…¥ä¸€ä¸ªæˆ–å¤šä¸ªç»„ä»¶ï¼ˆBeanï¼‰</strong>ï¼Œè¿™äº›ç»„ä»¶ä¼šè¢«æ³¨å†Œåˆ° Spring çš„ <code>ApplicationContext</code> ä¸­ã€‚</p></blockquote><hr><h2 id="äºŒã€å¸¸è§ç”¨æ³•-æ”¯æŒ-4-ç§ç±»å‹" tabindex="-1"><a class="header-anchor" href="#äºŒã€å¸¸è§ç”¨æ³•-æ”¯æŒ-4-ç§ç±»å‹"><span>äºŒã€å¸¸è§ç”¨æ³•ï¼ˆæ”¯æŒ 4 ç§ç±»å‹ï¼‰</span></a></h2><table><thead><tr><th>ç±»å‹</th><th>æè¿°</th></tr></thead><tbody><tr><td>æ™®é€šé…ç½®ç±» Class</td><td>æœ€å¸¸è§ï¼Œå¯¼å…¥ä¸€ä¸ªè¢« <code>@Configuration</code> æ ‡æ³¨çš„ç±»</td></tr><tr><td>å®ç° <code>ImportSelector</code> çš„ç±»</td><td>å®ç°æŒ‰æ¡ä»¶åŠ¨æ€è¿”å›éœ€è¦æ³¨å†Œçš„ç±»åæ•°ç»„</td></tr><tr><td>å®ç° <code>DeferredImportSelector</code> çš„ç±»</td><td>æ›´æ™šæ‰§è¡Œçš„ ImportSelectorï¼Œç”¨äºè‡ªåŠ¨é…ç½®åœºæ™¯</td></tr><tr><td>å®ç° <code>ImportBeanDefinitionRegistrar</code> çš„ç±»</td><td>å¯ä»¥æ‰‹åŠ¨æ³¨å†Œ BeanDefinitionï¼Œç²’åº¦æœ€ç»†ï¼ŒåŠŸèƒ½æœ€å¼º</td></tr></tbody></table><hr><h2 id="ä¸‰ã€åŸºç¡€ç”¨æ³•ç¤ºä¾‹" tabindex="-1"><a class="header-anchor" href="#ä¸‰ã€åŸºç¡€ç”¨æ³•ç¤ºä¾‹"><span>ä¸‰ã€åŸºç¡€ç”¨æ³•ç¤ºä¾‹</span></a></h2><h3 id="âœ…-1-å¯¼å…¥é…ç½®ç±»" tabindex="-1"><a class="header-anchor" href="#âœ…-1-å¯¼å…¥é…ç½®ç±»"><span>âœ… 1. å¯¼å…¥é…ç½®ç±»</span></a></h3><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">@</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B;">Configuration</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> DataSourceConfig</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    @</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B;">Bean</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    public</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> DataSource</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> dataSource</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        return</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> HikariDataSource</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ä¸»é…ç½®ç±»ä¸­ä½¿ç”¨ <code>@Import</code>ï¼š</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">@</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B;">Configuration</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">@</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B;">Import</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">DataSourceConfig</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">class</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> MainConfig</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç­‰æ•ˆäºæ‰‹åŠ¨æ³¨å†Œ <code>DataSourceConfig</code> ä¸­å®šä¹‰çš„æ‰€æœ‰ Beanã€‚</p><hr><h3 id="âœ…-2-å¯¼å…¥å¤šä¸ªç±»" tabindex="-1"><a class="header-anchor" href="#âœ…-2-å¯¼å…¥å¤šä¸ªç±»"><span>âœ… 2. å¯¼å…¥å¤šä¸ªç±»</span></a></h3><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">@</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B;">Import</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">({</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">DataSourceConfig</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">class</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> SecurityConfig</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">class</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">})</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>æ”¯æŒæ‰¹é‡å¯¼å…¥ã€‚</p><hr><h2 id="å››ã€importselector-é«˜çº§ç”¨æ³•" tabindex="-1"><a class="header-anchor" href="#å››ã€importselector-é«˜çº§ç”¨æ³•"><span>å››ã€ImportSelector é«˜çº§ç”¨æ³•</span></a></h2><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> MyImportSelector</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> implements</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> ImportSelector</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    @</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B;">Override</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    public</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> String</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">[] </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">selectImports</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">AnnotationMetadata</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> importingClassMetadata</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        return</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[] {</span></span>\n<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">            &quot;com.example.config.DataSourceConfig&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>\n<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">            &quot;com.example.config.CacheConfig&quot;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        };</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åè¿™æ ·ä½¿ç”¨ï¼š</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">@</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B;">Import</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">MyImportSelector</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">class</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> MainConfig</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>Spring ä¼šæŠŠ <code>selectImports</code> è¿”å›çš„ç±»åå½“ä½œé…ç½®ç±»å¯¼å…¥ã€‚</p><hr><h2 id="äº”ã€deferredimportselector-å»¶è¿Ÿå¯¼å…¥" tabindex="-1"><a class="header-anchor" href="#äº”ã€deferredimportselector-å»¶è¿Ÿå¯¼å…¥"><span>äº”ã€DeferredImportSelectorï¼ˆå»¶è¿Ÿå¯¼å…¥ï¼‰</span></a></h2><p>å»¶è¿Ÿæ‰§è¡Œé¡ºåºæ›´é åï¼Œå¸¸ç”¨äº Spring Boot çš„è‡ªåŠ¨é…ç½®ï¼ˆå¦‚ <code>spring.factories</code> åŠ è½½çš„è‡ªåŠ¨é…ç½®ç±»ï¼‰ï¼š</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> MyDeferredImportSelector</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> implements</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> DeferredImportSelector</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    @</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B;">Override</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    public</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> String</span><span style="--shiki-light:#383A42;--shiki-dark:#61AFEF;">[] </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">selectImports</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">AnnotationMetadata</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> importingClassMetadata</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        return</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[]{</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;com.example.config.LateConfig&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="å…­ã€importbeandefinitionregistrar-æ‰‹åŠ¨æ³¨å†Œ-bean" tabindex="-1"><a class="header-anchor" href="#å…­ã€importbeandefinitionregistrar-æ‰‹åŠ¨æ³¨å†Œ-bean"><span>å…­ã€ImportBeanDefinitionRegistrarï¼ˆæ‰‹åŠ¨æ³¨å†Œ Beanï¼‰</span></a></h2><p>æœ€å¼ºç”¨æ³•ï¼Œå¯é€šè¿‡ä»£ç å½¢å¼æ³¨å†Œä»»æ„ Beanï¼Œçµæ´»æ€§æœ€å¼ºã€‚</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> MyRegistrar</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> implements</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> ImportBeanDefinitionRegistrar</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    @</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B;">Override</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> registerBeanDefinitions</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span></span>\n<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">            AnnotationMetadata</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> importingClassMetadata</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>\n<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">            BeanDefinitionRegistry</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;"> registry</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">        RootBeanDefinition</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> beanDef</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> RootBeanDefinition</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">MyService</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">class</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">        registry</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">registerBeanDefinition</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;myService&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, beanDef);</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">@</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B;">Import</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">MyRegistrar</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">class</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> MainConfig</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="ä¸ƒã€spring-boot-è‡ªåŠ¨é…ç½®ä¸ºä½•ä¹Ÿç”¨å®ƒ" tabindex="-1"><a class="header-anchor" href="#ä¸ƒã€spring-boot-è‡ªåŠ¨é…ç½®ä¸ºä½•ä¹Ÿç”¨å®ƒ"><span>ä¸ƒã€Spring Boot è‡ªåŠ¨é…ç½®ä¸ºä½•ä¹Ÿç”¨å®ƒï¼Ÿ</span></a></h2><p>Spring Boot çš„è‡ªåŠ¨é…ç½®ç±»ï¼Œå°±æ˜¯é€šè¿‡ï¼š</p><ul><li><code>@EnableAutoConfiguration</code> â†’ <code>@Import(AutoConfigurationImportSelector.class)</code></li><li>åˆ©ç”¨ <code>ImportSelector</code> åŠ¨æ€å¯¼å…¥é…ç½®ç±»</li><li>å†é€šè¿‡ <code>spring.factories</code> åŠ è½½é…ç½®ç±»ååˆ—è¡¨</li></ul><p>ä»è€Œå®ç°äº†â€œæŒ‰éœ€åŠ è½½ã€è‡ªåŠ¨è£…é…â€çš„å¼ºå¤§èƒ½åŠ›ã€‚</p><hr><h2 id="å…«ã€ä½¿ç”¨åœºæ™¯æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#å…«ã€ä½¿ç”¨åœºæ™¯æ€»ç»“"><span>å…«ã€ä½¿ç”¨åœºæ™¯æ€»ç»“</span></a></h2><table><thead><tr><th>ä½¿ç”¨åœºæ™¯</th><th>å»ºè®®ä½¿ç”¨</th></tr></thead><tbody><tr><td>å°†ç°æœ‰é…ç½®ç±»å¯¼å…¥åˆ°ä¸Šä¸‹æ–‡ä¸­</td><td>âœ…</td></tr><tr><td>æ ¹æ®æ¡ä»¶æˆ–é€»è¾‘åŠ¨æ€å†³å®šå¯¼å…¥å“ªäº›ç±»</td><td>âœ… <code>ImportSelector</code></td></tr><tr><td>æ§åˆ¶æ³¨å†Œè¿‡ç¨‹ï¼Œç²¾ç»†å®šä¹‰ Bean å®šä¹‰</td><td>âœ… <code>ImportBeanDefinitionRegistrar</code></td></tr><tr><td>æ„å»ºè‡ªå·±çš„æ³¨è§£ç»„åˆå…ƒæ³¨è§£</td><td>âœ…</td></tr><tr><td>æ›¿ä»£ <code>@ComponentScan</code>ï¼Œæé«˜åŠ è½½ç²’åº¦</td><td>âœ…</td></tr></tbody></table><hr><h2 id="ä¹ã€-import-ä¸å…¶ä»–æ³¨è§£å…³ç³»" tabindex="-1"><a class="header-anchor" href="#ä¹ã€-import-ä¸å…¶ä»–æ³¨è§£å…³ç³»"><span>ä¹ã€@Import ä¸å…¶ä»–æ³¨è§£å…³ç³»</span></a></h2><table><thead><tr><th>æ³¨è§£</th><th>æ˜¯å¦ä½¿ç”¨äº† @Import</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>@EnableAsync</code></td><td>âœ…</td><td>å¯¼å…¥äº† <code>AsyncConfigurationSelector</code></td></tr><tr><td><code>@EnableScheduling</code></td><td>âœ…</td><td>å¯¼å…¥äº† <code>SchedulingConfiguration</code></td></tr><tr><td><code>@SpringBootApplication</code></td><td>âœ… ï¼ˆé—´æ¥ï¼‰</td><td>å« <code>@EnableAutoConfiguration</code>ï¼Œå†…éƒ¨æœ‰ <code>@Import</code></td></tr></tbody></table><hr><h2 id="åã€æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#åã€æ€»ç»“"><span>åã€æ€»ç»“</span></a></h2><ul><li><code>@Import</code> æ˜¯ Spring ä¸­ç”¨äºåŠ¨æ€å¯¼å…¥ Bean çš„å…³é”®æ³¨è§£ã€‚</li><li>æ¯” <code>@ComponentScan</code> æ›´çµæ´»ã€ç²’åº¦æ›´ç»†ã€‚</li><li>æ˜¯ Spring Boot è‡ªåŠ¨è£…é…æœºåˆ¶çš„æ ¸å¿ƒä¹‹ä¸€ã€‚</li><li>é…åˆ <code>ImportSelector</code>ã€<code>ImportBeanDefinitionRegistrar</code> å¯ä»¥å®ç°é«˜åº¦å¯æ‰©å±•çš„æ³¨å†Œé€»è¾‘ã€‚</li></ul>',46)]))}]]),l=JSON.parse('{"path":"/Spring/%E6%B3%A8%E8%A7%A3/@Import.html","title":"ğŸ” @Import æ³¨è§£è¯¦è§£","lang":"zh-CN","frontmatter":{"gitInclude":[]},"headers":[{"level":2,"title":"ä¸€ã€@Import çš„ä½œç”¨","slug":"ä¸€ã€-import-çš„ä½œç”¨","link":"#ä¸€ã€-import-çš„ä½œç”¨","children":[]},{"level":2,"title":"äºŒã€å¸¸è§ç”¨æ³•ï¼ˆæ”¯æŒ 4 ç§ç±»å‹ï¼‰","slug":"äºŒã€å¸¸è§ç”¨æ³•-æ”¯æŒ-4-ç§ç±»å‹","link":"#äºŒã€å¸¸è§ç”¨æ³•-æ”¯æŒ-4-ç§ç±»å‹","children":[]},{"level":2,"title":"ä¸‰ã€åŸºç¡€ç”¨æ³•ç¤ºä¾‹","slug":"ä¸‰ã€åŸºç¡€ç”¨æ³•ç¤ºä¾‹","link":"#ä¸‰ã€åŸºç¡€ç”¨æ³•ç¤ºä¾‹","children":[{"level":3,"title":"âœ… 1. å¯¼å…¥é…ç½®ç±»","slug":"âœ…-1-å¯¼å…¥é…ç½®ç±»","link":"#âœ…-1-å¯¼å…¥é…ç½®ç±»","children":[]},{"level":3,"title":"âœ… 2. å¯¼å…¥å¤šä¸ªç±»","slug":"âœ…-2-å¯¼å…¥å¤šä¸ªç±»","link":"#âœ…-2-å¯¼å…¥å¤šä¸ªç±»","children":[]}]},{"level":2,"title":"å››ã€ImportSelector é«˜çº§ç”¨æ³•","slug":"å››ã€importselector-é«˜çº§ç”¨æ³•","link":"#å››ã€importselector-é«˜çº§ç”¨æ³•","children":[]},{"level":2,"title":"äº”ã€DeferredImportSelectorï¼ˆå»¶è¿Ÿå¯¼å…¥ï¼‰","slug":"äº”ã€deferredimportselector-å»¶è¿Ÿå¯¼å…¥","link":"#äº”ã€deferredimportselector-å»¶è¿Ÿå¯¼å…¥","children":[]},{"level":2,"title":"å…­ã€ImportBeanDefinitionRegistrarï¼ˆæ‰‹åŠ¨æ³¨å†Œ Beanï¼‰","slug":"å…­ã€importbeandefinitionregistrar-æ‰‹åŠ¨æ³¨å†Œ-bean","link":"#å…­ã€importbeandefinitionregistrar-æ‰‹åŠ¨æ³¨å†Œ-bean","children":[]},{"level":2,"title":"ä¸ƒã€Spring Boot è‡ªåŠ¨é…ç½®ä¸ºä½•ä¹Ÿç”¨å®ƒï¼Ÿ","slug":"ä¸ƒã€spring-boot-è‡ªåŠ¨é…ç½®ä¸ºä½•ä¹Ÿç”¨å®ƒ","link":"#ä¸ƒã€spring-boot-è‡ªåŠ¨é…ç½®ä¸ºä½•ä¹Ÿç”¨å®ƒ","children":[]},{"level":2,"title":"å…«ã€ä½¿ç”¨åœºæ™¯æ€»ç»“","slug":"å…«ã€ä½¿ç”¨åœºæ™¯æ€»ç»“","link":"#å…«ã€ä½¿ç”¨åœºæ™¯æ€»ç»“","children":[]},{"level":2,"title":"ä¹ã€@Import ä¸å…¶ä»–æ³¨è§£å…³ç³»","slug":"ä¹ã€-import-ä¸å…¶ä»–æ³¨è§£å…³ç³»","link":"#ä¹ã€-import-ä¸å…¶ä»–æ³¨è§£å…³ç³»","children":[]},{"level":2,"title":"åã€æ€»ç»“","slug":"åã€æ€»ç»“","link":"#åã€æ€»ç»“","children":[]}],"readingTime":{"minutes":2.05,"words":615},"filePathRelative":"Spring/æ³¨è§£/@Import.md","excerpt":"\\n<hr>\\n<h2>ä¸€ã€@Import çš„ä½œç”¨</h2>\\n<blockquote>\\n<p><strong>æ ¸å¿ƒä½œç”¨ï¼š</strong></p>\\n<p><code>@Import</code> ç”¨äºå‘ Spring å®¹å™¨ä¸­ <strong>å¯¼å…¥ä¸€ä¸ªæˆ–å¤šä¸ªç»„ä»¶ï¼ˆBeanï¼‰</strong>ï¼Œè¿™äº›ç»„ä»¶ä¼šè¢«æ³¨å†Œåˆ° Spring çš„ <code>ApplicationContext</code> ä¸­ã€‚</p>\\n</blockquote>\\n<hr>\\n<h2>äºŒã€å¸¸è§ç”¨æ³•ï¼ˆæ”¯æŒ 4 ç§ç±»å‹ï¼‰</h2>\\n<table>\\n<thead>\\n<tr>\\n<th>ç±»å‹</th>\\n<th>æè¿°</th>\\n</tr>\\n</thead>\\n<tbody>\\n<tr>\\n<td>æ™®é€šé…ç½®ç±» Class</td>\\n<td>æœ€å¸¸è§ï¼Œå¯¼å…¥ä¸€ä¸ªè¢« <code>@Configuration</code> æ ‡æ³¨çš„ç±»</td>\\n</tr>\\n<tr>\\n<td>å®ç° <code>ImportSelector</code> çš„ç±»</td>\\n<td>å®ç°æŒ‰æ¡ä»¶åŠ¨æ€è¿”å›éœ€è¦æ³¨å†Œçš„ç±»åæ•°ç»„</td>\\n</tr>\\n<tr>\\n<td>å®ç° <code>DeferredImportSelector</code> çš„ç±»</td>\\n<td>æ›´æ™šæ‰§è¡Œçš„ ImportSelectorï¼Œç”¨äºè‡ªåŠ¨é…ç½®åœºæ™¯</td>\\n</tr>\\n<tr>\\n<td>å®ç° <code>ImportBeanDefinitionRegistrar</code> çš„ç±»</td>\\n<td>å¯ä»¥æ‰‹åŠ¨æ³¨å†Œ BeanDefinitionï¼Œç²’åº¦æœ€ç»†ï¼ŒåŠŸèƒ½æœ€å¼º</td>\\n</tr>\\n</tbody>\\n</table>"}')}}]);