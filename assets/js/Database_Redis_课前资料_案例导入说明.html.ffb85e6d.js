"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[77429],{66262:(i,s)=>{s.A=(i,s)=>{const a=i.__vccOpts||i;for(const[i,n]of s)a[i]=n;return a}},39018:(i,s,a)=>{a.r(s),a.d(s,{comp:()=>b,data:()=>D});var n=a(20641);const e=a.p+"assets/img/image-20210809181346450.04c76e56.png",l=a.p+"assets/img/image-20210809181554563.e99ec872.png",t=a.p+"assets/img/image-20210809181646907.b652981a.png",h=a.p+"assets/img/image-20210809181714607.e179822e.png",p=a.p+"assets/img/image-20210809181744011.939f6e10.png",d=a.p+"assets/img/image-20210809181821696.9ef52e8d.png",r=a.p+"assets/img/image-20210809181901823.41e97404.png",k=a.p+"assets/img/image-20210809181932805.9597c018.png",g=a.p+"assets/img/image-20210809182350132.66108f2c.png",c=a.p+"assets/img/image-20210816111210961.52366b5f.png",A=a.p+"assets/img/image-20210816112323632.93964643.png",m=a.p+"assets/img/image-20210816113816958.ef54c643.png",o=a.p+"assets/img/image-20210816113917002.ff681e89.png",u=a.p+"assets/img/image-20210816114416561.685bca23.png",y=a.p+"assets/img/image-20210816114554645.0d2657ab.png",v={},b=(0,a(66262).A)(v,[["render",function(i,s){return(0,n.uX)(),(0,n.CE)("div",null,s[0]||(s[0]=[(0,n.Fv)('<h1 id="案例导入说明" tabindex="-1"><a class="header-anchor" href="#案例导入说明"><span>案例导入说明</span></a></h1><p>为了演示多级缓存，我们先导入一个商品管理的案例，其中包含商品的CRUD功能。我们将来会给查询商品添加多级缓存。</p><h1 id="_1-安装mysql" tabindex="-1"><a class="header-anchor" href="#_1-安装mysql"><span>1.安装MySQL</span></a></h1><p>后期做数据同步需要用到MySQL的主从功能，所以需要大家在虚拟机中，利用Docker来运行一个MySQL容器。</p><h2 id="_1-1-准备目录" tabindex="-1"><a class="header-anchor" href="#_1-1-准备目录"><span>1.1.准备目录</span></a></h2><p>为了方便后期配置MySQL，我们先准备两个目录，用于挂载容器的数据和配置文件目录：</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 进入/tmp目录</span></span>\n<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /tmp</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 创建文件夹</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mkdir</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mysql</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 进入mysql目录</span></span>\n<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mysql</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_1-2-运行命令" tabindex="-1"><a class="header-anchor" href="#_1-2-运行命令"><span>1.2.运行命令</span></a></h2><p>进入mysql目录后，执行下面的Docker命令：</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> run</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>\n<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 3306:3306</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>\n<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --name</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mysql</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>\n<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -v</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $PWD</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/conf:/etc/mysql/conf.d</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>\n<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -v</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $PWD</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/logs:/logs</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>\n<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -v</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $PWD</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/data:/var/lib/mysql</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>\n<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -e</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> MYSQL_ROOT_PASSWORD=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">123</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>\n<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --privileged</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>\n<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -d</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>\n<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mysql:5.7.25</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_1-3-修改配置" tabindex="-1"><a class="header-anchor" href="#_1-3-修改配置"><span>1.3.修改配置</span></a></h2><p>在/tmp/mysql/conf目录添加一个my.cnf文件，作为mysql的配置文件：</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 创建文件</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">touch</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /tmp/mysql/conf/my.cnf</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>文件的内容如下：</p><div class="language-ini line-numbers-mode" data-highlighter="shiki" data-ext="ini" data-title="ini" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">[mysqld]</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">skip-name-resolve</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">character_set_server</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">utf8</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">datadir</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">/var/lib/mysql</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">server-id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">1000</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_1-4-重启" tabindex="-1"><a class="header-anchor" href="#_1-4-重启"><span>1.4.重启</span></a></h2><p>配置修改后，必须重启容器：</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> restart</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mysql</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h1 id="_2-导入sql" tabindex="-1"><a class="header-anchor" href="#_2-导入sql"><span>2.导入SQL</span></a></h1><p>接下来，利用Navicat客户端连接MySQL，然后导入课前资料提供的sql文件：</p><figure><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIwAAACpCAYAAAD5odW7AAAY8klEQVR4nO2de2wcx33Hv7OPe/BxJz5ESRYt2TKpSPLbaY2Gaps2iQNLKWSnSYw0TeM2acUWLSC1QZv8EaRJEBRFgiJSgBawizR1kNatUaSNUYtBmyJGG7F5ubIliqJESrIl6y1KFCmSd7eP6R97eze3N7O7t7fH3RP3Cyz3uLc7M7vz2d/vN4/dI5RSikSJfEqKugCJ2ksJMIkaUgJMooaUAJOoISXAJGpIShiJiBpaSQMsGhFCGtreiAIBY4PAAiH67LYtUXjiwcBuI4RU6sDeHgQg4rcfxgkJuxZ95zw2UWvlBMAJBiGEu413rEi+LIwTCtH/CTjRyC8oTmBEx7nJExg3QEzTFALj5bYShSen67HXImAkSdzW8YLGFRgnDM6FBcYJD3u8/TlR6+QFiiRJrhDx0uJJCIwXJKZp1ix+wbH/T9S8nJbFCxRJkiBJEiille0iayOChgsMr7J5oBiGwQXHzVWx60TNyStWYaFgF1mWK9DYx7Gfna0pVnXAOC0Bz5rYsNiLEyARNAkw4UoEihMWWZbrYLHXLDi29bHTZT/bcrUwTlfkBGVgYKCV1yNRi3T16tUKNLZsy8LezL4sDCC2LDYouq7DMIymCj03N4dCoeB7/7CsErUSC3ZctTC+jlFVFf39/a6tkiik63rd9WThYN2TUzXAuDWfbWB0Xa8szejcuXPYunVrJa+w5K8XUrCdlL+kvICPOnesbqHU3lTdm1K89tprWNvfj+3bt4fSLR+WNE2rsyT2Yte5KJbxdEk8V6TrOjRNa7rgiqKAonqtPSvbBw3UcycithBlYKgDGBuPymGOyrcuMOq25bq7ke3owIkTJ7Bt27bYWBq77nixjxMap+rOgBe78GAplUqhFJ44Prvehz5u0nDu43AsHiEEPWvWoKurCydPnWrajYelUqkETdMqoQXbeOE1UljVACMKdO2FdUfNWhg3N9Ry4y1yD5Sfux98hEaLEOTzeXR1dmLm9OlYQGPDYi+iPjUeNFwb6WZlwophvCSEpoU0CTxOU7LNfC6XQ0pVcWp6GqZphpdBALF12Ih1AQQuyV6LWkphxTBeClZv8QkunT2tvb29yKTTmJqaitTSsO5IZF0AvheoACNqIfEC35WwMM0oPsjUihCCnp4edHV1YWpqKrIOTJ518TOQDPgMekXQhCfPcLd+98BaudjJ2cqwWx7d3d3o7OzE1MmTkbgnESwNB72s3IJfO7NwFFd70Frl83moioKpqakVh8YJC8/CiFTXSnKueW7JXidyF6+rnf2/t7cXmUwGJ06cWFFo2DoUwSKKYzyDXrdYJhxRZmngkMASW7RWRxS8OzefzyObzeL45OSKxTResYuvoJeVc0cROHFV3MbCeaae/T+XyyGdSuH45OSKWG4//S2+m9XsASIrY69brWAVHx9cRKDw9uvp6UE6lcLkCrgnrykovmMYnkTxTKvNpzD1FmZrN2qCnJqw85jTPBXFCvl8Hpl0GsePH2/p9eXBwpbFTb5GwxqlsFm13Ea4lr3+u6DtON4N5tbHQSlFd3c3VFXFxMREy9xTM/VZ03HXaKbNiDJr5+J5UHO7+FB4TX1R3OLch92ez+ehKAqOH5+EYYTvnpqpa9fBR6+luVK3Yn8fUxsCKujpiq6ZKNC0t+XzeaiqgpMnwx9GaKaeI5ygEX4zuhmEgx7rduOImqpu/7Np5nI5UEpx4sSJlseMfhWPGT1u8n2d/FLF369uklSwQnhk7T5Ow/sun88DAI4dOxaLztL4AtNQXx71sauHOyJ1H/hHNTj3wS3w9QtOLpeDJEk4NjERef9XvIAJ0OkbB9VPz7RAc3M/bu6Kp1wuB0WWI4cmemCahqQB6yKKAypzeQXpCw7zE1c4LQyv/8WZlgigXC4HiRBMrlCPME+hvFAoOvmBJbiCtKlYhubn53H58mXOPnw4RN85NT8/D8Mw8PDDDwcoYXNqY2D8wuLHuthfOxFxHMN9aY84302bNjX07BVPvFL3p9NYXFxsKt2gakNgKPPXS377+t2axqLt4mNshjZuHESxWITpq0lMvT7W5H3m9GkfaYavyIAJOrAYpguiYG1Kfeuopp6DvN6LEKQzmQb6UGjNyvGxuo1SECmaiWfRWZiGO6IahcXdulDYDITX9yL0er5gq8U3roqpS6KcT43I2xURl9jFq+/Fthg8Dpqucg/rErViAAx1+S+IvGGx7mX7e4/HYkW5+CDD/7kEOOuIaIoUmPD76DxgMUwYt5dBlwowF5dBixqoboKWrGesqEkBTa8/nhBAkUEUGSSlApkU5O4MpM4MpK4OQCKBByfbTW0W9IrE3O66AbOkQb80C+3MJWhvXYZ+cRb6xVkYs/MWFKC1BWiktm3TQqw/RJWhrOuBfFc/Uls2QN28Duo96yHlOwFFDvwYZVz5izDoDSshAlooQXvzMpYOT6B08jy081dBC+G8LKBONlzU+kOLJrRzV6Gdu4rCjyYru8n9eaj3bkD6wXuRfnQI8kAPiCLzEuR+9FGQxssegiJ0Sc2eMIFxYwHLh4/h9is/gn51LviklRbIuH4LxvVbKPx0CkRVoGwaQPdH34PMI0NACE3iqM40BkFvo7IudmnqHK59/pugWnwf2bVFNR3a6Yu48Rf/gNxvvg9dH/xFzk7cj7FTmwBTf0fq1+baApYaUYrS1Dl2Q2RFCaqYAeOnrdp+F5mVFXS7fL9C5QiqGABz50PiqTY6vWiBobjzYRCqPc87sglU7Xm5wpL/kWk/Saykop9xt+rU3rdKdMC093ULR23SlGYVg6C3AdXEx+1yib0VYCJFiyenihVpT6/b4CNhvqsOx9w5kETy1F0IitTCEOJ+5oS5MrWNKQJIvHGZ+CtOr5APohgEvZS7WI9YAJQSWK9yZxcg9Y67oW5eLxjQi6dIRxqdux5vy9jFVrTzYWjweSRyXw5rvzIK7fQFLPzrD1E8dqZ1I9RNSurMIPP4NnR9+JehrOuNujhNqb2CXockVUZ62yakP/tRmItFLP14EsU3zlhzYN6+FsntS1QZ8vo+KBt6oWwaQGrrIFI7NkPKpKxgLATrEqVVajtgqhGA/eCXtZV0ZtD5nsfQ+Z7HrO2FErS3r0G/fBPGlRswrt+Cfv0W6O1lmAvL1sClaVpjOyYF2MdPKQU1KYgsAXKt1yayDKQUyPlOSGu6IPfnoazvhbKhD/LAGsjre63jHOV0+dhWivWMO8fU6+onCpjzi6AlHXJ/3nFQ+WftsmmkhgeRGh5kjmNy1Q1AN0ANAzApqG5U0galgGGCqHJNjEQJqU7T9DWnxTFfebkIY+42lA19Po5tKOkVU7StJNezdlxsx67Fo2dw86+/C3XLemR/4X6kH9oCZXCtMAhmYSEEgCoDqlwDpb2L6Oe1grRvzLnbKB5/E4WfnETxyDRS2zeh57MfC5CSszTRKNIpmlYrKPjJ05KG0tR5lKbOA7CCS/W+u5AaHoS6eR2UuwcgreksT+BWQFQJRPAjV16wiAthWSeq6aAlHcbVm9Deugpt5gJKU+egX7heQ7vX9AZvRevM2i6Gqfbi1VetuVhA8egZFI+eqe6eViF1ZkA6s5A60iCZlLXOpq3tigykU5WkSTZt9ZUQgGTSoKzrKWmgmgHz9jLMpQLMGwswbi6A3i7AvL0Ec36p4tpapsqU4lXY0+spt04un/6BFjUYRQ24seDvgDirZgJ6NIrWwrR5r+fKqtmnQcNRDHp6gykuLwlcMUVvXABEbWEa0KoDhJX9sqGIiwFEPjQQ/H2/q8eZxQGTquLdcedGxWohJiauyFbE0xuCHysP9Fjd9i14tXorpazraWBvF1eUzOltTKnhQfR/4Vmkhja2RWtL2dCH7o+9F92feL+/Ayh1hWL1PSrb4BnzQp3UjnvQ/5e/B/3sZSwfnkDhyDSMa3Mwl4rhlDGoCAHJpiGvzSPz2DAy77of6pYNgZKKiyuyFW3HHQ32WFKNPSEE6pYNULdsQO7j74MxOw/94iyKJ96CdvYSjNl5mAtLoEtFmMul2lHpJkRUBaQjbfUad2Yh5TuhDq6FPNgPdXAAUk8X5N5csAfvfbWKVl1Pr7cavtSEQO7PQ+rPI/XQFmubYVoj0oY1lcG8tQhzsQBzbsHqyjdM0OUiKCcWIikFJKWCqDKkTAqkywJD6siAZFPWuJQ9BUIwRtW44tOE5ilyYIJGH/qlWZhLRaiD/ZWxIK5kqTI/hcAaoGxMtJF/xaloOsybt2Fcm0Pq/nvEebmHLpErcmCCqnT6Im4e+Bco63uhDg8i886tULdsgNyXB0mrIeUSHBaq6TBvLEC7cA2lI6dRPP4m9IvXkX5oC3q5wMSclLJiD4z71AJAv3QD+qUbWP7vo5YLyaStqZHDG6HeuwFyfx5yTzek7ixINh0sV04h7E1UM2DOL1oj19dvQXvrCrSZC9DOXgItlECLmr/8YtbfIlKkHXduzyUFSrNkzUkpTZxFaeKstZF5Jx1Jq5C6siDZjAWQZE3tBAApmxH6R3PJev07LerWixSXizAXl2EuFkCXS6hUeNDhizaBBWgDC9O0mCkBdLkEY7kE4FakRapR0HGipONuFSpGg4p+lTyMH5WahCWqy5dYmCjUhpbFVoQvFGrHyxWemj/7aK5fYmEiUDvfKm0LjLyuB0Rtr0YeyabR8cTPRV2MptReVxyAfX+mhjai70u/jaUfvI7ia6dgzM5HXC6xpDVdSD+0BZ17RqBsXhd1cZpSxMD4Homp30RgPei+dRC0qEF76wqWX30Dxck3oV+cjXxilbSmC6kdm9Hxq49A3bYJJOMy3tVGioGFadKjU4Ck1JrnqKmmW79gcv4a9Euz1nv/r83BmFuEOXcbMIzyQ/imNYpN7ccwUd9bW56eQCTJ+lxeE1kGyaQg93ZbD+UP9EBetwbKhj4od/VD7usGiPvDwO2oGADTgHxefaIq1qOyPPNvUpjLBdCCZo31lJ9mrDyYz1omYv28DUBA0mp1ukNGBclmQFK8y7dC40Kr8WH8sAeTfCUlEUidWaAzG17GbO4rNC6UTNGMJomQVDs1IT7lCl+xfsykkf2iU/tMTQhDEfbDVLvH3Zb4igmU0VxZNYPiK+MX8Mn/uYWf3aTw90aQZE5v+4h930uTSekmxaf/4wz+7qeX0NXTgze0d2B7N8Ef3CvhXX0kjB9vC1Vt29MbiezmN8KxgPNFHX/4ygy+8X+Xraa9QWGawPFbFH/0uoHf+LGB127Gy84m0xt8iYZqVQDg2qKGPf94HN9+40oZRBMov5vYpvHUAsWXJ02UYvRwZ+KSXNWa1s/skoYPvjiBI5duVzeaqMREbD5Fw29MszJKXBJPtD6g9VtnswUDn//JDfzn+SXuFN+Z2WW895uv48jFBSYfa5EJLHDYJUawAAkwtaL1rqeR+rpVMvGR713BXx2Zw4e/dwWf+d9ZLOvVFF67sIAn//51TF9bst4NzMDy2MYufOa9W5wMxe4H6xJgUF8zQQPamVsafnplGaAUumHib47O4alXLuLCoo4fnL6BPS+8jkvzxWp+JgWhFB9/eB3GPvko3rG2o54Wyi/L6uvpjVT8Wmi2Eh5bm8ZXR/rx2fFZaIY1p/DwhQJGXjqPhfMXUFwqAIoEEAkgQHdaxhefuA+jj28sp2DWFyJmJmYVAdMaSFgRAHsfyCMrE/zZD6/jtmY1b64vGUDvOoDcABZuAbKJ+zfm8Lcf2oGHN3RXy8JxQTHjJeavXQ0jjxZD4pREgE/syGFojYo9/3YBBYPJracPyGTxZL+Jb3z0AazJci5/nYURZBQRSHdQDFOOPBz+3/Htilxn3TDx/aNvo3D+HGAY1YxNCqSz+Jmew9ScVl8WimrLiDmdOKlNf4ZYAIfTnGPlILG1UNTxqZcm8JVXzwJ6Ebh4HiiVyr+YYi3XF3X82nfextd+dgMlo7Z0tPxLKvaSNKtr5DH0yGtj+oBjpSGxtaQZ+J1/OobvHL1sbZAkEKrjqbUa7u9L1RRuuUTx5z+8jo989wIuL+rik0iAcciNmQZ2j4MmLi1gbPJq2TJQpBUJX/rANnzrtx7GoQ/fjcfXp2vAN02K77+5iPe9eA5HLlsP/PPuFb6iOetIgfGwL7EFQ6R3Dubxx+++BwoBBvNpvPTso/iTX7kXikTQn5Xx8ofuxhObO2vcE0yKszdLeP+338Q/H52zhpTYXt6YnfQqala3XrJE8MUnt+KpB9fh3t4O9HfWPinQnZLw4lN34dP/dRXfOjpXw8JSycQrU/MY2NRlbYjpXRLdjLuYXYiwJEsEP3/3GuH3WUXC159Yh76MhK/9eNbigcK6ILZ1YRS365RYmAikSARf+KW1kAB8/Sez1vSFymh1LSF3ZQnUGE2iSoCJSLJE8MV3D+ChgQx+/98vYqlU2/obyBJ8bKuEZ+5ToETfNKnoDu/pjb9+fXsOMgE+9Z3zIDJBTwr45HYFzwzJ6HJ5t2NUriqxMBGLAHh6Ww73/e4QpuclvH+z6gpK1EqAiYkeHEjjwYGoS+GtGHnHRO2gBJg21ar7VVnDMDA3NxcgeAt2oWjdh9blyx2FDjFPwzBhRvQ6k8iAefSRR1AqlUJJy/9wSzh3pWcqLcqXTemdjz0aWpqNKDJgurq6oso6URNKYphEDSkBJlFDSoBJ1JASYBI1pLYCZmyUgOw8iJmoCxKy2um82giYGZyaiLoMidoImCHsO0xBD+/DUGXbGEYJwehYhMVaZWojYBLFQW0FDOvrZw7uBCG78TyA53cTEEKw8yATBcwcxE5ibSekPkYYGyUgo2PldGr3qdlGRuFuwCwrZ+9fZ+3GRpm0CHYeHMPBnVbe7ai2AobV0L7DoPQQ9gLYe4iCUorD+8rOamwUZPglPDNtbad0GgewH8POwPL53XgWL1j7TB/AyPh+DBOC4cnPlY87hL14HruFlTuGUbIbEwemy/tTPH2qmsfMwZ0gu5+vlI9Sis9N7sb+8ZZdlparbYERawYHv/w89h46jH2VYGcI+144gJHxl/AKS8zIAbxg7zS0D5/bCwB7cei5XeUdduHpvQAmTvFbMDOnMAHgga3VqGrXPjvGGsNX949j5MA0KskB2PXcNA6MNH+WUenOA2bmFbw0XnVTlWV4P8YxjslpZt8HtjIBdFkjOzDM/Du8w6V2hz6AZ0bKeTmtFwemO0F3HjBlsW6AXdi7vXmVW26MO2uX/pSguvOAGdqKBwBMnFrBahvah8OUgh7aC4zvx1fH3Moxjck7JYapMeE+lriotlJ24U8PjGB8/3Bti2XmIHY23TIpt4jsdGYOYvSgE4gR7Bi2yvH0XmB8/7NgdxkbtVp2UaqZepbYRBrNNHrtwnOH9mJ8/3BNs3po32FMHxipjWOeBV5o2h8NoyakGdqHpyeHq3nsnsCB6Wqwves5ikN7x7F/uFqOL+84FHnQ20xdE0qtSZKUUhiGAcMwoOt6ZSkWiyiVSigUCigUClhaWqose/bsCfdMVoVmcHDnMPY/cAg03IDKt15++WV0dHRUlkwmg0wmg1QqhXQ6DUVRKossy5BluQKNZwxj78iaKEmSYmJhEgURW4es2/FTp0JgRP7MzkiS7rx4ebWIrcNG41NurTsP4EGTANO+suvPDRIRNHWTwHkuyAmK7dcSBZHVd7MvwhLY9ScCx81F1TWrnWseLPY6UXuKrUMeNEA9C7Z8xTB2oomFuTPktDAiaHiqA8YtyGVhUZTkOf52FdtcZmHximsAJoZxmiO32MVuo7/66qsoFAooFouV/ppSqQRN02r6ckzThGEYNWM6iZoXW0d25bN9KKqqIpVKVfpX0ul0pc9FBA3PNbHgeAa9PHdkF8YwDJimWQHA3l+WZei6XukENE2zsiTAhCdeHdkg2HXEQpNKpSrb7P1EbslO3ymuX+FZGNa62BZDVVUuLIqiVICxoUqACV88YJxewAmNDYuzJ9ePOwIcwIhcEUsvpbSm8u3jRLCwwCQuKVy5hQ08aGxwnNC4Bb9OcLguiWddnPNK2P3dLAvrthJgwpWorniWxmltWLfUiJXxdEmSJIFSWgeNLTZm8QtLAkw4EnWuukFjg8ODxU/Tus4lAdbItQgaZ2GdwTALi+2+7LWddgJMOGIr1tk0dkLjBMf+36vzztMl2TvahbDlrGQ2UUmSaiwKL8hlQUmACUde3SC83nkWFK8OPJ5cgWELw8LDM4FOF+TmihJgwpEIGGeHKwuFCBReGjxxg1629cPCIiqYbU3sOMfLsiTAhCNnf4kbNDyLI+rldabPytXC2LEMgEoc4yyY0/Xwms/OuCUBJhzxPAH72QkCz/X4jV1sCQeERAfY4DgDYi9QEkhaK15lu4HD8xZe7gjweCmi80DbXfGgYF2ZCJQEmtaI50ZE4HhZFTdYAB9v0XRLQNShJ7IqCTCtEe/Gdq69APEDC+DztasiSwPwrUkCSjTyC47oO1950AC16eVueEkm0LRWvAoXtXgahaQmzSDAOCVKIoEkGolACAJIXRphAJNo9Sh5ViRRQ/p/qyBofSRzuAYAAAAASUVORK5CYII=" alt="image-20210809180936732" tabindex="0" loading="lazy"><figcaption>image-20210809180936732</figcaption></figure><p>其中包含两张表：</p><ul><li>tb_item：商品表，包含商品的基本信息</li><li>tb_item_stock：商品库存表，包含商品的库存信息</li></ul><p>之所以将库存分离出来，是因为库存是更新比较频繁的信息，写操作较多。而其他信息修改的频率非常低。</p><h1 id="_3-导入demo工程" tabindex="-1"><a class="header-anchor" href="#_3-导入demo工程"><span>3.导入Demo工程</span></a></h1><p>下面导入课前资料提供的工程：</p><figure><img src="data:image/png;base64,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" alt="image-20210809181147502" tabindex="0" loading="lazy"><figcaption>image-20210809181147502</figcaption></figure><p>项目结构如图所示：</p><figure><img src="'+e+'" alt="image-20210809181346450" tabindex="0" loading="lazy"><figcaption>image-20210809181346450</figcaption></figure><p>其中的业务包括：</p><ul><li>分页查询商品</li><li>新增商品</li><li>修改商品</li><li>修改库存</li><li>删除商品</li><li>根据id查询商品</li><li>根据id查询库存</li></ul><p>业务全部使用mybatis-plus来实现，如有需要请自行修改业务逻辑。</p><h2 id="_3-1-分页查询商品" tabindex="-1"><a class="header-anchor" href="#_3-1-分页查询商品"><span>3.1.分页查询商品</span></a></h2><p>在<code>com.heima.item.web</code>包的<code>ItemController</code>中可以看到接口定义：</p><figure><img src="'+l+'" alt="image-20210809181554563" tabindex="0" loading="lazy"><figcaption>image-20210809181554563</figcaption></figure><h2 id="_3-2-新增商品" tabindex="-1"><a class="header-anchor" href="#_3-2-新增商品"><span>3.2.新增商品</span></a></h2><p>在<code>com.heima.item.web</code>包的<code>ItemController</code>中可以看到接口定义：</p><figure><img src="'+t+'" alt="image-20210809181646907" tabindex="0" loading="lazy"><figcaption>image-20210809181646907</figcaption></figure><h2 id="_3-3-修改商品" tabindex="-1"><a class="header-anchor" href="#_3-3-修改商品"><span>3.3.修改商品</span></a></h2><p>在<code>com.heima.item.web</code>包的<code>ItemController</code>中可以看到接口定义：</p><figure><img src="'+h+'" alt="image-20210809181714607" tabindex="0" loading="lazy"><figcaption>image-20210809181714607</figcaption></figure><h2 id="_3-4-修改库存" tabindex="-1"><a class="header-anchor" href="#_3-4-修改库存"><span>3.4.修改库存</span></a></h2><p>在<code>com.heima.item.web</code>包的<code>ItemController</code>中可以看到接口定义：</p><figure><img src="'+p+'" alt="image-20210809181744011" tabindex="0" loading="lazy"><figcaption>image-20210809181744011</figcaption></figure><h2 id="_3-5-删除商品" tabindex="-1"><a class="header-anchor" href="#_3-5-删除商品"><span>3.5.删除商品</span></a></h2><p>在<code>com.heima.item.web</code>包的<code>ItemController</code>中可以看到接口定义：</p><figure><img src="'+d+'" alt="image-20210809181821696" tabindex="0" loading="lazy"><figcaption>image-20210809181821696</figcaption></figure><p>这里是采用了逻辑删除，将商品状态修改为3</p><h2 id="_3-6-根据id查询商品" tabindex="-1"><a class="header-anchor" href="#_3-6-根据id查询商品"><span>3.6.根据id查询商品</span></a></h2><p>在<code>com.heima.item.web</code>包的<code>ItemController</code>中可以看到接口定义：</p><figure><img src="'+r+'" alt="image-20210809181901823" tabindex="0" loading="lazy"><figcaption>image-20210809181901823</figcaption></figure><p>这里只返回了商品信息，不包含库存</p><h2 id="_3-7-根据id查询库存" tabindex="-1"><a class="header-anchor" href="#_3-7-根据id查询库存"><span>3.7.根据id查询库存</span></a></h2><p>在<code>com.heima.item.web</code>包的<code>ItemController</code>中可以看到接口定义：</p><figure><img src="'+k+'" alt="image-20210809181932805" tabindex="0" loading="lazy"><figcaption>image-20210809181932805</figcaption></figure><h2 id="_3-8-启动" tabindex="-1"><a class="header-anchor" href="#_3-8-启动"><span>3.8.启动</span></a></h2><p>注意修改application.yml文件中配置的mysql地址信息：</p><figure><img src="'+g+'" alt="image-20210809182350132" tabindex="0" loading="lazy"><figcaption>image-20210809182350132</figcaption></figure><p>需要修改为自己的虚拟机地址信息、还有账号和密码。</p><p>修改后，启动服务，访问：http://localhost:8081/item/10001即可查询数据</p><h1 id="_4-导入商品查询页面" tabindex="-1"><a class="header-anchor" href="#_4-导入商品查询页面"><span>4.导入商品查询页面</span></a></h1><p>商品查询是购物页面，与商品管理的页面是分离的。</p><p>部署方式如图：</p><figure><img src="'+c+'" alt="image-20210816111210961" tabindex="0" loading="lazy"><figcaption>image-20210816111210961</figcaption></figure><p>我们需要准备一个反向代理的nginx服务器，如上图红框所示，将静态的商品页面放到nginx目录中。</p><p>页面需要的数据通过ajax向服务端（nginx业务集群）查询。</p><h2 id="_4-1-运行nginx服务" tabindex="-1"><a class="header-anchor" href="#_4-1-运行nginx服务"><span>4.1.运行nginx服务</span></a></h2><p>这里我已经给大家准备好了nginx反向代理服务器和静态资源。</p><p>我们找到课前资料的nginx目录：</p><figure><img src="data:image/png;base64,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" alt="image-20210816111348353" tabindex="0" loading="lazy"><figcaption>image-20210816111348353</figcaption></figure><p>将其拷贝到一个非中文目录下，运行这个nginx服务。</p><p>运行命令：</p><div class="language-powershell line-numbers-mode" data-highlighter="shiki" data-ext="powershell" data-title="powershell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">start </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">nginx.exe</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>然后访问 http://localhost/item.html?id=10001即可：</p><figure><img src="'+A+'" alt="image-20210816112323632" tabindex="0" loading="lazy"><figcaption>image-20210816112323632</figcaption></figure><h2 id="_4-2-反向代理" tabindex="-1"><a class="header-anchor" href="#_4-2-反向代理"><span>4.2.反向代理</span></a></h2><p>现在，页面是假数据展示的。我们需要向服务器发送ajax请求，查询商品数据。</p><p>打开控制台，可以看到页面有发起ajax查询数据：</p><figure><img src="'+m+'" alt="image-20210816113816958" tabindex="0" loading="lazy"><figcaption>image-20210816113816958</figcaption></figure><p>而这个请求地址同样是80端口，所以被当前的nginx反向代理了。</p><p>查看nginx的conf目录下的nginx.conf文件：</p><figure><img src="'+o+'" alt="image-20210816113917002" tabindex="0" loading="lazy"><figcaption>image-20210816113917002</figcaption></figure><p>其中的关键配置如下：</p><figure><img src="'+u+'" alt="image-20210816114416561" tabindex="0" loading="lazy"><figcaption>image-20210816114416561</figcaption></figure><p>其中的192.168.150.101是我的虚拟机IP，也就是我的Nginx业务集群要部署的地方：</p><figure><img src="'+y+'" alt="image-20210816114554645" tabindex="0" loading="lazy"><figcaption>image-20210816114554645</figcaption></figure><p>完整内容如下：</p><div class="language-nginx line-numbers-mode" data-highlighter="shiki" data-ext="nginx" data-title="nginx" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#user  nobody;</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">worker_processes </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">events</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    worker_connections </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1024</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">http</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    include </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      mime.types;</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    default_type </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> application/octet-stream;</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    sendfile </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">       on</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    #tcp_nopush     on;</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    keepalive_timeout </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 65</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    upstream</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> nginx-cluster{</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        server</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> 192.168.150.101:8081;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    server</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        listen </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">      80</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        server_name </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> localhost;</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">\tlocation</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> /api {</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">            proxy_pass </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">http://nginx-cluster;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        }</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        location</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> / {</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">            root </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  html;</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">            index </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> index.html index.htm;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        }</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        error_page </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">  500</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 502</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 503</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 504</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  /50x.html;</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        location</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> = </span><span style="--shiki-light:#0184BC;--shiki-dark:#E06C75;">/50x.html </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">{</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">            root </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  html;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        }</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',88)]))}]]),D=JSON.parse('{"path":"/Database/Redis/%E8%AF%BE%E5%89%8D%E8%B5%84%E6%96%99/%E6%A1%88%E4%BE%8B%E5%AF%BC%E5%85%A5%E8%AF%B4%E6%98%8E.html","title":"案例导入说明","lang":"zh-CN","frontmatter":{"gitInclude":[]},"headers":[{"level":2,"title":"1.1.准备目录","slug":"_1-1-准备目录","link":"#_1-1-准备目录","children":[]},{"level":2,"title":"1.2.运行命令","slug":"_1-2-运行命令","link":"#_1-2-运行命令","children":[]},{"level":2,"title":"1.3.修改配置","slug":"_1-3-修改配置","link":"#_1-3-修改配置","children":[]},{"level":2,"title":"1.4.重启","slug":"_1-4-重启","link":"#_1-4-重启","children":[]},{"level":2,"title":"3.1.分页查询商品","slug":"_3-1-分页查询商品","link":"#_3-1-分页查询商品","children":[]},{"level":2,"title":"3.2.新增商品","slug":"_3-2-新增商品","link":"#_3-2-新增商品","children":[]},{"level":2,"title":"3.3.修改商品","slug":"_3-3-修改商品","link":"#_3-3-修改商品","children":[]},{"level":2,"title":"3.4.修改库存","slug":"_3-4-修改库存","link":"#_3-4-修改库存","children":[]},{"level":2,"title":"3.5.删除商品","slug":"_3-5-删除商品","link":"#_3-5-删除商品","children":[]},{"level":2,"title":"3.6.根据id查询商品","slug":"_3-6-根据id查询商品","link":"#_3-6-根据id查询商品","children":[]},{"level":2,"title":"3.7.根据id查询库存","slug":"_3-7-根据id查询库存","link":"#_3-7-根据id查询库存","children":[]},{"level":2,"title":"3.8.启动","slug":"_3-8-启动","link":"#_3-8-启动","children":[]},{"level":2,"title":"4.1.运行nginx服务","slug":"_4-1-运行nginx服务","link":"#_4-1-运行nginx服务","children":[]},{"level":2,"title":"4.2.反向代理","slug":"_4-2-反向代理","link":"#_4-2-反向代理","children":[]}],"readingTime":{"minutes":3.8,"words":1139},"filePathRelative":"Database/Redis/课前资料/案例导入说明.md","excerpt":"\\n<p>为了演示多级缓存，我们先导入一个商品管理的案例，其中包含商品的CRUD功能。我们将来会给查询商品添加多级缓存。</p>\\n<h1>1.安装MySQL</h1>\\n<p>后期做数据同步需要用到MySQL的主从功能，所以需要大家在虚拟机中，利用Docker来运行一个MySQL容器。</p>\\n<h2>1.1.准备目录</h2>\\n<p>为了方便后期配置MySQL，我们先准备两个目录，用于挂载容器的数据和配置文件目录：</p>\\n<div class=\\"language-sh line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"sh\\" data-title=\\"sh\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\\"># 进入/tmp目录</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\\">cd</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> /tmp</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\\"># 创建文件夹</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">mkdir</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> mysql</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\\"># 进入mysql目录</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#0184BC;--shiki-dark:#56B6C2\\">cd</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> mysql</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>"}')}}]);