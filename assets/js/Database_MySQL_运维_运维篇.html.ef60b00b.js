"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[55489],{66262:(i,s)=>{s.A=(i,s)=>{const a=i.__vccOpts||i;for(const[i,n]of s)a[i]=n;return a}},31821:(i,s,a)=>{a.r(s),a.d(s,{comp:()=>yi,data:()=>Ai});var n=a(20641);const e=a.p+"assets/img/58131011726.e0a646e0.png",l=a.p+"assets/img/4454682776.b3695918.png",t=a.p+"assets/img/7410105910882.f64ae350.png",g=a.p+"assets/img/21103533211.4d8a1b9e.png",p=a.p+"assets/img/24794193710.3572a342.png",h=a.p+"assets/img/91294866110.b170a252.png",d=a.p+"assets/img/10617439921.6240a803.png",r=a.p+"assets/img/21053341798.07e6e416.png",c=a.p+"assets/img/6153782135.607e3349.png",k=a.p+"assets/img/4765397657.42b0634f.png",m=a.p+"assets/img/35239910325.9593c1da.png",o=a.p+"assets/img/4616215143.ea08a60e.png",f=a.p+"assets/img/86213810658.771768ee.png",b=a.p+"assets/img/81010325101039.e940caac.png",u=a.p+"assets/img/6382138721.9cb80c6f.png",y=a.p+"assets/img/101795210673.75634b31.png",A=a.p+"assets/img/96457210797.02d4d256.png",v=a.p+"assets/img/1891042610310.cdded0bd.png",B=a.p+"assets/img/qwe1324t14t.f760e9df.png",F=a.p+"assets/img/10197188896.e13f47d5.png",x=a.p+"assets/img/59710648531.556f27b7.png",D=a.p+"assets/img/32368131027.130804ac.png",C=a.p+"assets/img/7484479134.4f073f8f.png",z=a.p+"assets/img/10769359339.66ca07bc.png",_=a.p+"assets/img/91315810623.0f4f6bab.png",q=a.p+"assets/img/951010415971.4f48839e.png",M=a.p+"assets/img/84271093639.b418b5be.png",L=a.p+"assets/img/3853211256.b763159d.png",E=a.p+"assets/img/9325751819.da58999c.png",S=a.p+"assets/img/21931016227.fd4a8945.png",w=a.p+"assets/img/9852726692.738d7ea4.png",Q=a.p+"assets/img/58109378671.5baade11.png",T=a.p+"assets/img/1269361453.c771ca4b.png",O=a.p+"assets/img/9977715254.903d598a.png",N=a.p+"assets/img/131081045236.3d705d10.png",R=a.p+"assets/img/34510781883.276ff218.png",W=a.p+"assets/img/2654319698.f89ebeb9.png",G=a.p+"assets/img/22173110191.6f1a47fa.png",I=a.p+"assets/img/7347361194.455cbda8.png",j=a.p+"assets/img/73610917872.dddbcda1.png",H=a.p+"assets/img/3171425417.bb34a211.png",J=a.p+"assets/img/667103121103.f0f401e7.png",P=a.p+"assets/img/11088699372.f89c1b7c.png",V=a.p+"assets/img/2632725279.8dc16e28.png",X=a.p+"assets/img/1452119317.c796bf33.png",Z=a.p+"assets/img/2375113118.545a570f.png",K=a.p+"assets/img/1368697562.1e4b0e08.png",U=a.p+"assets/img/53710618932.fba3a06e.png",Y=a.p+"assets/img/8619959324.b850f760.png",$=a.p+"assets/img/1010769110977.b5d09a11.png",ii=a.p+"assets/img/109109981999.eacd9486.png",si=a.p+"assets/img/4762746916.99a3c582.png",ai=a.p+"assets/img/22673141012.f53af480.png",ni=a.p+"assets/img/73451065142.e229adab.png",ei=a.p+"assets/img/7348156477.3c3ac2b2.png",li=a.p+"assets/img/52510452433.0dd20baf.png",ti=a.p+"assets/img/10918829811.e87fb9f9.png",gi=a.p+"assets/img/52287271210.9f383b51.png",pi=a.p+"assets/img/4564143383.39a81b39.png",hi=a.p+"assets/img/245101066682.09f5d0e9.png",di=a.p+"assets/img/6338368756.054448ce.png",ri=a.p+"assets/img/2677654314.a2f6a582.png",ci=a.p+"assets/img/105101448841.37cdf030.png",ki=a.p+"assets/img/7237222812.b2f0ce1e.png",mi=a.p+"assets/img/6246592973.ef5a3d46.png",oi=a.p+"assets/img/12919109752.921775af.png",fi=a.p+"assets/img/8536419478.c2a3ddde.png",bi=a.p+"assets/img/15610682864.a7505367.png",ui={},yi=(0,a(66262).A)(ui,[["render",function(i,s){return(0,n.uX)(),(0,n.CE)("div",null,s[0]||(s[0]=[(0,n.Fv)('<h1 id="è¿ç»´ç¯‡" tabindex="-1"><a class="header-anchor" href="#è¿ç»´ç¯‡"><span>è¿ç»´ç¯‡</span></a></h1><h2 id="æ—¥å¿—" tabindex="-1"><a class="header-anchor" href="#æ—¥å¿—"><span>æ—¥å¿—</span></a></h2><h3 id="é”™è¯¯æ—¥å¿—" tabindex="-1"><a class="header-anchor" href="#é”™è¯¯æ—¥å¿—"><span>é”™è¯¯æ—¥å¿—</span></a></h3><p>é”™è¯¯æ—¥å¿—æ˜¯ MySQL ä¸­æœ€é‡è¦çš„æ—¥å¿—ä¹‹ä¸€ï¼Œå®ƒè®°å½•äº†å½“ mysqld å¯åŠ¨å’Œåœæ­¢æ—¶ï¼Œä»¥åŠæœåŠ¡å™¨åœ¨è¿è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿä»»ä½•ä¸¥é‡é”™è¯¯æ—¶çš„ç›¸å…³ä¿¡æ¯å½“æ•°æ®åº“å‡ºç°ä»»ä½•æ•…éšœå¯¼è‡´æ— æ³•æ­£å¸¸ä½¿ç”¨æ—¶ï¼Œå»ºè®®é¦–å…ˆæŸ¥çœ‹æ­¤æ—¥å¿—ã€‚</p><p>è¯¥æ—¥å¿—æ˜¯é»˜è®¤å¼€å¯çš„ï¼Œé»˜è®¤å­˜æ”¾ç›®å½• /var/log/ï¼Œé»˜è®¤çš„æ—¥å¿—æ–‡ä»¶åä¸º mysqld.log ã€‚æŸ¥çœ‹æ—¥å¿—ä½ç½®ï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>show variables like &#39;%log_error%&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="äºŒè¿›åˆ¶æ—¥å¿—" tabindex="-1"><a class="header-anchor" href="#äºŒè¿›åˆ¶æ—¥å¿—"><span>äºŒè¿›åˆ¶æ—¥å¿—</span></a></h3><h4 id="ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#ä»‹ç»"><span>ä»‹ç»</span></a></h4><p>äºŒè¿›åˆ¶æ—¥å¿—(BINLOG)è®°å½•äº†æ‰€æœ‰çš„ DDL(æ•°æ®å®šä¹‰è¯­è¨€)è¯­å¥å’Œ DML(æ•°æ®æ“çºµè¯­è¨€)è¯­å¥ï¼Œä½†ä¸åŒ…æ‹¬æ•°æ®æŸ¥è¯¢(SELECTã€SHOW)è¯­å¥ã€‚</p><p>ä½œç”¨ï¼š</p><ol><li>ç¾éš¾æ—¶çš„æ•°æ®æ¢å¤ï¼›</li><li>MySQLçš„ä¸»ä»å¤åˆ¶ã€‚</li></ol><p>åœ¨MVSOL8ç‰ˆæœ¬ä¸­ï¼Œé»˜è®¤äºŒè¿›åˆ¶æ—¥å¿—æ˜¯å¼€å¯ç€çš„ï¼Œæ¶‰åŠåˆ°çš„å‚æ•°å¦‚ä¸‹ï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>show variables like &#39;%log_bin%&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="æ—¥å¿—æ ¼å¼" tabindex="-1"><a class="header-anchor" href="#æ—¥å¿—æ ¼å¼"><span>æ—¥å¿—æ ¼å¼</span></a></h4><p>MySQLæœåŠ¡å™¨ä¸­æä¾›äº†å¤šç§æ ¼å¼æ¥è®°å½•äºŒè¿›åˆ¶è®°å½•ï¼Œå…·ä½“æ ¼å¼åŠç‰¹ç‚¹å¦‚ä¸‹ï¼š</p><table><thead><tr><th>æ—¥å¿—æ ¼å¼</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>statement</td><td>åŸºäºSQLè¯­å¥çš„æ—¥å¿—è®°å½•ï¼Œè®°å½•çš„æ˜¯SQLè¯­å¥ï¼Œå¯¹æ•°æ®è¿›è¡Œä¿®æ”¹çš„SQLéƒ½ä¼šè®°å½•åœ¨æ—¥å¿—æ–‡ä»¶ä¸­ã€‚</td></tr><tr><td>row</td><td>åŸºäºè¡Œçš„æ—¥å¿—è®°å½•ï¼Œè®°å½•çš„æ˜¯æ¯ä¸€è¡Œçš„æ•°æ®å˜æ›´ã€‚<strong>(é»˜è®¤)</strong></td></tr><tr><td>mined</td><td>æ··åˆäº†STATEMENTå’ŒROWä¸¤ç§æ ¼å¼ï¼Œé»˜è®¤é‡‡ç”¨STATEMENTï¼Œåœ¨æŸäº›ç‰¹æ®Šæƒ…å†µä¸‹ä¼šè‡ªåŠ¨åˆ‡æ¢ä¸ºROWè¿›è¡Œè®°å½•ã€‚</td></tr></tbody></table><p>æŸ¥çœ‹å‚æ•°æ–¹å¼ï¼š<code>show variables like &#39;%binlog_format%&#39;;</code></p><h4 id="æ—¥å¿—æŸ¥çœ‹" tabindex="-1"><a class="header-anchor" href="#æ—¥å¿—æŸ¥çœ‹"><span>æ—¥å¿—æŸ¥çœ‹</span></a></h4><p>ç”±äºæ—¥å¿—æ˜¯ä»¥äºŒè¿›åˆ¶æ–¹å¼å­˜å‚¨çš„ï¼Œä¸èƒ½ç›´æ¥è¯»å–ï¼Œéœ€è¦é€šè¿‡äºŒè¿›åˆ¶æ—¥å¿—æŸ¥è¯¢å·¥å…· mysqlbinlog æ¥æŸ¥çœ‹ï¼Œå…·ä½“è¯­æ³•ï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mysqlbinlog[å‚æ•°é€‰é¡¹]logfilename</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">å‚æ•°é€‰é¡¹ï¼š</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    -d</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    æŒ‡å®šæ•°æ®åº“åç§°ï¼Œåªåˆ—å‡ºæŒ‡å®šçš„æ•°æ®åº“ç›¸å…³çš„æ“ä½œã€‚</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    -o</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    å¿½ç•¥æ‰æ—¥å¿—ä¸­çš„å‰nè¡Œå‘½ä»¤ã€‚</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    -v</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    å°†è¡Œäº‹ä»¶</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">æ•°æ®å˜æ›´</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">é‡æ„ä¸ºSOLè¯­å¥ã€‚</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    -w</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    å°†è¡Œäº‹ä»¶</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">æ•°æ®å˜æ›´</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">é‡æ„ä¸ºSQLè¯­å¥ï¼Œå¹¶è¾“å‡ºæ³¨é‡Šä¿¡æ¯</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="æ—¥å¿—åˆ é™¤" tabindex="-1"><a class="header-anchor" href="#æ—¥å¿—åˆ é™¤"><span>æ—¥å¿—åˆ é™¤</span></a></h4><p>å¯¹äºæ¯”è¾ƒç¹å¿™çš„ä¸šåŠ¡ç³»ç»Ÿï¼Œæ¯å¤©ç”Ÿæˆçš„binlogæ•°æ®å·¨å¤§ï¼Œå¦‚æœé•¿æ—¶é—´ä¸æ¸…é™¤ï¼Œå°†ä¼šå ç”¨å¤§é‡ç£ç›˜ç©ºé—´ã€‚å¯ä»¥é€šè¿‡ä»¥ä¸‹å‡ ç§æ–¹å¼æ¸…ç†æ—¥å¿—ï¼š</p><table><thead><tr><th>æŒ‡ä»¤</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td>reset master</td><td>åˆ é™¤å…¨éƒ¨ binlog æ—¥å¿—ï¼Œåˆ é™¤ä¹‹åï¼Œæ—¥å¿—ç¼–å·ï¼Œå°†ä» binlog.000001é‡æ–°å¼€å§‹</td></tr><tr><td>purge master logs to â€˜binlog.***â€™</td><td>åˆ é™¤ *** ç¼–å·ä¹‹å‰çš„æ‰€æœ‰æ—¥å¿—</td></tr><tr><td>purge master logs before â€˜yyyy-mm-dd hh24:mi:ssâ€™</td><td>åˆ é™¤æ—¥å¿—ä¸ºâ€yyyy-mm-dd hh24:mi:ssâ€ä¹‹å‰äº§ç”Ÿçš„æ‰€æœ‰æ—¥å¿—</td></tr></tbody></table><p>ğŸ¨ purge:æ¸…é™¤</p><p>ä¹Ÿå¯ä»¥åœ¨mysqlçš„é…ç½®æ–‡ä»¶ä¸­é…ç½®äºŒè¿›åˆ¶æ—¥å¿—çš„è¿‡æœŸæ—¶é—´ï¼Œè®¾ç½®äº†ä¹‹åï¼ŒäºŒè¿›åˆ¶æ—¥å¿—è¿‡æœŸä¼šè‡ªåŠ¨åˆ é™¤.</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">show variables </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">like</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;%binlog_expire_logs_seconds%&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>é»˜è®¤30å¤©</p><h3 id="æŸ¥è¯¢æ—¥å¿—" tabindex="-1"><a class="header-anchor" href="#æŸ¥è¯¢æ—¥å¿—"><span>æŸ¥è¯¢æ—¥å¿—</span></a></h3><p>æŸ¥è¯¢æ—¥å¿—ä¸­è®°å½•äº†å®¢æˆ·ç«¯çš„æ‰€æœ‰æ“ä½œè¯­å¥ï¼Œè€ŒäºŒè¿›åˆ¶æ—¥å¿—ä¸åŒ…å«æŸ¥è¯¢æ•°æ®çš„SQLè¯­å¥ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒæŸ¥è¯¢æ—¥å¿—æ˜¯æœªå¼€å¯çš„ã€‚å¦‚æœéœ€è¦å¼€å¯æŸ¥è¯¢æ—¥å¿—ï¼Œå¯ä»¥è®¾ç½®ä¸€ä¸‹é…ç½®ï¼š</p><p>ä¿®æ”¹MySQLçš„é…ç½®æ–‡ä»¶ /etc/my.cnf æ–‡ä»¶ï¼Œæ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>#è¯¥é€‰é¡¹ç”¨æ¥å¼€å¯æŸ¥è¯¢æ—¥å¿—ï¼Œå¯é€‰å€¼ï¼š0æˆ–è€…1ï¼›0ä»£è¡¨å…³é—­ï¼Œ1ä»£è¡¨å¼€å¯</span></span>\n<span class="line"><span>general_log=1</span></span>\n<span class="line"><span>#è®¾ç½®æ—¥å¿—çš„æ–‡ä»¶å ï¼Œ å¦‚æœæ²¡æœ‰æŒ‡å®šï¼Œé»˜è®¤çš„æ–‡ä»¶åä¸º host_name.log</span></span>\n<span class="line"><span>general_log_file=mysql_query.log</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æ…¢æŸ¥è¯¢æ—¥å¿—" tabindex="-1"><a class="header-anchor" href="#æ…¢æŸ¥è¯¢æ—¥å¿—"><span>æ…¢æŸ¥è¯¢æ—¥å¿—</span></a></h3><p>ä¿®æ”¹MySQLçš„é…ç½®æ–‡ä»¶ /etc/my.cnf æ–‡ä»¶</p><p>æ…¢æŸ¥è¯¢æ—¥å¿—è®°å½•äº†æ‰€æœ‰æ‰§è¡Œæ—¶é—´è¶…è¿‡å‚æ•° <code>long_query_time </code>è®¾ç½®å€¼å¹¶ä¸”æ‰«æè®°å½•æ•°ä¸å°äº <code>min_examined_row_limit</code>çš„æ‰€æœ‰çš„SQLè¯­å¥çš„æ—¥å¿—ï¼Œé»˜è®¤æœªå¼€å¯ã€‚<code>long_query_time </code>é»˜è®¤ä¸º 10 ç§’ï¼Œæœ€å°ä¸º0ï¼Œç²¾åº¦å¯ä»¥åˆ°å¾®ç§’ã€‚</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>#æ…¢æŸ¥è¯¢æ—¥å¿—</span></span>\n<span class="line"><span>slow_query_log=1</span></span>\n<span class="line"><span>#æ‰§è¡Œæ—¶é—´å‚æ•°</span></span>\n<span class="line"><span>long_query_time=2</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸ä¼šè®°å½•ç®¡ç†è¯­å¥ï¼Œä¹Ÿä¸ä¼šè®°å½•ä¸ä½¿ç”¨ç´¢å¼•è¿›è¡ŒæŸ¥æ‰¾çš„æŸ¥è¯¢ã€‚å¯ä»¥ä½¿ç”¨<code>log_slow_admin_statements</code>å’Œæ›´æ”¹æ­¤è¡Œä¸º<code>log_queries_not_using_indexes</code>ï¼Œå¦‚ä¸‹æ‰€è¿°ã€‚</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">#è®°å½•æ‰§è¡Œè¾ƒæ…¢çš„ç®¡ç†è¯­å¥</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">log_slow_admin_statements </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">#è®°å½•æ‰§è¡Œè¾ƒæ…¢çš„æœªä½¿ç”¨ç´¢å¼•çš„è¯­å¥</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">log_queries_not_using_indexes </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ä¸»ä»å¤åˆ¶" tabindex="-1"><a class="header-anchor" href="#ä¸»ä»å¤åˆ¶"><span>ä¸»ä»å¤åˆ¶</span></a></h2><figure><img src="'+e+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><figure><img src="'+l+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h3 id="åŸç†" tabindex="-1"><a class="header-anchor" href="#åŸç†"><span>åŸç†</span></a></h3><figure><img src="'+t+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h3 id="æ­å»ºå®ç°" tabindex="-1"><a class="header-anchor" href="#æ­å»ºå®ç°"><span>æ­å»ºå®ç°</span></a></h3><h4 id="ä¸»åº“é…ç½®" tabindex="-1"><a class="header-anchor" href="#ä¸»åº“é…ç½®"><span>ä¸»åº“é…ç½®</span></a></h4><figure><img src="'+g+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><figure><img src="'+p+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><figure><img src="'+h+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">create</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> user</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &#39;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">itcast</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&#39;@</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;%&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> identified </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">with</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> mysql_native_password </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">by</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;111111&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">grant</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> replication slave </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">on</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> *.* </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">to</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;itcast&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">@</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;%&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">show </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">master</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> status</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="ä»åº“é…ç½®" tabindex="-1"><a class="header-anchor" href="#ä»åº“é…ç½®"><span>ä»åº“é…ç½®</span></a></h4><figure><img src="'+d+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><figure><img src="'+r+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">change replication source </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">to</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> source_host</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;192.168.68.201&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,source_user</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;itcast&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,source_password</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;111111&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,source_log_file</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;binlog.000003&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,source_log_pos</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">664</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><figure><img src="'+c+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">start</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> replica</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">stop</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> replica</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">show </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">replica</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> status</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">\\G;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="æµ‹è¯•" tabindex="-1"><a class="header-anchor" href="#æµ‹è¯•"><span>æµ‹è¯•</span></a></h4><p>1ã€åœ¨ä¸»åº“ä¸Šåˆ›å»ºæ•°æ®åº“ã€è¡¨ï¼Œå¹¶æ’å…¥æ•°æ®</p><div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">create</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> database</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> db01</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">use</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> db01;</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">create</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> table</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> tb_use</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">\tid </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">int</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">11</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">primary key</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> not null</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> auto_increment,</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">\tname</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> varchar</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">50</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">not null</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">\tsex </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">varchar</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)engine</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">innodb </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">default</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> charset</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">utf8mb4;</span></span>\n<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">insert into</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> tb_user(id, </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, sex) valurs (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">null</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;Tom&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;1&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">null</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;Trigger&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;0&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">null</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;Dawn&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;1&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2ã€åœ¨ä»åº“ä¸­æŸ¥è¯¢æ•°æ®ï¼ŒéªŒè¯ä¸»ä»æ˜¯å¦åŒæ­¥ã€‚</p><h2 id="åˆ†åº“åˆ†è¡¨" tabindex="-1"><a class="header-anchor" href="#åˆ†åº“åˆ†è¡¨"><span>åˆ†åº“åˆ†è¡¨</span></a></h2><h3 id="ä»‹ç»-1" tabindex="-1"><a class="header-anchor" href="#ä»‹ç»-1"><span>ä»‹ç»</span></a></h3><figure><img src="'+k+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><figure><img src="'+m+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><figure><img src="https://jimhackking.github.io/è¿ç»´/MySQLå­¦ä¹ ç¬”è®°/106169108266.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><figure><img src="'+o+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><figure><img src="'+f+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h3 id="mycatæ¦‚è¿°" tabindex="-1"><a class="header-anchor" href="#mycatæ¦‚è¿°"><span>Mycatæ¦‚è¿°</span></a></h3><figure><img src="'+b+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><figure><img src="'+u+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><figure><img src="'+y+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h3 id="mycatå…¥é—¨" tabindex="-1"><a class="header-anchor" href="#mycatå…¥é—¨"><span>Mycatå…¥é—¨</span></a></h3><figure><img src="'+A+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><figure><img src="'+v+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><figure><img src="'+B+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><figure><img src="'+F+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><figure><img src="'+x+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h3 id="mycaté…ç½®" tabindex="-1"><a class="header-anchor" href="#mycaté…ç½®"><span>Mycaté…ç½®</span></a></h3><h4 id="schema-xml" tabindex="-1"><a class="header-anchor" href="#schema-xml"><span>schema.xml</span></a></h4><p>schema.xmlä½œä¸ºMyCatä¸­æœ€é‡è¦çš„é…ç½®æ–‡ä»¶ä¹‹ä¸€,æ¶µç›–äº†MyCatçš„é€»è¾‘åº“ ã€é€»è¾‘è¡¨ ã€åˆ†ç‰‡è§„åˆ™ã€åˆ†ç‰‡èŠ‚ç‚¹åŠæ•°æ®æºçš„é…ç½®.</p><p>ä¸»è¦åŒ…å«ä»¥ä¸‹ä¸‰ç»„æ ‡ç­¾:</p><ul><li>schemaæ ‡ç­¾</li><li>datanodeæ ‡ç­¾</li><li>datahostæ ‡ç­¾</li></ul><figure><img src="'+D+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><figure><img src="'+C+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><figure><img src="'+z+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><figure><img src="'+_+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h4 id="rule-xml" tabindex="-1"><a class="header-anchor" href="#rule-xml"><span>rule.xml</span></a></h4><figure><img src="'+q+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><figure><img src="'+M+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><figure><img src="'+L+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h3 id="mycatåˆ†ç‰‡" tabindex="-1"><a class="header-anchor" href="#mycatåˆ†ç‰‡"><span>Mycatåˆ†ç‰‡</span></a></h3><h4 id="å‚ç›´åˆ†åº“" tabindex="-1"><a class="header-anchor" href="#å‚ç›´åˆ†åº“"><span>å‚ç›´åˆ†åº“</span></a></h4><figure><img src="'+E+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><figure><img src="'+S+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><figure><img src="'+w+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><figure><img src="'+Q+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h4 id="æ°´å¹³åˆ†è¡¨" tabindex="-1"><a class="header-anchor" href="#æ°´å¹³åˆ†è¡¨"><span>æ°´å¹³åˆ†è¡¨</span></a></h4><figure><img src="'+T+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><figure><img src="'+O+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><figure><img src="'+N+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h4 id="åˆ†ç‰‡è§„åˆ™" tabindex="-1"><a class="header-anchor" href="#åˆ†ç‰‡è§„åˆ™"><span>åˆ†ç‰‡è§„åˆ™</span></a></h4><h5 id="èŒƒå›´åˆ†ç‰‡" tabindex="-1"><a class="header-anchor" href="#èŒƒå›´åˆ†ç‰‡"><span>èŒƒå›´åˆ†ç‰‡</span></a></h5><figure><img src="'+R+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><figure><img src="'+W+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h5 id="å–æ¨¡åˆ†ç‰‡" tabindex="-1"><a class="header-anchor" href="#å–æ¨¡åˆ†ç‰‡"><span>å–æ¨¡åˆ†ç‰‡</span></a></h5><figure><img src="'+G+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><figure><img src="'+I+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h5 id="ä¸€è‡´æ€§hashç®—æ³•" tabindex="-1"><a class="header-anchor" href="#ä¸€è‡´æ€§hashç®—æ³•"><span>ä¸€è‡´æ€§hashç®—æ³•</span></a></h5><figure><img src="'+j+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><figure><img src="'+H+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h5 id="æšä¸¾åˆ†ç‰‡" tabindex="-1"><a class="header-anchor" href="#æšä¸¾åˆ†ç‰‡"><span>æšä¸¾åˆ†ç‰‡</span></a></h5><figure><img src="'+J+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><figure><img src="'+P+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h5 id="åº”ç”¨æŒ‡å®šç®—æ³•" tabindex="-1"><a class="header-anchor" href="#åº”ç”¨æŒ‡å®šç®—æ³•"><span>åº”ç”¨æŒ‡å®šç®—æ³•</span></a></h5><figure><img src="'+V+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><figure><img src="'+X+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h5 id="å›ºå®šhashç®—æ³•" tabindex="-1"><a class="header-anchor" href="#å›ºå®šhashç®—æ³•"><span>å›ºå®šhashç®—æ³•</span></a></h5><figure><img src="'+Z+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><figure><img src="'+K+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h5 id="å­—ç¬¦ä¸²hashè§£æ" tabindex="-1"><a class="header-anchor" href="#å­—ç¬¦ä¸²hashè§£æ"><span>å­—ç¬¦ä¸²hashè§£æ</span></a></h5><figure><img src="'+U+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><figure><img src="'+Y+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h5 id="æŒ‰å¤©åˆ†ç‰‡" tabindex="-1"><a class="header-anchor" href="#æŒ‰å¤©åˆ†ç‰‡"><span>æŒ‰å¤©åˆ†ç‰‡</span></a></h5><figure><img src="'+$+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><figure><img src="'+ii+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h5 id="æŒ‰è‡ªç„¶æœˆåˆ†ç‰‡" tabindex="-1"><a class="header-anchor" href="#æŒ‰è‡ªç„¶æœˆåˆ†ç‰‡"><span>æŒ‰è‡ªç„¶æœˆåˆ†ç‰‡</span></a></h5><figure><img src="'+si+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><figure><img src="'+ai+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h3 id="mycatç®¡ç†åŠç›‘æ§" tabindex="-1"><a class="header-anchor" href="#mycatç®¡ç†åŠç›‘æ§"><span>Mycatç®¡ç†åŠç›‘æ§</span></a></h3><figure><img src="'+ni+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><figure><img src="'+ei+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h2 id="è¯»å†™åˆ†ç¦»" tabindex="-1"><a class="header-anchor" href="#è¯»å†™åˆ†ç¦»"><span>è¯»å†™åˆ†ç¦»</span></a></h2><figure><img src="'+li+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h3 id="ä»‹ç»-2" tabindex="-1"><a class="header-anchor" href="#ä»‹ç»-2"><span>ä»‹ç»</span></a></h3><figure><img src="'+ti+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h3 id="ä¸€ä¸»ä¸€ä»è¯»å†™åˆ†ç¦»" tabindex="-1"><a class="header-anchor" href="#ä¸€ä¸»ä¸€ä»è¯»å†™åˆ†ç¦»"><span>ä¸€ä¸»ä¸€ä»è¯»å†™åˆ†ç¦»</span></a></h3><figure><img src="'+gi+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><figure><img src="'+pi+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h3 id="åŒä¸»åŒä»" tabindex="-1"><a class="header-anchor" href="#åŒä¸»åŒä»"><span>åŒä¸»åŒä»</span></a></h3><figure><img src="'+hi+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><figure><img src="'+di+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><figure><img src="'+ri+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><figure><img src="'+ci+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><figure><img src="'+ki+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><figure><img src="'+mi+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><figure><img src="'+oi+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>æµ‹è¯•ï¼š</p><p>åˆ†åˆ«åœ¨ä¸¤å°ä¸»åº“Master1ã€Master2ä¸Šæ‰§è¡ŒDDLã€DMLè¯­å¥ï¼ŒæŸ¥çœ‹æ¶‰åŠåˆ°çš„æ•°æ®åº“æœåŠ¡å™¨çš„æ•°æ®åŒæ­¥æƒ…å†µã€‚</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>create database db01;</span></span>\n<span class="line"><span>use db01;</span></span>\n<span class="line"><span>create table tb_user(</span></span>\n<span class="line"><span>\tid in(11)not null primary key,</span></span>\n<span class="line"><span>\tname varchar(50) not null,</span></span>\n<span class="line"><span>\tsex varcahr(1)</span></span>\n<span class="line"><span>)engine=innodb default charset=utf8mb4</span></span>\n<span class="line"><span></span></span>\n<span class="line"><span>insert into tb user(id,name,sex) values(l,&#39;Tom&#39;,&#39;1&#39;);</span></span>\n<span class="line"><span>insert into tb user(id,name,sex) values(2,&#39;Trigger&#39;,&#39;0&#39;);</span></span>\n<span class="line"><span>insert into tb user(id,name,sex) values(3,&#39;Dawn&#39;,&#39;1&#39;);</span></span>\n<span class="line"><span>insert into tb user(id,name,sex) values(4,&quot;ack Ma&#39;,&#39;1&#39;);</span></span>\n<span class="line"><span>insertinto tb user(id,name,sex) values(5,&#39;Coco&#39;,&#39;0&#39;);</span></span>\n<span class="line"><span>insert into tb user(id,name,sex) values(6,&#39;erry&#39;,&#39;1&#39;);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="åŒä¸»åŒä»è¯»å†™åˆ†ç¦»" tabindex="-1"><a class="header-anchor" href="#åŒä¸»åŒä»è¯»å†™åˆ†ç¦»"><span>åŒä¸»åŒä»è¯»å†™åˆ†ç¦»</span></a></h3><figure><img src="'+fi+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><figure><img src="'+bi+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>æµ‹è¯•ï¼š</p><p>ç™»å½•MyCatï¼Œæµ‹è¯•æŸ¥è¯¢åŠæ›´æ–°æ“ä½œï¼Œåˆ¤å®šæ˜¯å¦èƒ½å¤Ÿè¿›è¡Œè¯»å†™åˆ†ç¦»ï¼Œä»¥åŠè¯»å†™åˆ†ç¦»çš„ç­–ç•¥æ˜¯å¦æ­£ç¡®ã€‚</p><p>å½“ä¸»åº“æŒ‚æ‰ä¸€ä¸ªä¹‹åï¼Œæ˜¯å¦èƒ½å¤Ÿè‡ªåŠ¨åˆ‡æ¢ã€‚</p>',153)]))}]]),Ai=JSON.parse('{"path":"/Database/MySQL/%E8%BF%90%E7%BB%B4/%E8%BF%90%E7%BB%B4%E7%AF%87.html","title":"è¿ç»´ç¯‡","lang":"zh-CN","frontmatter":{"icon":"fa-solid fa-database","date":"2025-03-22T00:00:00.000Z","category":["MySQL","æ•°æ®åº“"],"tag":["è®²ä¹‰"],"gitInclude":[]},"headers":[{"level":2,"title":"æ—¥å¿—","slug":"æ—¥å¿—","link":"#æ—¥å¿—","children":[{"level":3,"title":"é”™è¯¯æ—¥å¿—","slug":"é”™è¯¯æ—¥å¿—","link":"#é”™è¯¯æ—¥å¿—","children":[]},{"level":3,"title":"äºŒè¿›åˆ¶æ—¥å¿—","slug":"äºŒè¿›åˆ¶æ—¥å¿—","link":"#äºŒè¿›åˆ¶æ—¥å¿—","children":[]},{"level":3,"title":"æŸ¥è¯¢æ—¥å¿—","slug":"æŸ¥è¯¢æ—¥å¿—","link":"#æŸ¥è¯¢æ—¥å¿—","children":[]},{"level":3,"title":"æ…¢æŸ¥è¯¢æ—¥å¿—","slug":"æ…¢æŸ¥è¯¢æ—¥å¿—","link":"#æ…¢æŸ¥è¯¢æ—¥å¿—","children":[]}]},{"level":2,"title":"ä¸»ä»å¤åˆ¶","slug":"ä¸»ä»å¤åˆ¶","link":"#ä¸»ä»å¤åˆ¶","children":[{"level":3,"title":"åŸç†","slug":"åŸç†","link":"#åŸç†","children":[]},{"level":3,"title":"æ­å»ºå®ç°","slug":"æ­å»ºå®ç°","link":"#æ­å»ºå®ç°","children":[]}]},{"level":2,"title":"åˆ†åº“åˆ†è¡¨","slug":"åˆ†åº“åˆ†è¡¨","link":"#åˆ†åº“åˆ†è¡¨","children":[{"level":3,"title":"ä»‹ç»","slug":"ä»‹ç»-1","link":"#ä»‹ç»-1","children":[]},{"level":3,"title":"Mycatæ¦‚è¿°","slug":"mycatæ¦‚è¿°","link":"#mycatæ¦‚è¿°","children":[]},{"level":3,"title":"Mycatå…¥é—¨","slug":"mycatå…¥é—¨","link":"#mycatå…¥é—¨","children":[]},{"level":3,"title":"Mycaté…ç½®","slug":"mycaté…ç½®","link":"#mycaté…ç½®","children":[]},{"level":3,"title":"Mycatåˆ†ç‰‡","slug":"mycatåˆ†ç‰‡","link":"#mycatåˆ†ç‰‡","children":[]},{"level":3,"title":"Mycatç®¡ç†åŠç›‘æ§","slug":"mycatç®¡ç†åŠç›‘æ§","link":"#mycatç®¡ç†åŠç›‘æ§","children":[]}]},{"level":2,"title":"è¯»å†™åˆ†ç¦»","slug":"è¯»å†™åˆ†ç¦»","link":"#è¯»å†™åˆ†ç¦»","children":[{"level":3,"title":"ä»‹ç»","slug":"ä»‹ç»-2","link":"#ä»‹ç»-2","children":[]},{"level":3,"title":"ä¸€ä¸»ä¸€ä»è¯»å†™åˆ†ç¦»","slug":"ä¸€ä¸»ä¸€ä»è¯»å†™åˆ†ç¦»","link":"#ä¸€ä¸»ä¸€ä»è¯»å†™åˆ†ç¦»","children":[]},{"level":3,"title":"åŒä¸»åŒä»","slug":"åŒä¸»åŒä»","link":"#åŒä¸»åŒä»","children":[]},{"level":3,"title":"åŒä¸»åŒä»è¯»å†™åˆ†ç¦»","slug":"åŒä¸»åŒä»è¯»å†™åˆ†ç¦»","link":"#åŒä¸»åŒä»è¯»å†™åˆ†ç¦»","children":[]}]}],"readingTime":{"minutes":5.79,"words":1737},"filePathRelative":"Database/MySQL/è¿ç»´/è¿ç»´ç¯‡.md","localizedDate":"2025å¹´3æœˆ22æ—¥","excerpt":"\\n<h2>æ—¥å¿—</h2>\\n<h3>é”™è¯¯æ—¥å¿—</h3>\\n<p>é”™è¯¯æ—¥å¿—æ˜¯ MySQL ä¸­æœ€é‡è¦çš„æ—¥å¿—ä¹‹ä¸€ï¼Œå®ƒè®°å½•äº†å½“ mysqld å¯åŠ¨å’Œåœæ­¢æ—¶ï¼Œä»¥åŠæœåŠ¡å™¨åœ¨è¿è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿä»»ä½•ä¸¥é‡é”™è¯¯æ—¶çš„ç›¸å…³ä¿¡æ¯å½“æ•°æ®åº“å‡ºç°ä»»ä½•æ•…éšœå¯¼è‡´æ— æ³•æ­£å¸¸ä½¿ç”¨æ—¶ï¼Œå»ºè®®é¦–å…ˆæŸ¥çœ‹æ­¤æ—¥å¿—ã€‚</p>\\n<p>è¯¥æ—¥å¿—æ˜¯é»˜è®¤å¼€å¯çš„ï¼Œé»˜è®¤å­˜æ”¾ç›®å½• /var/log/ï¼Œé»˜è®¤çš„æ—¥å¿—æ–‡ä»¶åä¸º mysqld.log ã€‚æŸ¥çœ‹æ—¥å¿—ä½ç½®ï¼š</p>\\n<div class=\\"language- line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"\\" data-title=\\"\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code><span class=\\"line\\"><span>show variables like \'%log_error%\'</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div></div></div>"}')}}]);